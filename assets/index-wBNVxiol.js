var gx=t=>{throw TypeError(t)};var $m=(t,e,n)=>e.has(t)||gx("Cannot "+n);var z=(t,e,n)=>($m(t,e,"read from private field"),n?n.call(t):e.get(t)),Pe=(t,e,n)=>e.has(t)?gx("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),pe=(t,e,n,r)=>($m(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Bt=(t,e,n)=>($m(t,e,"access private method"),n);var Nd=(t,e,n,r)=>({set _(s){pe(t,e,s,n)},get _(){return z(t,e,r)}});function RD(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function K1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var G1={exports:{}},up={},Q1={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yu=Symbol.for("react.element"),PD=Symbol.for("react.portal"),kD=Symbol.for("react.fragment"),ND=Symbol.for("react.strict_mode"),DD=Symbol.for("react.profiler"),OD=Symbol.for("react.provider"),MD=Symbol.for("react.context"),VD=Symbol.for("react.forward_ref"),LD=Symbol.for("react.suspense"),jD=Symbol.for("react.memo"),FD=Symbol.for("react.lazy"),yx=Symbol.iterator;function UD(t){return t===null||typeof t!="object"?null:(t=yx&&t[yx]||t["@@iterator"],typeof t=="function"?t:null)}var Y1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X1=Object.assign,J1={};function Nl(t,e,n){this.props=t,this.context=e,this.refs=J1,this.updater=n||Y1}Nl.prototype.isReactComponent={};Nl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Nl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Z1(){}Z1.prototype=Nl.prototype;function Gv(t,e,n){this.props=t,this.context=e,this.refs=J1,this.updater=n||Y1}var Qv=Gv.prototype=new Z1;Qv.constructor=Gv;X1(Qv,Nl.prototype);Qv.isPureReactComponent=!0;var vx=Array.isArray,eb=Object.prototype.hasOwnProperty,Yv={current:null},tb={key:!0,ref:!0,__self:!0,__source:!0};function nb(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)eb.call(e,r)&&!tb.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Yu,type:t,key:i,ref:o,props:s,_owner:Yv.current}}function BD(t,e){return{$$typeof:Yu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Xv(t){return typeof t=="object"&&t!==null&&t.$$typeof===Yu}function $D(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var wx=/\/+/g;function zm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?$D(""+t.key):e.toString(36)}function _h(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Yu:case PD:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+zm(o,0):r,vx(s)?(n="",t!=null&&(n=t.replace(wx,"$&/")+"/"),_h(s,e,n,"",function(c){return c})):s!=null&&(Xv(s)&&(s=BD(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(wx,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",vx(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+zm(i,a);o+=_h(i,e,n,l,s)}else if(l=UD(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+zm(i,a++),o+=_h(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Dd(t,e,n){if(t==null)return t;var r=[],s=0;return _h(t,r,"","",function(i){return e.call(n,i,s++)}),r}function zD(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var cn={current:null},xh={transition:null},qD={ReactCurrentDispatcher:cn,ReactCurrentBatchConfig:xh,ReactCurrentOwner:Yv};function rb(){throw Error("act(...) is not supported in production builds of React.")}_e.Children={map:Dd,forEach:function(t,e,n){Dd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Dd(t,function(){e++}),e},toArray:function(t){return Dd(t,function(e){return e})||[]},only:function(t){if(!Xv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};_e.Component=Nl;_e.Fragment=kD;_e.Profiler=DD;_e.PureComponent=Gv;_e.StrictMode=ND;_e.Suspense=LD;_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qD;_e.act=rb;_e.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=X1({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Yv.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)eb.call(e,l)&&!tb.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Yu,type:t.type,key:s,ref:i,props:r,_owner:o}};_e.createContext=function(t){return t={$$typeof:MD,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:OD,_context:t},t.Consumer=t};_e.createElement=nb;_e.createFactory=function(t){var e=nb.bind(null,t);return e.type=t,e};_e.createRef=function(){return{current:null}};_e.forwardRef=function(t){return{$$typeof:VD,render:t}};_e.isValidElement=Xv;_e.lazy=function(t){return{$$typeof:FD,_payload:{_status:-1,_result:t},_init:zD}};_e.memo=function(t,e){return{$$typeof:jD,type:t,compare:e===void 0?null:e}};_e.startTransition=function(t){var e=xh.transition;xh.transition={};try{t()}finally{xh.transition=e}};_e.unstable_act=rb;_e.useCallback=function(t,e){return cn.current.useCallback(t,e)};_e.useContext=function(t){return cn.current.useContext(t)};_e.useDebugValue=function(){};_e.useDeferredValue=function(t){return cn.current.useDeferredValue(t)};_e.useEffect=function(t,e){return cn.current.useEffect(t,e)};_e.useId=function(){return cn.current.useId()};_e.useImperativeHandle=function(t,e,n){return cn.current.useImperativeHandle(t,e,n)};_e.useInsertionEffect=function(t,e){return cn.current.useInsertionEffect(t,e)};_e.useLayoutEffect=function(t,e){return cn.current.useLayoutEffect(t,e)};_e.useMemo=function(t,e){return cn.current.useMemo(t,e)};_e.useReducer=function(t,e,n){return cn.current.useReducer(t,e,n)};_e.useRef=function(t){return cn.current.useRef(t)};_e.useState=function(t){return cn.current.useState(t)};_e.useSyncExternalStore=function(t,e,n){return cn.current.useSyncExternalStore(t,e,n)};_e.useTransition=function(){return cn.current.useTransition()};_e.version="18.3.1";Q1.exports=_e;var _=Q1.exports;const G=K1(_),sb=RD({__proto__:null,default:G},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HD=_,WD=Symbol.for("react.element"),KD=Symbol.for("react.fragment"),GD=Object.prototype.hasOwnProperty,QD=HD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,YD={key:!0,ref:!0,__self:!0,__source:!0};function ib(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)GD.call(e,r)&&!YD.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:WD,type:t,key:i,ref:o,props:s,_owner:QD.current}}up.Fragment=KD;up.jsx=ib;up.jsxs=ib;G1.exports=up;var h=G1.exports,ob={exports:{}},jn={},ab={exports:{}},lb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,$){var j=U.length;U.push($);e:for(;0<j;){var H=j-1>>>1,X=U[H];if(0<s(X,$))U[H]=$,U[j]=X,j=H;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var $=U[0],j=U.pop();if(j!==$){U[0]=j;e:for(var H=0,X=U.length,ae=X>>>1;H<ae;){var le=2*(H+1)-1,we=U[le],ce=le+1,J=U[ce];if(0>s(we,j))ce<X&&0>s(J,we)?(U[H]=J,U[ce]=j,H=ce):(U[H]=we,U[le]=j,H=le);else if(ce<X&&0>s(J,j))U[H]=J,U[ce]=j,H=ce;else break e}}return $}function s(U,$){var j=U.sortIndex-$.sortIndex;return j!==0?j:U.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,f=null,p=3,m=!1,I=!1,y=!1,T=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(U){for(var $=n(c);$!==null;){if($.callback===null)r(c);else if($.startTime<=U)r(c),$.sortIndex=$.expirationTime,e(l,$);else break;$=n(c)}}function C(U){if(y=!1,w(U),!I)if(n(l)!==null)I=!0,te(D);else{var $=n(c);$!==null&&ie(C,$.startTime-U)}}function D(U,$){I=!1,y&&(y=!1,x(S),S=-1),m=!0;var j=p;try{for(w($),f=n(l);f!==null&&(!(f.expirationTime>$)||U&&!N());){var H=f.callback;if(typeof H=="function"){f.callback=null,p=f.priorityLevel;var X=H(f.expirationTime<=$);$=t.unstable_now(),typeof X=="function"?f.callback=X:f===n(l)&&r(l),w($)}else r(l);f=n(l)}if(f!==null)var ae=!0;else{var le=n(c);le!==null&&ie(C,le.startTime-$),ae=!1}return ae}finally{f=null,p=j,m=!1}}var M=!1,b=null,S=-1,R=5,P=-1;function N(){return!(t.unstable_now()-P<R)}function O(){if(b!==null){var U=t.unstable_now();P=U;var $=!0;try{$=b(!0,U)}finally{$?k():(M=!1,b=null)}}else M=!1}var k;if(typeof v=="function")k=function(){v(O)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,re=q.port2;q.port1.onmessage=O,k=function(){re.postMessage(null)}}else k=function(){T(O,0)};function te(U){b=U,M||(M=!0,k())}function ie(U,$){S=T(function(){U(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){I||m||(I=!0,te(D))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(U){switch(p){case 1:case 2:case 3:var $=3;break;default:$=p}var j=p;p=$;try{return U()}finally{p=j}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,$){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var j=p;p=U;try{return $()}finally{p=j}},t.unstable_scheduleCallback=function(U,$,j){var H=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?H+j:H):j=H,U){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=j+X,U={id:d++,callback:$,priorityLevel:U,startTime:j,expirationTime:X,sortIndex:-1},j>H?(U.sortIndex=j,e(c,U),n(l)===null&&U===n(c)&&(y?(x(S),S=-1):y=!0,ie(C,j-H))):(U.sortIndex=X,e(l,U),I||m||(I=!0,te(D))),U},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(U){var $=p;return function(){var j=p;p=$;try{return U.apply(this,arguments)}finally{p=j}}}})(lb);ab.exports=lb;var XD=ab.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JD=_,Vn=XD;function K(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var cb=new Set,lu={};function Qo(t,e){al(t,e),al(t+"Capture",e)}function al(t,e){for(lu[t]=e,t=0;t<e.length;t++)cb.add(e[t])}var fs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xg=Object.prototype.hasOwnProperty,ZD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_x={},xx={};function eO(t){return Xg.call(xx,t)?!0:Xg.call(_x,t)?!1:ZD.test(t)?xx[t]=!0:(_x[t]=!0,!1)}function tO(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function nO(t,e,n,r){if(e===null||typeof e>"u"||tO(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function un(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Ft={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ft[t]=new un(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ft[e]=new un(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ft[t]=new un(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ft[t]=new un(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ft[t]=new un(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ft[t]=new un(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ft[t]=new un(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ft[t]=new un(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ft[t]=new un(t,5,!1,t.toLowerCase(),null,!1,!1)});var Jv=/[\-:]([a-z])/g;function Zv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Jv,Zv);Ft[e]=new un(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Jv,Zv);Ft[e]=new un(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Jv,Zv);Ft[e]=new un(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ft[t]=new un(t,1,!1,t.toLowerCase(),null,!1,!1)});Ft.xlinkHref=new un("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ft[t]=new un(t,1,!1,t.toLowerCase(),null,!0,!0)});function ew(t,e,n,r){var s=Ft.hasOwnProperty(e)?Ft[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(nO(e,n,s,r)&&(n=null),r||s===null?eO(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Is=JD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Od=Symbol.for("react.element"),Sa=Symbol.for("react.portal"),Ca=Symbol.for("react.fragment"),tw=Symbol.for("react.strict_mode"),Jg=Symbol.for("react.profiler"),ub=Symbol.for("react.provider"),db=Symbol.for("react.context"),nw=Symbol.for("react.forward_ref"),Zg=Symbol.for("react.suspense"),ey=Symbol.for("react.suspense_list"),rw=Symbol.for("react.memo"),Ks=Symbol.for("react.lazy"),hb=Symbol.for("react.offscreen"),Ex=Symbol.iterator;function ac(t){return t===null||typeof t!="object"?null:(t=Ex&&t[Ex]||t["@@iterator"],typeof t=="function"?t:null)}var lt=Object.assign,qm;function Ic(t){if(qm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);qm=e&&e[1]||""}return`
`+qm+t}var Hm=!1;function Wm(t,e){if(!t||Hm)return"";Hm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Hm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ic(t):""}function rO(t){switch(t.tag){case 5:return Ic(t.type);case 16:return Ic("Lazy");case 13:return Ic("Suspense");case 19:return Ic("SuspenseList");case 0:case 2:case 15:return t=Wm(t.type,!1),t;case 11:return t=Wm(t.type.render,!1),t;case 1:return t=Wm(t.type,!0),t;default:return""}}function ty(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ca:return"Fragment";case Sa:return"Portal";case Jg:return"Profiler";case tw:return"StrictMode";case Zg:return"Suspense";case ey:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case db:return(t.displayName||"Context")+".Consumer";case ub:return(t._context.displayName||"Context")+".Provider";case nw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case rw:return e=t.displayName||null,e!==null?e:ty(t.type)||"Memo";case Ks:e=t._payload,t=t._init;try{return ty(t(e))}catch{}}return null}function sO(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ty(e);case 8:return e===tw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ri(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function fb(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function iO(t){var e=fb(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Md(t){t._valueTracker||(t._valueTracker=iO(t))}function pb(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=fb(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function nf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ny(t,e){var n=e.checked;return lt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Tx(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ri(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function mb(t,e){e=e.checked,e!=null&&ew(t,"checked",e,!1)}function ry(t,e){mb(t,e);var n=Ri(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?sy(t,e.type,n):e.hasOwnProperty("defaultValue")&&sy(t,e.type,Ri(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ix(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function sy(t,e,n){(e!=="number"||nf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var bc=Array.isArray;function Fa(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ri(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function iy(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(K(91));return lt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function bx(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(K(92));if(bc(n)){if(1<n.length)throw Error(K(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ri(n)}}function gb(t,e){var n=Ri(e.value),r=Ri(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Sx(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function yb(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?yb(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Vd,vb=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Vd=Vd||document.createElement("div"),Vd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Vd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function cu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Uc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},oO=["Webkit","ms","Moz","O"];Object.keys(Uc).forEach(function(t){oO.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Uc[e]=Uc[t]})});function wb(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Uc.hasOwnProperty(t)&&Uc[t]?(""+e).trim():e+"px"}function _b(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=wb(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var aO=lt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ay(t,e){if(e){if(aO[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(K(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(K(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(K(61))}if(e.style!=null&&typeof e.style!="object")throw Error(K(62))}}function ly(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cy=null;function sw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var uy=null,Ua=null,Ba=null;function Cx(t){if(t=Zu(t)){if(typeof uy!="function")throw Error(K(280));var e=t.stateNode;e&&(e=mp(e),uy(t.stateNode,t.type,e))}}function xb(t){Ua?Ba?Ba.push(t):Ba=[t]:Ua=t}function Eb(){if(Ua){var t=Ua,e=Ba;if(Ba=Ua=null,Cx(t),e)for(t=0;t<e.length;t++)Cx(e[t])}}function Tb(t,e){return t(e)}function Ib(){}var Km=!1;function bb(t,e,n){if(Km)return t(e,n);Km=!0;try{return Tb(t,e,n)}finally{Km=!1,(Ua!==null||Ba!==null)&&(Ib(),Eb())}}function uu(t,e){var n=t.stateNode;if(n===null)return null;var r=mp(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(K(231,e,typeof n));return n}var dy=!1;if(fs)try{var lc={};Object.defineProperty(lc,"passive",{get:function(){dy=!0}}),window.addEventListener("test",lc,lc),window.removeEventListener("test",lc,lc)}catch{dy=!1}function lO(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Bc=!1,rf=null,sf=!1,hy=null,cO={onError:function(t){Bc=!0,rf=t}};function uO(t,e,n,r,s,i,o,a,l){Bc=!1,rf=null,lO.apply(cO,arguments)}function dO(t,e,n,r,s,i,o,a,l){if(uO.apply(this,arguments),Bc){if(Bc){var c=rf;Bc=!1,rf=null}else throw Error(K(198));sf||(sf=!0,hy=c)}}function Yo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Sb(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ax(t){if(Yo(t)!==t)throw Error(K(188))}function hO(t){var e=t.alternate;if(!e){if(e=Yo(t),e===null)throw Error(K(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Ax(s),t;if(i===r)return Ax(s),e;i=i.sibling}throw Error(K(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(K(189))}}if(n.alternate!==r)throw Error(K(190))}if(n.tag!==3)throw Error(K(188));return n.stateNode.current===n?t:e}function Cb(t){return t=hO(t),t!==null?Ab(t):null}function Ab(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Ab(t);if(e!==null)return e;t=t.sibling}return null}var Rb=Vn.unstable_scheduleCallback,Rx=Vn.unstable_cancelCallback,fO=Vn.unstable_shouldYield,pO=Vn.unstable_requestPaint,mt=Vn.unstable_now,mO=Vn.unstable_getCurrentPriorityLevel,iw=Vn.unstable_ImmediatePriority,Pb=Vn.unstable_UserBlockingPriority,of=Vn.unstable_NormalPriority,gO=Vn.unstable_LowPriority,kb=Vn.unstable_IdlePriority,dp=null,Ur=null;function yO(t){if(Ur&&typeof Ur.onCommitFiberRoot=="function")try{Ur.onCommitFiberRoot(dp,t,void 0,(t.current.flags&128)===128)}catch{}}var pr=Math.clz32?Math.clz32:_O,vO=Math.log,wO=Math.LN2;function _O(t){return t>>>=0,t===0?32:31-(vO(t)/wO|0)|0}var Ld=64,jd=4194304;function Sc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function af(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Sc(a):(i&=o,i!==0&&(r=Sc(i)))}else o=n&~s,o!==0?r=Sc(o):i!==0&&(r=Sc(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-pr(e),s=1<<n,r|=t[n],e&=~s;return r}function xO(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function EO(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-pr(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=xO(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function fy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Nb(){var t=Ld;return Ld<<=1,!(Ld&4194240)&&(Ld=64),t}function Gm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Xu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-pr(e),t[e]=n}function TO(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-pr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function ow(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-pr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var je=0;function Db(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ob,aw,Mb,Vb,Lb,py=!1,Fd=[],di=null,hi=null,fi=null,du=new Map,hu=new Map,Qs=[],IO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Px(t,e){switch(t){case"focusin":case"focusout":di=null;break;case"dragenter":case"dragleave":hi=null;break;case"mouseover":case"mouseout":fi=null;break;case"pointerover":case"pointerout":du.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":hu.delete(e.pointerId)}}function cc(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Zu(e),e!==null&&aw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function bO(t,e,n,r,s){switch(e){case"focusin":return di=cc(di,t,e,n,r,s),!0;case"dragenter":return hi=cc(hi,t,e,n,r,s),!0;case"mouseover":return fi=cc(fi,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return du.set(i,cc(du.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,hu.set(i,cc(hu.get(i)||null,t,e,n,r,s)),!0}return!1}function jb(t){var e=uo(t.target);if(e!==null){var n=Yo(e);if(n!==null){if(e=n.tag,e===13){if(e=Sb(n),e!==null){t.blockedOn=e,Lb(t.priority,function(){Mb(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Eh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=my(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);cy=r,n.target.dispatchEvent(r),cy=null}else return e=Zu(n),e!==null&&aw(e),t.blockedOn=n,!1;e.shift()}return!0}function kx(t,e,n){Eh(t)&&n.delete(e)}function SO(){py=!1,di!==null&&Eh(di)&&(di=null),hi!==null&&Eh(hi)&&(hi=null),fi!==null&&Eh(fi)&&(fi=null),du.forEach(kx),hu.forEach(kx)}function uc(t,e){t.blockedOn===e&&(t.blockedOn=null,py||(py=!0,Vn.unstable_scheduleCallback(Vn.unstable_NormalPriority,SO)))}function fu(t){function e(s){return uc(s,t)}if(0<Fd.length){uc(Fd[0],t);for(var n=1;n<Fd.length;n++){var r=Fd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(di!==null&&uc(di,t),hi!==null&&uc(hi,t),fi!==null&&uc(fi,t),du.forEach(e),hu.forEach(e),n=0;n<Qs.length;n++)r=Qs[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Qs.length&&(n=Qs[0],n.blockedOn===null);)jb(n),n.blockedOn===null&&Qs.shift()}var $a=Is.ReactCurrentBatchConfig,lf=!0;function CO(t,e,n,r){var s=je,i=$a.transition;$a.transition=null;try{je=1,lw(t,e,n,r)}finally{je=s,$a.transition=i}}function AO(t,e,n,r){var s=je,i=$a.transition;$a.transition=null;try{je=4,lw(t,e,n,r)}finally{je=s,$a.transition=i}}function lw(t,e,n,r){if(lf){var s=my(t,e,n,r);if(s===null)sg(t,e,r,cf,n),Px(t,r);else if(bO(s,t,e,n,r))r.stopPropagation();else if(Px(t,r),e&4&&-1<IO.indexOf(t)){for(;s!==null;){var i=Zu(s);if(i!==null&&Ob(i),i=my(t,e,n,r),i===null&&sg(t,e,r,cf,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else sg(t,e,r,null,n)}}var cf=null;function my(t,e,n,r){if(cf=null,t=sw(r),t=uo(t),t!==null)if(e=Yo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Sb(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return cf=t,null}function Fb(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mO()){case iw:return 1;case Pb:return 4;case of:case gO:return 16;case kb:return 536870912;default:return 16}default:return 16}}var li=null,cw=null,Th=null;function Ub(){if(Th)return Th;var t,e=cw,n=e.length,r,s="value"in li?li.value:li.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Th=s.slice(t,1<r?1-r:void 0)}function Ih(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ud(){return!0}function Nx(){return!1}function Fn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ud:Nx,this.isPropagationStopped=Nx,this}return lt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ud)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ud)},persist:function(){},isPersistent:Ud}),e}var Dl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uw=Fn(Dl),Ju=lt({},Dl,{view:0,detail:0}),RO=Fn(Ju),Qm,Ym,dc,hp=lt({},Ju,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==dc&&(dc&&t.type==="mousemove"?(Qm=t.screenX-dc.screenX,Ym=t.screenY-dc.screenY):Ym=Qm=0,dc=t),Qm)},movementY:function(t){return"movementY"in t?t.movementY:Ym}}),Dx=Fn(hp),PO=lt({},hp,{dataTransfer:0}),kO=Fn(PO),NO=lt({},Ju,{relatedTarget:0}),Xm=Fn(NO),DO=lt({},Dl,{animationName:0,elapsedTime:0,pseudoElement:0}),OO=Fn(DO),MO=lt({},Dl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),VO=Fn(MO),LO=lt({},Dl,{data:0}),Ox=Fn(LO),jO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},FO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},UO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function BO(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=UO[t])?!!e[t]:!1}function dw(){return BO}var $O=lt({},Ju,{key:function(t){if(t.key){var e=jO[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ih(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?FO[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dw,charCode:function(t){return t.type==="keypress"?Ih(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ih(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),zO=Fn($O),qO=lt({},hp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mx=Fn(qO),HO=lt({},Ju,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dw}),WO=Fn(HO),KO=lt({},Dl,{propertyName:0,elapsedTime:0,pseudoElement:0}),GO=Fn(KO),QO=lt({},hp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),YO=Fn(QO),XO=[9,13,27,32],hw=fs&&"CompositionEvent"in window,$c=null;fs&&"documentMode"in document&&($c=document.documentMode);var JO=fs&&"TextEvent"in window&&!$c,Bb=fs&&(!hw||$c&&8<$c&&11>=$c),Vx=" ",Lx=!1;function $b(t,e){switch(t){case"keyup":return XO.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zb(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Aa=!1;function ZO(t,e){switch(t){case"compositionend":return zb(e);case"keypress":return e.which!==32?null:(Lx=!0,Vx);case"textInput":return t=e.data,t===Vx&&Lx?null:t;default:return null}}function eM(t,e){if(Aa)return t==="compositionend"||!hw&&$b(t,e)?(t=Ub(),Th=cw=li=null,Aa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Bb&&e.locale!=="ko"?null:e.data;default:return null}}var tM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!tM[t.type]:e==="textarea"}function qb(t,e,n,r){xb(r),e=uf(e,"onChange"),0<e.length&&(n=new uw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var zc=null,pu=null;function nM(t){tS(t,0)}function fp(t){var e=ka(t);if(pb(e))return t}function rM(t,e){if(t==="change")return e}var Hb=!1;if(fs){var Jm;if(fs){var Zm="oninput"in document;if(!Zm){var Fx=document.createElement("div");Fx.setAttribute("oninput","return;"),Zm=typeof Fx.oninput=="function"}Jm=Zm}else Jm=!1;Hb=Jm&&(!document.documentMode||9<document.documentMode)}function Ux(){zc&&(zc.detachEvent("onpropertychange",Wb),pu=zc=null)}function Wb(t){if(t.propertyName==="value"&&fp(pu)){var e=[];qb(e,pu,t,sw(t)),bb(nM,e)}}function sM(t,e,n){t==="focusin"?(Ux(),zc=e,pu=n,zc.attachEvent("onpropertychange",Wb)):t==="focusout"&&Ux()}function iM(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fp(pu)}function oM(t,e){if(t==="click")return fp(e)}function aM(t,e){if(t==="input"||t==="change")return fp(e)}function lM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var gr=typeof Object.is=="function"?Object.is:lM;function mu(t,e){if(gr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Xg.call(e,s)||!gr(t[s],e[s]))return!1}return!0}function Bx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $x(t,e){var n=Bx(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Bx(n)}}function Kb(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Kb(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Gb(){for(var t=window,e=nf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=nf(t.document)}return e}function fw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function cM(t){var e=Gb(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Kb(n.ownerDocument.documentElement,n)){if(r!==null&&fw(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=$x(n,i);var o=$x(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var uM=fs&&"documentMode"in document&&11>=document.documentMode,Ra=null,gy=null,qc=null,yy=!1;function zx(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;yy||Ra==null||Ra!==nf(r)||(r=Ra,"selectionStart"in r&&fw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),qc&&mu(qc,r)||(qc=r,r=uf(gy,"onSelect"),0<r.length&&(e=new uw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ra)))}function Bd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Pa={animationend:Bd("Animation","AnimationEnd"),animationiteration:Bd("Animation","AnimationIteration"),animationstart:Bd("Animation","AnimationStart"),transitionend:Bd("Transition","TransitionEnd")},eg={},Qb={};fs&&(Qb=document.createElement("div").style,"AnimationEvent"in window||(delete Pa.animationend.animation,delete Pa.animationiteration.animation,delete Pa.animationstart.animation),"TransitionEvent"in window||delete Pa.transitionend.transition);function pp(t){if(eg[t])return eg[t];if(!Pa[t])return t;var e=Pa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Qb)return eg[t]=e[n];return t}var Yb=pp("animationend"),Xb=pp("animationiteration"),Jb=pp("animationstart"),Zb=pp("transitionend"),eS=new Map,qx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ji(t,e){eS.set(t,e),Qo(e,[t])}for(var tg=0;tg<qx.length;tg++){var ng=qx[tg],dM=ng.toLowerCase(),hM=ng[0].toUpperCase()+ng.slice(1);ji(dM,"on"+hM)}ji(Yb,"onAnimationEnd");ji(Xb,"onAnimationIteration");ji(Jb,"onAnimationStart");ji("dblclick","onDoubleClick");ji("focusin","onFocus");ji("focusout","onBlur");ji(Zb,"onTransitionEnd");al("onMouseEnter",["mouseout","mouseover"]);al("onMouseLeave",["mouseout","mouseover"]);al("onPointerEnter",["pointerout","pointerover"]);al("onPointerLeave",["pointerout","pointerover"]);Qo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fM=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cc));function Hx(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,dO(r,e,void 0,t),t.currentTarget=null}function tS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Hx(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Hx(s,a,c),i=l}}}if(sf)throw t=hy,sf=!1,hy=null,t}function Qe(t,e){var n=e[Ey];n===void 0&&(n=e[Ey]=new Set);var r=t+"__bubble";n.has(r)||(nS(e,t,2,!1),n.add(r))}function rg(t,e,n){var r=0;e&&(r|=4),nS(n,t,r,e)}var $d="_reactListening"+Math.random().toString(36).slice(2);function gu(t){if(!t[$d]){t[$d]=!0,cb.forEach(function(n){n!=="selectionchange"&&(fM.has(n)||rg(n,!1,t),rg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[$d]||(e[$d]=!0,rg("selectionchange",!1,e))}}function nS(t,e,n,r){switch(Fb(e)){case 1:var s=CO;break;case 4:s=AO;break;default:s=lw}n=s.bind(null,e,n,t),s=void 0,!dy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function sg(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=uo(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}bb(function(){var c=i,d=sw(n),f=[];e:{var p=eS.get(t);if(p!==void 0){var m=uw,I=t;switch(t){case"keypress":if(Ih(n)===0)break e;case"keydown":case"keyup":m=zO;break;case"focusin":I="focus",m=Xm;break;case"focusout":I="blur",m=Xm;break;case"beforeblur":case"afterblur":m=Xm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Dx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=kO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=WO;break;case Yb:case Xb:case Jb:m=OO;break;case Zb:m=GO;break;case"scroll":m=RO;break;case"wheel":m=YO;break;case"copy":case"cut":case"paste":m=VO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Mx}var y=(e&4)!==0,T=!y&&t==="scroll",x=y?p!==null?p+"Capture":null:p;y=[];for(var v=c,w;v!==null;){w=v;var C=w.stateNode;if(w.tag===5&&C!==null&&(w=C,x!==null&&(C=uu(v,x),C!=null&&y.push(yu(v,C,w)))),T)break;v=v.return}0<y.length&&(p=new m(p,I,null,n,d),f.push({event:p,listeners:y}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==cy&&(I=n.relatedTarget||n.fromElement)&&(uo(I)||I[ps]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(I=n.relatedTarget||n.toElement,m=c,I=I?uo(I):null,I!==null&&(T=Yo(I),I!==T||I.tag!==5&&I.tag!==6)&&(I=null)):(m=null,I=c),m!==I)){if(y=Dx,C="onMouseLeave",x="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(y=Mx,C="onPointerLeave",x="onPointerEnter",v="pointer"),T=m==null?p:ka(m),w=I==null?p:ka(I),p=new y(C,v+"leave",m,n,d),p.target=T,p.relatedTarget=w,C=null,uo(d)===c&&(y=new y(x,v+"enter",I,n,d),y.target=w,y.relatedTarget=T,C=y),T=C,m&&I)t:{for(y=m,x=I,v=0,w=y;w;w=ua(w))v++;for(w=0,C=x;C;C=ua(C))w++;for(;0<v-w;)y=ua(y),v--;for(;0<w-v;)x=ua(x),w--;for(;v--;){if(y===x||x!==null&&y===x.alternate)break t;y=ua(y),x=ua(x)}y=null}else y=null;m!==null&&Wx(f,p,m,y,!1),I!==null&&T!==null&&Wx(f,T,I,y,!0)}}e:{if(p=c?ka(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var D=rM;else if(jx(p))if(Hb)D=aM;else{D=iM;var M=sM}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(D=oM);if(D&&(D=D(t,c))){qb(f,D,n,d);break e}M&&M(t,p,c),t==="focusout"&&(M=p._wrapperState)&&M.controlled&&p.type==="number"&&sy(p,"number",p.value)}switch(M=c?ka(c):window,t){case"focusin":(jx(M)||M.contentEditable==="true")&&(Ra=M,gy=c,qc=null);break;case"focusout":qc=gy=Ra=null;break;case"mousedown":yy=!0;break;case"contextmenu":case"mouseup":case"dragend":yy=!1,zx(f,n,d);break;case"selectionchange":if(uM)break;case"keydown":case"keyup":zx(f,n,d)}var b;if(hw)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Aa?$b(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(Bb&&n.locale!=="ko"&&(Aa||S!=="onCompositionStart"?S==="onCompositionEnd"&&Aa&&(b=Ub()):(li=d,cw="value"in li?li.value:li.textContent,Aa=!0)),M=uf(c,S),0<M.length&&(S=new Ox(S,t,null,n,d),f.push({event:S,listeners:M}),b?S.data=b:(b=zb(n),b!==null&&(S.data=b)))),(b=JO?ZO(t,n):eM(t,n))&&(c=uf(c,"onBeforeInput"),0<c.length&&(d=new Ox("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=b))}tS(f,e)})}function yu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function uf(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=uu(t,n),i!=null&&r.unshift(yu(t,i,s)),i=uu(t,e),i!=null&&r.push(yu(t,i,s))),t=t.return}return r}function ua(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Wx(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=uu(n,i),l!=null&&o.unshift(yu(n,l,a))):s||(l=uu(n,i),l!=null&&o.push(yu(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var pM=/\r\n?/g,mM=/\u0000|\uFFFD/g;function Kx(t){return(typeof t=="string"?t:""+t).replace(pM,`
`).replace(mM,"")}function zd(t,e,n){if(e=Kx(e),Kx(t)!==e&&n)throw Error(K(425))}function df(){}var vy=null,wy=null;function _y(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var xy=typeof setTimeout=="function"?setTimeout:void 0,gM=typeof clearTimeout=="function"?clearTimeout:void 0,Gx=typeof Promise=="function"?Promise:void 0,yM=typeof queueMicrotask=="function"?queueMicrotask:typeof Gx<"u"?function(t){return Gx.resolve(null).then(t).catch(vM)}:xy;function vM(t){setTimeout(function(){throw t})}function ig(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),fu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);fu(e)}function pi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Qx(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ol=Math.random().toString(36).slice(2),Or="__reactFiber$"+Ol,vu="__reactProps$"+Ol,ps="__reactContainer$"+Ol,Ey="__reactEvents$"+Ol,wM="__reactListeners$"+Ol,_M="__reactHandles$"+Ol;function uo(t){var e=t[Or];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ps]||n[Or]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Qx(t);t!==null;){if(n=t[Or])return n;t=Qx(t)}return e}t=n,n=t.parentNode}return null}function Zu(t){return t=t[Or]||t[ps],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ka(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(K(33))}function mp(t){return t[vu]||null}var Ty=[],Na=-1;function Fi(t){return{current:t}}function Xe(t){0>Na||(t.current=Ty[Na],Ty[Na]=null,Na--)}function qe(t,e){Na++,Ty[Na]=t.current,t.current=e}var Pi={},Yt=Fi(Pi),wn=Fi(!1),Ro=Pi;function ll(t,e){var n=t.type.contextTypes;if(!n)return Pi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function _n(t){return t=t.childContextTypes,t!=null}function hf(){Xe(wn),Xe(Yt)}function Yx(t,e,n){if(Yt.current!==Pi)throw Error(K(168));qe(Yt,e),qe(wn,n)}function rS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(K(108,sO(t)||"Unknown",s));return lt({},n,r)}function ff(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Pi,Ro=Yt.current,qe(Yt,t),qe(wn,wn.current),!0}function Xx(t,e,n){var r=t.stateNode;if(!r)throw Error(K(169));n?(t=rS(t,e,Ro),r.__reactInternalMemoizedMergedChildContext=t,Xe(wn),Xe(Yt),qe(Yt,t)):Xe(wn),qe(wn,n)}var ss=null,gp=!1,og=!1;function sS(t){ss===null?ss=[t]:ss.push(t)}function xM(t){gp=!0,sS(t)}function Ui(){if(!og&&ss!==null){og=!0;var t=0,e=je;try{var n=ss;for(je=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ss=null,gp=!1}catch(s){throw ss!==null&&(ss=ss.slice(t+1)),Rb(iw,Ui),s}finally{je=e,og=!1}}return null}var Da=[],Oa=0,pf=null,mf=0,zn=[],qn=0,Po=null,os=1,as="";function to(t,e){Da[Oa++]=mf,Da[Oa++]=pf,pf=t,mf=e}function iS(t,e,n){zn[qn++]=os,zn[qn++]=as,zn[qn++]=Po,Po=t;var r=os;t=as;var s=32-pr(r)-1;r&=~(1<<s),n+=1;var i=32-pr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,os=1<<32-pr(e)+s|n<<s|r,as=i+t}else os=1<<i|n<<s|r,as=t}function pw(t){t.return!==null&&(to(t,1),iS(t,1,0))}function mw(t){for(;t===pf;)pf=Da[--Oa],Da[Oa]=null,mf=Da[--Oa],Da[Oa]=null;for(;t===Po;)Po=zn[--qn],zn[qn]=null,as=zn[--qn],zn[qn]=null,os=zn[--qn],zn[qn]=null}var Dn=null,Pn=null,Ze=!1,hr=null;function oS(t,e){var n=Kn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Jx(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Dn=t,Pn=pi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Dn=t,Pn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Po!==null?{id:os,overflow:as}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Kn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Dn=t,Pn=null,!0):!1;default:return!1}}function Iy(t){return(t.mode&1)!==0&&(t.flags&128)===0}function by(t){if(Ze){var e=Pn;if(e){var n=e;if(!Jx(t,e)){if(Iy(t))throw Error(K(418));e=pi(n.nextSibling);var r=Dn;e&&Jx(t,e)?oS(r,n):(t.flags=t.flags&-4097|2,Ze=!1,Dn=t)}}else{if(Iy(t))throw Error(K(418));t.flags=t.flags&-4097|2,Ze=!1,Dn=t}}}function Zx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Dn=t}function qd(t){if(t!==Dn)return!1;if(!Ze)return Zx(t),Ze=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!_y(t.type,t.memoizedProps)),e&&(e=Pn)){if(Iy(t))throw aS(),Error(K(418));for(;e;)oS(t,e),e=pi(e.nextSibling)}if(Zx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(K(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Pn=pi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Pn=null}}else Pn=Dn?pi(t.stateNode.nextSibling):null;return!0}function aS(){for(var t=Pn;t;)t=pi(t.nextSibling)}function cl(){Pn=Dn=null,Ze=!1}function gw(t){hr===null?hr=[t]:hr.push(t)}var EM=Is.ReactCurrentBatchConfig;function hc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(K(309));var r=n.stateNode}if(!r)throw Error(K(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(K(284));if(!n._owner)throw Error(K(290,t))}return t}function Hd(t,e){throw t=Object.prototype.toString.call(e),Error(K(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function eE(t){var e=t._init;return e(t._payload)}function lS(t){function e(x,v){if(t){var w=x.deletions;w===null?(x.deletions=[v],x.flags|=16):w.push(v)}}function n(x,v){if(!t)return null;for(;v!==null;)e(x,v),v=v.sibling;return null}function r(x,v){for(x=new Map;v!==null;)v.key!==null?x.set(v.key,v):x.set(v.index,v),v=v.sibling;return x}function s(x,v){return x=vi(x,v),x.index=0,x.sibling=null,x}function i(x,v,w){return x.index=w,t?(w=x.alternate,w!==null?(w=w.index,w<v?(x.flags|=2,v):w):(x.flags|=2,v)):(x.flags|=1048576,v)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,v,w,C){return v===null||v.tag!==6?(v=fg(w,x.mode,C),v.return=x,v):(v=s(v,w),v.return=x,v)}function l(x,v,w,C){var D=w.type;return D===Ca?d(x,v,w.props.children,C,w.key):v!==null&&(v.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Ks&&eE(D)===v.type)?(C=s(v,w.props),C.ref=hc(x,v,w),C.return=x,C):(C=kh(w.type,w.key,w.props,null,x.mode,C),C.ref=hc(x,v,w),C.return=x,C)}function c(x,v,w,C){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=pg(w,x.mode,C),v.return=x,v):(v=s(v,w.children||[]),v.return=x,v)}function d(x,v,w,C,D){return v===null||v.tag!==7?(v=To(w,x.mode,C,D),v.return=x,v):(v=s(v,w),v.return=x,v)}function f(x,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=fg(""+v,x.mode,w),v.return=x,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Od:return w=kh(v.type,v.key,v.props,null,x.mode,w),w.ref=hc(x,null,v),w.return=x,w;case Sa:return v=pg(v,x.mode,w),v.return=x,v;case Ks:var C=v._init;return f(x,C(v._payload),w)}if(bc(v)||ac(v))return v=To(v,x.mode,w,null),v.return=x,v;Hd(x,v)}return null}function p(x,v,w,C){var D=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return D!==null?null:a(x,v,""+w,C);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Od:return w.key===D?l(x,v,w,C):null;case Sa:return w.key===D?c(x,v,w,C):null;case Ks:return D=w._init,p(x,v,D(w._payload),C)}if(bc(w)||ac(w))return D!==null?null:d(x,v,w,C,null);Hd(x,w)}return null}function m(x,v,w,C,D){if(typeof C=="string"&&C!==""||typeof C=="number")return x=x.get(w)||null,a(v,x,""+C,D);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Od:return x=x.get(C.key===null?w:C.key)||null,l(v,x,C,D);case Sa:return x=x.get(C.key===null?w:C.key)||null,c(v,x,C,D);case Ks:var M=C._init;return m(x,v,w,M(C._payload),D)}if(bc(C)||ac(C))return x=x.get(w)||null,d(v,x,C,D,null);Hd(v,C)}return null}function I(x,v,w,C){for(var D=null,M=null,b=v,S=v=0,R=null;b!==null&&S<w.length;S++){b.index>S?(R=b,b=null):R=b.sibling;var P=p(x,b,w[S],C);if(P===null){b===null&&(b=R);break}t&&b&&P.alternate===null&&e(x,b),v=i(P,v,S),M===null?D=P:M.sibling=P,M=P,b=R}if(S===w.length)return n(x,b),Ze&&to(x,S),D;if(b===null){for(;S<w.length;S++)b=f(x,w[S],C),b!==null&&(v=i(b,v,S),M===null?D=b:M.sibling=b,M=b);return Ze&&to(x,S),D}for(b=r(x,b);S<w.length;S++)R=m(b,x,S,w[S],C),R!==null&&(t&&R.alternate!==null&&b.delete(R.key===null?S:R.key),v=i(R,v,S),M===null?D=R:M.sibling=R,M=R);return t&&b.forEach(function(N){return e(x,N)}),Ze&&to(x,S),D}function y(x,v,w,C){var D=ac(w);if(typeof D!="function")throw Error(K(150));if(w=D.call(w),w==null)throw Error(K(151));for(var M=D=null,b=v,S=v=0,R=null,P=w.next();b!==null&&!P.done;S++,P=w.next()){b.index>S?(R=b,b=null):R=b.sibling;var N=p(x,b,P.value,C);if(N===null){b===null&&(b=R);break}t&&b&&N.alternate===null&&e(x,b),v=i(N,v,S),M===null?D=N:M.sibling=N,M=N,b=R}if(P.done)return n(x,b),Ze&&to(x,S),D;if(b===null){for(;!P.done;S++,P=w.next())P=f(x,P.value,C),P!==null&&(v=i(P,v,S),M===null?D=P:M.sibling=P,M=P);return Ze&&to(x,S),D}for(b=r(x,b);!P.done;S++,P=w.next())P=m(b,x,S,P.value,C),P!==null&&(t&&P.alternate!==null&&b.delete(P.key===null?S:P.key),v=i(P,v,S),M===null?D=P:M.sibling=P,M=P);return t&&b.forEach(function(O){return e(x,O)}),Ze&&to(x,S),D}function T(x,v,w,C){if(typeof w=="object"&&w!==null&&w.type===Ca&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Od:e:{for(var D=w.key,M=v;M!==null;){if(M.key===D){if(D=w.type,D===Ca){if(M.tag===7){n(x,M.sibling),v=s(M,w.props.children),v.return=x,x=v;break e}}else if(M.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Ks&&eE(D)===M.type){n(x,M.sibling),v=s(M,w.props),v.ref=hc(x,M,w),v.return=x,x=v;break e}n(x,M);break}else e(x,M);M=M.sibling}w.type===Ca?(v=To(w.props.children,x.mode,C,w.key),v.return=x,x=v):(C=kh(w.type,w.key,w.props,null,x.mode,C),C.ref=hc(x,v,w),C.return=x,x=C)}return o(x);case Sa:e:{for(M=w.key;v!==null;){if(v.key===M)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){n(x,v.sibling),v=s(v,w.children||[]),v.return=x,x=v;break e}else{n(x,v);break}else e(x,v);v=v.sibling}v=pg(w,x.mode,C),v.return=x,x=v}return o(x);case Ks:return M=w._init,T(x,v,M(w._payload),C)}if(bc(w))return I(x,v,w,C);if(ac(w))return y(x,v,w,C);Hd(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(n(x,v.sibling),v=s(v,w),v.return=x,x=v):(n(x,v),v=fg(w,x.mode,C),v.return=x,x=v),o(x)):n(x,v)}return T}var ul=lS(!0),cS=lS(!1),gf=Fi(null),yf=null,Ma=null,yw=null;function vw(){yw=Ma=yf=null}function ww(t){var e=gf.current;Xe(gf),t._currentValue=e}function Sy(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function za(t,e){yf=t,yw=Ma=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(gn=!0),t.firstContext=null)}function Xn(t){var e=t._currentValue;if(yw!==t)if(t={context:t,memoizedValue:e,next:null},Ma===null){if(yf===null)throw Error(K(308));Ma=t,yf.dependencies={lanes:0,firstContext:t}}else Ma=Ma.next=t;return e}var ho=null;function _w(t){ho===null?ho=[t]:ho.push(t)}function uS(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,_w(e)):(n.next=s.next,s.next=n),e.interleaved=n,ms(t,r)}function ms(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Gs=!1;function xw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ds(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function mi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Re&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,ms(t,n)}return s=r.interleaved,s===null?(e.next=e,_w(r)):(e.next=s.next,s.next=e),r.interleaved=e,ms(t,n)}function bh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ow(t,n)}}function tE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function vf(t,e,n,r){var s=t.updateQueue;Gs=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,d=c=l=null,a=i;do{var p=a.lane,m=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var I=t,y=a;switch(p=e,m=n,y.tag){case 1:if(I=y.payload,typeof I=="function"){f=I.call(m,f,p);break e}f=I;break e;case 3:I.flags=I.flags&-65537|128;case 0:if(I=y.payload,p=typeof I=="function"?I.call(m,f,p):I,p==null)break e;f=lt({},f,p);break e;case 2:Gs=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=m,l=f):d=d.next=m,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);No|=o,t.lanes=o,t.memoizedState=f}}function nE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(K(191,s));s.call(r)}}}var ed={},Br=Fi(ed),wu=Fi(ed),_u=Fi(ed);function fo(t){if(t===ed)throw Error(K(174));return t}function Ew(t,e){switch(qe(_u,e),qe(wu,t),qe(Br,ed),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:oy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=oy(e,t)}Xe(Br),qe(Br,e)}function dl(){Xe(Br),Xe(wu),Xe(_u)}function hS(t){fo(_u.current);var e=fo(Br.current),n=oy(e,t.type);e!==n&&(qe(wu,t),qe(Br,n))}function Tw(t){wu.current===t&&(Xe(Br),Xe(wu))}var st=Fi(0);function wf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ag=[];function Iw(){for(var t=0;t<ag.length;t++)ag[t]._workInProgressVersionPrimary=null;ag.length=0}var Sh=Is.ReactCurrentDispatcher,lg=Is.ReactCurrentBatchConfig,ko=0,ot=null,bt=null,Dt=null,_f=!1,Hc=!1,xu=0,TM=0;function $t(){throw Error(K(321))}function bw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!gr(t[n],e[n]))return!1;return!0}function Sw(t,e,n,r,s,i){if(ko=i,ot=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Sh.current=t===null||t.memoizedState===null?CM:AM,t=n(r,s),Hc){i=0;do{if(Hc=!1,xu=0,25<=i)throw Error(K(301));i+=1,Dt=bt=null,e.updateQueue=null,Sh.current=RM,t=n(r,s)}while(Hc)}if(Sh.current=xf,e=bt!==null&&bt.next!==null,ko=0,Dt=bt=ot=null,_f=!1,e)throw Error(K(300));return t}function Cw(){var t=xu!==0;return xu=0,t}function Rr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?ot.memoizedState=Dt=t:Dt=Dt.next=t,Dt}function Jn(){if(bt===null){var t=ot.alternate;t=t!==null?t.memoizedState:null}else t=bt.next;var e=Dt===null?ot.memoizedState:Dt.next;if(e!==null)Dt=e,bt=t;else{if(t===null)throw Error(K(310));bt=t,t={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},Dt===null?ot.memoizedState=Dt=t:Dt=Dt.next=t}return Dt}function Eu(t,e){return typeof e=="function"?e(t):e}function cg(t){var e=Jn(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=bt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((ko&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,ot.lanes|=d,No|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,gr(r,e.memoizedState)||(gn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,ot.lanes|=i,No|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ug(t){var e=Jn(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);gr(i,e.memoizedState)||(gn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function fS(){}function pS(t,e){var n=ot,r=Jn(),s=e(),i=!gr(r.memoizedState,s);if(i&&(r.memoizedState=s,gn=!0),r=r.queue,Aw(yS.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Dt!==null&&Dt.memoizedState.tag&1){if(n.flags|=2048,Tu(9,gS.bind(null,n,r,s,e),void 0,null),Ot===null)throw Error(K(349));ko&30||mS(n,e,s)}return s}function mS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ot.updateQueue,e===null?(e={lastEffect:null,stores:null},ot.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function gS(t,e,n,r){e.value=n,e.getSnapshot=r,vS(e)&&wS(t)}function yS(t,e,n){return n(function(){vS(e)&&wS(t)})}function vS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!gr(t,n)}catch{return!0}}function wS(t){var e=ms(t,1);e!==null&&mr(e,t,1,-1)}function rE(t){var e=Rr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Eu,lastRenderedState:t},e.queue=t,t=t.dispatch=SM.bind(null,ot,t),[e.memoizedState,t]}function Tu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ot.updateQueue,e===null?(e={lastEffect:null,stores:null},ot.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function _S(){return Jn().memoizedState}function Ch(t,e,n,r){var s=Rr();ot.flags|=t,s.memoizedState=Tu(1|e,n,void 0,r===void 0?null:r)}function yp(t,e,n,r){var s=Jn();r=r===void 0?null:r;var i=void 0;if(bt!==null){var o=bt.memoizedState;if(i=o.destroy,r!==null&&bw(r,o.deps)){s.memoizedState=Tu(e,n,i,r);return}}ot.flags|=t,s.memoizedState=Tu(1|e,n,i,r)}function sE(t,e){return Ch(8390656,8,t,e)}function Aw(t,e){return yp(2048,8,t,e)}function xS(t,e){return yp(4,2,t,e)}function ES(t,e){return yp(4,4,t,e)}function TS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function IS(t,e,n){return n=n!=null?n.concat([t]):null,yp(4,4,TS.bind(null,e,t),n)}function Rw(){}function bS(t,e){var n=Jn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&bw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function SS(t,e){var n=Jn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&bw(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function CS(t,e,n){return ko&21?(gr(n,e)||(n=Nb(),ot.lanes|=n,No|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,gn=!0),t.memoizedState=n)}function IM(t,e){var n=je;je=n!==0&&4>n?n:4,t(!0);var r=lg.transition;lg.transition={};try{t(!1),e()}finally{je=n,lg.transition=r}}function AS(){return Jn().memoizedState}function bM(t,e,n){var r=yi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},RS(t))PS(e,n);else if(n=uS(t,e,n,r),n!==null){var s=an();mr(n,t,r,s),kS(n,e,r)}}function SM(t,e,n){var r=yi(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(RS(t))PS(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,gr(a,o)){var l=e.interleaved;l===null?(s.next=s,_w(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=uS(t,e,s,r),n!==null&&(s=an(),mr(n,t,r,s),kS(n,e,r))}}function RS(t){var e=t.alternate;return t===ot||e!==null&&e===ot}function PS(t,e){Hc=_f=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function kS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ow(t,n)}}var xf={readContext:Xn,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useInsertionEffect:$t,useLayoutEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useMutableSource:$t,useSyncExternalStore:$t,useId:$t,unstable_isNewReconciler:!1},CM={readContext:Xn,useCallback:function(t,e){return Rr().memoizedState=[t,e===void 0?null:e],t},useContext:Xn,useEffect:sE,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ch(4194308,4,TS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ch(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ch(4,2,t,e)},useMemo:function(t,e){var n=Rr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Rr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=bM.bind(null,ot,t),[r.memoizedState,t]},useRef:function(t){var e=Rr();return t={current:t},e.memoizedState=t},useState:rE,useDebugValue:Rw,useDeferredValue:function(t){return Rr().memoizedState=t},useTransition:function(){var t=rE(!1),e=t[0];return t=IM.bind(null,t[1]),Rr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ot,s=Rr();if(Ze){if(n===void 0)throw Error(K(407));n=n()}else{if(n=e(),Ot===null)throw Error(K(349));ko&30||mS(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,sE(yS.bind(null,r,i,t),[t]),r.flags|=2048,Tu(9,gS.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Rr(),e=Ot.identifierPrefix;if(Ze){var n=as,r=os;n=(r&~(1<<32-pr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=xu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=TM++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},AM={readContext:Xn,useCallback:bS,useContext:Xn,useEffect:Aw,useImperativeHandle:IS,useInsertionEffect:xS,useLayoutEffect:ES,useMemo:SS,useReducer:cg,useRef:_S,useState:function(){return cg(Eu)},useDebugValue:Rw,useDeferredValue:function(t){var e=Jn();return CS(e,bt.memoizedState,t)},useTransition:function(){var t=cg(Eu)[0],e=Jn().memoizedState;return[t,e]},useMutableSource:fS,useSyncExternalStore:pS,useId:AS,unstable_isNewReconciler:!1},RM={readContext:Xn,useCallback:bS,useContext:Xn,useEffect:Aw,useImperativeHandle:IS,useInsertionEffect:xS,useLayoutEffect:ES,useMemo:SS,useReducer:ug,useRef:_S,useState:function(){return ug(Eu)},useDebugValue:Rw,useDeferredValue:function(t){var e=Jn();return bt===null?e.memoizedState=t:CS(e,bt.memoizedState,t)},useTransition:function(){var t=ug(Eu)[0],e=Jn().memoizedState;return[t,e]},useMutableSource:fS,useSyncExternalStore:pS,useId:AS,unstable_isNewReconciler:!1};function or(t,e){if(t&&t.defaultProps){e=lt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Cy(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:lt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var vp={isMounted:function(t){return(t=t._reactInternals)?Yo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=an(),s=yi(t),i=ds(r,s);i.payload=e,n!=null&&(i.callback=n),e=mi(t,i,s),e!==null&&(mr(e,t,s,r),bh(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=an(),s=yi(t),i=ds(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=mi(t,i,s),e!==null&&(mr(e,t,s,r),bh(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=an(),r=yi(t),s=ds(n,r);s.tag=2,e!=null&&(s.callback=e),e=mi(t,s,r),e!==null&&(mr(e,t,r,n),bh(e,t,r))}};function iE(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!mu(n,r)||!mu(s,i):!0}function NS(t,e,n){var r=!1,s=Pi,i=e.contextType;return typeof i=="object"&&i!==null?i=Xn(i):(s=_n(e)?Ro:Yt.current,r=e.contextTypes,i=(r=r!=null)?ll(t,s):Pi),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=vp,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function oE(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&vp.enqueueReplaceState(e,e.state,null)}function Ay(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},xw(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Xn(i):(i=_n(e)?Ro:Yt.current,s.context=ll(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Cy(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&vp.enqueueReplaceState(s,s.state,null),vf(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function hl(t,e){try{var n="",r=e;do n+=rO(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function dg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ry(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var PM=typeof WeakMap=="function"?WeakMap:Map;function DS(t,e,n){n=ds(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Tf||(Tf=!0,Fy=r),Ry(t,e)},n}function OS(t,e,n){n=ds(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Ry(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ry(t,e),typeof r!="function"&&(gi===null?gi=new Set([this]):gi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function aE(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new PM;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=qM.bind(null,t,e,n),e.then(t,t))}function lE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function cE(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ds(-1,1),e.tag=2,mi(n,e,1))),n.lanes|=1),t)}var kM=Is.ReactCurrentOwner,gn=!1;function nn(t,e,n,r){e.child=t===null?cS(e,null,n,r):ul(e,t.child,n,r)}function uE(t,e,n,r,s){n=n.render;var i=e.ref;return za(e,s),r=Sw(t,e,n,r,i,s),n=Cw(),t!==null&&!gn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,gs(t,e,s)):(Ze&&n&&pw(e),e.flags|=1,nn(t,e,r,s),e.child)}function dE(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Lw(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,MS(t,e,i,r,s)):(t=kh(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:mu,n(o,r)&&t.ref===e.ref)return gs(t,e,s)}return e.flags|=1,t=vi(i,r),t.ref=e.ref,t.return=e,e.child=t}function MS(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(mu(i,r)&&t.ref===e.ref)if(gn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(gn=!0);else return e.lanes=t.lanes,gs(t,e,s)}return Py(t,e,n,r,s)}function VS(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(La,Cn),Cn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,qe(La,Cn),Cn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,qe(La,Cn),Cn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,qe(La,Cn),Cn|=r;return nn(t,e,s,n),e.child}function LS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Py(t,e,n,r,s){var i=_n(n)?Ro:Yt.current;return i=ll(e,i),za(e,s),n=Sw(t,e,n,r,i,s),r=Cw(),t!==null&&!gn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,gs(t,e,s)):(Ze&&r&&pw(e),e.flags|=1,nn(t,e,n,s),e.child)}function hE(t,e,n,r,s){if(_n(n)){var i=!0;ff(e)}else i=!1;if(za(e,s),e.stateNode===null)Ah(t,e),NS(e,n,r),Ay(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Xn(c):(c=_n(n)?Ro:Yt.current,c=ll(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&oE(e,o,r,c),Gs=!1;var p=e.memoizedState;o.state=p,vf(e,r,o,s),l=e.memoizedState,a!==r||p!==l||wn.current||Gs?(typeof d=="function"&&(Cy(e,n,d,r),l=e.memoizedState),(a=Gs||iE(e,n,a,r,p,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,dS(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:or(e.type,a),o.props=c,f=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Xn(l):(l=_n(n)?Ro:Yt.current,l=ll(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&oE(e,o,r,l),Gs=!1,p=e.memoizedState,o.state=p,vf(e,r,o,s);var I=e.memoizedState;a!==f||p!==I||wn.current||Gs?(typeof m=="function"&&(Cy(e,n,m,r),I=e.memoizedState),(c=Gs||iE(e,n,c,r,p,I,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,I,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,I,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=I),o.props=r,o.state=I,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return ky(t,e,n,r,i,s)}function ky(t,e,n,r,s,i){LS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Xx(e,n,!1),gs(t,e,i);r=e.stateNode,kM.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ul(e,t.child,null,i),e.child=ul(e,null,a,i)):nn(t,e,a,i),e.memoizedState=r.state,s&&Xx(e,n,!0),e.child}function jS(t){var e=t.stateNode;e.pendingContext?Yx(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Yx(t,e.context,!1),Ew(t,e.containerInfo)}function fE(t,e,n,r,s){return cl(),gw(s),e.flags|=256,nn(t,e,n,r),e.child}var Ny={dehydrated:null,treeContext:null,retryLane:0};function Dy(t){return{baseLanes:t,cachePool:null,transitions:null}}function FS(t,e,n){var r=e.pendingProps,s=st.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),qe(st,s&1),t===null)return by(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=xp(o,r,0,null),t=To(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Dy(n),e.memoizedState=Ny,t):Pw(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return NM(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=vi(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=vi(a,i):(i=To(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Dy(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Ny,r}return i=t.child,t=i.sibling,r=vi(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Pw(t,e){return e=xp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Wd(t,e,n,r){return r!==null&&gw(r),ul(e,t.child,null,n),t=Pw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function NM(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=dg(Error(K(422))),Wd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=xp({mode:"visible",children:r.children},s,0,null),i=To(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&ul(e,t.child,null,o),e.child.memoizedState=Dy(o),e.memoizedState=Ny,i);if(!(e.mode&1))return Wd(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(K(419)),r=dg(i,r,void 0),Wd(t,e,o,r)}if(a=(o&t.childLanes)!==0,gn||a){if(r=Ot,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ms(t,s),mr(r,t,s,-1))}return Vw(),r=dg(Error(K(421))),Wd(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=HM.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Pn=pi(s.nextSibling),Dn=e,Ze=!0,hr=null,t!==null&&(zn[qn++]=os,zn[qn++]=as,zn[qn++]=Po,os=t.id,as=t.overflow,Po=e),e=Pw(e,r.children),e.flags|=4096,e)}function pE(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Sy(t.return,e,n)}function hg(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function US(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(nn(t,e,r.children,n),r=st.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&pE(t,n,e);else if(t.tag===19)pE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(qe(st,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&wf(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),hg(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&wf(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}hg(e,!0,n,null,i);break;case"together":hg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ah(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function gs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),No|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(K(153));if(e.child!==null){for(t=e.child,n=vi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=vi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function DM(t,e,n){switch(e.tag){case 3:jS(e),cl();break;case 5:hS(e);break;case 1:_n(e.type)&&ff(e);break;case 4:Ew(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;qe(gf,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(qe(st,st.current&1),e.flags|=128,null):n&e.child.childLanes?FS(t,e,n):(qe(st,st.current&1),t=gs(t,e,n),t!==null?t.sibling:null);qe(st,st.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return US(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),qe(st,st.current),r)break;return null;case 22:case 23:return e.lanes=0,VS(t,e,n)}return gs(t,e,n)}var BS,Oy,$S,zS;BS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Oy=function(){};$S=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,fo(Br.current);var i=null;switch(n){case"input":s=ny(t,s),r=ny(t,r),i=[];break;case"select":s=lt({},s,{value:void 0}),r=lt({},r,{value:void 0}),i=[];break;case"textarea":s=iy(t,s),r=iy(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=df)}ay(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(lu.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(lu.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Qe("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};zS=function(t,e,n,r){n!==r&&(e.flags|=4)};function fc(t,e){if(!Ze)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function zt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function OM(t,e,n){var r=e.pendingProps;switch(mw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(e),null;case 1:return _n(e.type)&&hf(),zt(e),null;case 3:return r=e.stateNode,dl(),Xe(wn),Xe(Yt),Iw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(qd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,hr!==null&&($y(hr),hr=null))),Oy(t,e),zt(e),null;case 5:Tw(e);var s=fo(_u.current);if(n=e.type,t!==null&&e.stateNode!=null)$S(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(K(166));return zt(e),null}if(t=fo(Br.current),qd(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Or]=e,r[vu]=i,t=(e.mode&1)!==0,n){case"dialog":Qe("cancel",r),Qe("close",r);break;case"iframe":case"object":case"embed":Qe("load",r);break;case"video":case"audio":for(s=0;s<Cc.length;s++)Qe(Cc[s],r);break;case"source":Qe("error",r);break;case"img":case"image":case"link":Qe("error",r),Qe("load",r);break;case"details":Qe("toggle",r);break;case"input":Tx(r,i),Qe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Qe("invalid",r);break;case"textarea":bx(r,i),Qe("invalid",r)}ay(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&zd(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&zd(r.textContent,a,t),s=["children",""+a]):lu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Qe("scroll",r)}switch(n){case"input":Md(r),Ix(r,i,!0);break;case"textarea":Md(r),Sx(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=df)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=yb(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Or]=e,t[vu]=r,BS(t,e,!1,!1),e.stateNode=t;e:{switch(o=ly(n,r),n){case"dialog":Qe("cancel",t),Qe("close",t),s=r;break;case"iframe":case"object":case"embed":Qe("load",t),s=r;break;case"video":case"audio":for(s=0;s<Cc.length;s++)Qe(Cc[s],t);s=r;break;case"source":Qe("error",t),s=r;break;case"img":case"image":case"link":Qe("error",t),Qe("load",t),s=r;break;case"details":Qe("toggle",t),s=r;break;case"input":Tx(t,r),s=ny(t,r),Qe("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=lt({},r,{value:void 0}),Qe("invalid",t);break;case"textarea":bx(t,r),s=iy(t,r),Qe("invalid",t);break;default:s=r}ay(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?_b(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&vb(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&cu(t,l):typeof l=="number"&&cu(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(lu.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Qe("scroll",t):l!=null&&ew(t,i,l,o))}switch(n){case"input":Md(t),Ix(t,r,!1);break;case"textarea":Md(t),Sx(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ri(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Fa(t,!!r.multiple,i,!1):r.defaultValue!=null&&Fa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=df)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return zt(e),null;case 6:if(t&&e.stateNode!=null)zS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(K(166));if(n=fo(_u.current),fo(Br.current),qd(e)){if(r=e.stateNode,n=e.memoizedProps,r[Or]=e,(i=r.nodeValue!==n)&&(t=Dn,t!==null))switch(t.tag){case 3:zd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&zd(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Or]=e,e.stateNode=r}return zt(e),null;case 13:if(Xe(st),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ze&&Pn!==null&&e.mode&1&&!(e.flags&128))aS(),cl(),e.flags|=98560,i=!1;else if(i=qd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(K(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(K(317));i[Or]=e}else cl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;zt(e),i=!1}else hr!==null&&($y(hr),hr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||st.current&1?St===0&&(St=3):Vw())),e.updateQueue!==null&&(e.flags|=4),zt(e),null);case 4:return dl(),Oy(t,e),t===null&&gu(e.stateNode.containerInfo),zt(e),null;case 10:return ww(e.type._context),zt(e),null;case 17:return _n(e.type)&&hf(),zt(e),null;case 19:if(Xe(st),i=e.memoizedState,i===null)return zt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)fc(i,!1);else{if(St!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=wf(t),o!==null){for(e.flags|=128,fc(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return qe(st,st.current&1|2),e.child}t=t.sibling}i.tail!==null&&mt()>fl&&(e.flags|=128,r=!0,fc(i,!1),e.lanes=4194304)}else{if(!r)if(t=wf(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),fc(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ze)return zt(e),null}else 2*mt()-i.renderingStartTime>fl&&n!==1073741824&&(e.flags|=128,r=!0,fc(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=mt(),e.sibling=null,n=st.current,qe(st,r?n&1|2:n&1),e):(zt(e),null);case 22:case 23:return Mw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Cn&1073741824&&(zt(e),e.subtreeFlags&6&&(e.flags|=8192)):zt(e),null;case 24:return null;case 25:return null}throw Error(K(156,e.tag))}function MM(t,e){switch(mw(e),e.tag){case 1:return _n(e.type)&&hf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return dl(),Xe(wn),Xe(Yt),Iw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Tw(e),null;case 13:if(Xe(st),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(K(340));cl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Xe(st),null;case 4:return dl(),null;case 10:return ww(e.type._context),null;case 22:case 23:return Mw(),null;case 24:return null;default:return null}}var Kd=!1,Kt=!1,VM=typeof WeakSet=="function"?WeakSet:Set,ee=null;function Va(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){dt(t,e,r)}else n.current=null}function My(t,e,n){try{n()}catch(r){dt(t,e,r)}}var mE=!1;function LM(t,e){if(vy=lf,t=Gb(),fw(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,f=t,p=null;t:for(;;){for(var m;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===t)break t;if(p===n&&++c===s&&(a=o),p===i&&++d===r&&(l=o),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(wy={focusedElem:t,selectionRange:n},lf=!1,ee=e;ee!==null;)if(e=ee,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ee=t;else for(;ee!==null;){e=ee;try{var I=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(I!==null){var y=I.memoizedProps,T=I.memoizedState,x=e.stateNode,v=x.getSnapshotBeforeUpdate(e.elementType===e.type?y:or(e.type,y),T);x.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(C){dt(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,ee=t;break}ee=e.return}return I=mE,mE=!1,I}function Wc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&My(e,n,i)}s=s.next}while(s!==r)}}function wp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Vy(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function qS(t){var e=t.alternate;e!==null&&(t.alternate=null,qS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Or],delete e[vu],delete e[Ey],delete e[wM],delete e[_M])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function HS(t){return t.tag===5||t.tag===3||t.tag===4}function gE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||HS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ly(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=df));else if(r!==4&&(t=t.child,t!==null))for(Ly(t,e,n),t=t.sibling;t!==null;)Ly(t,e,n),t=t.sibling}function jy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(jy(t,e,n),t=t.sibling;t!==null;)jy(t,e,n),t=t.sibling}var Mt=null,ur=!1;function Ls(t,e,n){for(n=n.child;n!==null;)WS(t,e,n),n=n.sibling}function WS(t,e,n){if(Ur&&typeof Ur.onCommitFiberUnmount=="function")try{Ur.onCommitFiberUnmount(dp,n)}catch{}switch(n.tag){case 5:Kt||Va(n,e);case 6:var r=Mt,s=ur;Mt=null,Ls(t,e,n),Mt=r,ur=s,Mt!==null&&(ur?(t=Mt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Mt.removeChild(n.stateNode));break;case 18:Mt!==null&&(ur?(t=Mt,n=n.stateNode,t.nodeType===8?ig(t.parentNode,n):t.nodeType===1&&ig(t,n),fu(t)):ig(Mt,n.stateNode));break;case 4:r=Mt,s=ur,Mt=n.stateNode.containerInfo,ur=!0,Ls(t,e,n),Mt=r,ur=s;break;case 0:case 11:case 14:case 15:if(!Kt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&My(n,e,o),s=s.next}while(s!==r)}Ls(t,e,n);break;case 1:if(!Kt&&(Va(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){dt(n,e,a)}Ls(t,e,n);break;case 21:Ls(t,e,n);break;case 22:n.mode&1?(Kt=(r=Kt)||n.memoizedState!==null,Ls(t,e,n),Kt=r):Ls(t,e,n);break;default:Ls(t,e,n)}}function yE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new VM),e.forEach(function(r){var s=WM.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function rr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Mt=a.stateNode,ur=!1;break e;case 3:Mt=a.stateNode.containerInfo,ur=!0;break e;case 4:Mt=a.stateNode.containerInfo,ur=!0;break e}a=a.return}if(Mt===null)throw Error(K(160));WS(i,o,s),Mt=null,ur=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){dt(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)KS(e,t),e=e.sibling}function KS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(rr(e,t),Ar(t),r&4){try{Wc(3,t,t.return),wp(3,t)}catch(y){dt(t,t.return,y)}try{Wc(5,t,t.return)}catch(y){dt(t,t.return,y)}}break;case 1:rr(e,t),Ar(t),r&512&&n!==null&&Va(n,n.return);break;case 5:if(rr(e,t),Ar(t),r&512&&n!==null&&Va(n,n.return),t.flags&32){var s=t.stateNode;try{cu(s,"")}catch(y){dt(t,t.return,y)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&mb(s,i),ly(a,o);var c=ly(a,i);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?_b(s,f):d==="dangerouslySetInnerHTML"?vb(s,f):d==="children"?cu(s,f):ew(s,d,f,c)}switch(a){case"input":ry(s,i);break;case"textarea":gb(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Fa(s,!!i.multiple,m,!1):p!==!!i.multiple&&(i.defaultValue!=null?Fa(s,!!i.multiple,i.defaultValue,!0):Fa(s,!!i.multiple,i.multiple?[]:"",!1))}s[vu]=i}catch(y){dt(t,t.return,y)}}break;case 6:if(rr(e,t),Ar(t),r&4){if(t.stateNode===null)throw Error(K(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){dt(t,t.return,y)}}break;case 3:if(rr(e,t),Ar(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{fu(e.containerInfo)}catch(y){dt(t,t.return,y)}break;case 4:rr(e,t),Ar(t);break;case 13:rr(e,t),Ar(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Dw=mt())),r&4&&yE(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Kt=(c=Kt)||d,rr(e,t),Kt=c):rr(e,t),Ar(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(ee=t,d=t.child;d!==null;){for(f=ee=d;ee!==null;){switch(p=ee,m=p.child,p.tag){case 0:case 11:case 14:case 15:Wc(4,p,p.return);break;case 1:Va(p,p.return);var I=p.stateNode;if(typeof I.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,I.props=e.memoizedProps,I.state=e.memoizedState,I.componentWillUnmount()}catch(y){dt(r,n,y)}}break;case 5:Va(p,p.return);break;case 22:if(p.memoizedState!==null){wE(f);continue}}m!==null?(m.return=p,ee=m):wE(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=wb("display",o))}catch(y){dt(t,t.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(y){dt(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:rr(e,t),Ar(t),r&4&&yE(t);break;case 21:break;default:rr(e,t),Ar(t)}}function Ar(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(HS(n)){var r=n;break e}n=n.return}throw Error(K(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(cu(s,""),r.flags&=-33);var i=gE(t);jy(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=gE(t);Ly(t,a,o);break;default:throw Error(K(161))}}catch(l){dt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function jM(t,e,n){ee=t,GS(t)}function GS(t,e,n){for(var r=(t.mode&1)!==0;ee!==null;){var s=ee,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Kd;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Kt;a=Kd;var c=Kt;if(Kd=o,(Kt=l)&&!c)for(ee=s;ee!==null;)o=ee,l=o.child,o.tag===22&&o.memoizedState!==null?_E(s):l!==null?(l.return=o,ee=l):_E(s);for(;i!==null;)ee=i,GS(i),i=i.sibling;ee=s,Kd=a,Kt=c}vE(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ee=i):vE(t)}}function vE(t){for(;ee!==null;){var e=ee;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Kt||wp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Kt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:or(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&nE(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}nE(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&fu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}Kt||e.flags&512&&Vy(e)}catch(p){dt(e,e.return,p)}}if(e===t){ee=null;break}if(n=e.sibling,n!==null){n.return=e.return,ee=n;break}ee=e.return}}function wE(t){for(;ee!==null;){var e=ee;if(e===t){ee=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ee=n;break}ee=e.return}}function _E(t){for(;ee!==null;){var e=ee;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{wp(4,e)}catch(l){dt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){dt(e,s,l)}}var i=e.return;try{Vy(e)}catch(l){dt(e,i,l)}break;case 5:var o=e.return;try{Vy(e)}catch(l){dt(e,o,l)}}}catch(l){dt(e,e.return,l)}if(e===t){ee=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ee=a;break}ee=e.return}}var FM=Math.ceil,Ef=Is.ReactCurrentDispatcher,kw=Is.ReactCurrentOwner,Qn=Is.ReactCurrentBatchConfig,Re=0,Ot=null,vt=null,jt=0,Cn=0,La=Fi(0),St=0,Iu=null,No=0,_p=0,Nw=0,Kc=null,mn=null,Dw=0,fl=1/0,rs=null,Tf=!1,Fy=null,gi=null,Gd=!1,ci=null,If=0,Gc=0,Uy=null,Rh=-1,Ph=0;function an(){return Re&6?mt():Rh!==-1?Rh:Rh=mt()}function yi(t){return t.mode&1?Re&2&&jt!==0?jt&-jt:EM.transition!==null?(Ph===0&&(Ph=Nb()),Ph):(t=je,t!==0||(t=window.event,t=t===void 0?16:Fb(t.type)),t):1}function mr(t,e,n,r){if(50<Gc)throw Gc=0,Uy=null,Error(K(185));Xu(t,n,r),(!(Re&2)||t!==Ot)&&(t===Ot&&(!(Re&2)&&(_p|=n),St===4&&Ys(t,jt)),xn(t,r),n===1&&Re===0&&!(e.mode&1)&&(fl=mt()+500,gp&&Ui()))}function xn(t,e){var n=t.callbackNode;EO(t,e);var r=af(t,t===Ot?jt:0);if(r===0)n!==null&&Rx(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Rx(n),e===1)t.tag===0?xM(xE.bind(null,t)):sS(xE.bind(null,t)),yM(function(){!(Re&6)&&Ui()}),n=null;else{switch(Db(r)){case 1:n=iw;break;case 4:n=Pb;break;case 16:n=of;break;case 536870912:n=kb;break;default:n=of}n=nC(n,QS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function QS(t,e){if(Rh=-1,Ph=0,Re&6)throw Error(K(327));var n=t.callbackNode;if(qa()&&t.callbackNode!==n)return null;var r=af(t,t===Ot?jt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=bf(t,r);else{e=r;var s=Re;Re|=2;var i=XS();(Ot!==t||jt!==e)&&(rs=null,fl=mt()+500,Eo(t,e));do try{$M();break}catch(a){YS(t,a)}while(!0);vw(),Ef.current=i,Re=s,vt!==null?e=0:(Ot=null,jt=0,e=St)}if(e!==0){if(e===2&&(s=fy(t),s!==0&&(r=s,e=By(t,s))),e===1)throw n=Iu,Eo(t,0),Ys(t,r),xn(t,mt()),n;if(e===6)Ys(t,r);else{if(s=t.current.alternate,!(r&30)&&!UM(s)&&(e=bf(t,r),e===2&&(i=fy(t),i!==0&&(r=i,e=By(t,i))),e===1))throw n=Iu,Eo(t,0),Ys(t,r),xn(t,mt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(K(345));case 2:no(t,mn,rs);break;case 3:if(Ys(t,r),(r&130023424)===r&&(e=Dw+500-mt(),10<e)){if(af(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){an(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=xy(no.bind(null,t,mn,rs),e);break}no(t,mn,rs);break;case 4:if(Ys(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-pr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=mt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*FM(r/1960))-r,10<r){t.timeoutHandle=xy(no.bind(null,t,mn,rs),r);break}no(t,mn,rs);break;case 5:no(t,mn,rs);break;default:throw Error(K(329))}}}return xn(t,mt()),t.callbackNode===n?QS.bind(null,t):null}function By(t,e){var n=Kc;return t.current.memoizedState.isDehydrated&&(Eo(t,e).flags|=256),t=bf(t,e),t!==2&&(e=mn,mn=n,e!==null&&$y(e)),t}function $y(t){mn===null?mn=t:mn.push.apply(mn,t)}function UM(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!gr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ys(t,e){for(e&=~Nw,e&=~_p,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-pr(e),r=1<<n;t[n]=-1,e&=~r}}function xE(t){if(Re&6)throw Error(K(327));qa();var e=af(t,0);if(!(e&1))return xn(t,mt()),null;var n=bf(t,e);if(t.tag!==0&&n===2){var r=fy(t);r!==0&&(e=r,n=By(t,r))}if(n===1)throw n=Iu,Eo(t,0),Ys(t,e),xn(t,mt()),n;if(n===6)throw Error(K(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,no(t,mn,rs),xn(t,mt()),null}function Ow(t,e){var n=Re;Re|=1;try{return t(e)}finally{Re=n,Re===0&&(fl=mt()+500,gp&&Ui())}}function Do(t){ci!==null&&ci.tag===0&&!(Re&6)&&qa();var e=Re;Re|=1;var n=Qn.transition,r=je;try{if(Qn.transition=null,je=1,t)return t()}finally{je=r,Qn.transition=n,Re=e,!(Re&6)&&Ui()}}function Mw(){Cn=La.current,Xe(La)}function Eo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,gM(n)),vt!==null)for(n=vt.return;n!==null;){var r=n;switch(mw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&hf();break;case 3:dl(),Xe(wn),Xe(Yt),Iw();break;case 5:Tw(r);break;case 4:dl();break;case 13:Xe(st);break;case 19:Xe(st);break;case 10:ww(r.type._context);break;case 22:case 23:Mw()}n=n.return}if(Ot=t,vt=t=vi(t.current,null),jt=Cn=e,St=0,Iu=null,Nw=_p=No=0,mn=Kc=null,ho!==null){for(e=0;e<ho.length;e++)if(n=ho[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}ho=null}return t}function YS(t,e){do{var n=vt;try{if(vw(),Sh.current=xf,_f){for(var r=ot.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}_f=!1}if(ko=0,Dt=bt=ot=null,Hc=!1,xu=0,kw.current=null,n===null||n.return===null){St=1,Iu=e,vt=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=jt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=lE(o);if(m!==null){m.flags&=-257,cE(m,o,a,i,e),m.mode&1&&aE(i,c,e),e=m,l=c;var I=e.updateQueue;if(I===null){var y=new Set;y.add(l),e.updateQueue=y}else I.add(l);break e}else{if(!(e&1)){aE(i,c,e),Vw();break e}l=Error(K(426))}}else if(Ze&&a.mode&1){var T=lE(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),cE(T,o,a,i,e),gw(hl(l,a));break e}}i=l=hl(l,a),St!==4&&(St=2),Kc===null?Kc=[i]:Kc.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var x=DS(i,l,e);tE(i,x);break e;case 1:a=l;var v=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(gi===null||!gi.has(w)))){i.flags|=65536,e&=-e,i.lanes|=e;var C=OS(i,a,e);tE(i,C);break e}}i=i.return}while(i!==null)}ZS(n)}catch(D){e=D,vt===n&&n!==null&&(vt=n=n.return);continue}break}while(!0)}function XS(){var t=Ef.current;return Ef.current=xf,t===null?xf:t}function Vw(){(St===0||St===3||St===2)&&(St=4),Ot===null||!(No&268435455)&&!(_p&268435455)||Ys(Ot,jt)}function bf(t,e){var n=Re;Re|=2;var r=XS();(Ot!==t||jt!==e)&&(rs=null,Eo(t,e));do try{BM();break}catch(s){YS(t,s)}while(!0);if(vw(),Re=n,Ef.current=r,vt!==null)throw Error(K(261));return Ot=null,jt=0,St}function BM(){for(;vt!==null;)JS(vt)}function $M(){for(;vt!==null&&!fO();)JS(vt)}function JS(t){var e=tC(t.alternate,t,Cn);t.memoizedProps=t.pendingProps,e===null?ZS(t):vt=e,kw.current=null}function ZS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=MM(n,e),n!==null){n.flags&=32767,vt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{St=6,vt=null;return}}else if(n=OM(n,e,Cn),n!==null){vt=n;return}if(e=e.sibling,e!==null){vt=e;return}vt=e=t}while(e!==null);St===0&&(St=5)}function no(t,e,n){var r=je,s=Qn.transition;try{Qn.transition=null,je=1,zM(t,e,n,r)}finally{Qn.transition=s,je=r}return null}function zM(t,e,n,r){do qa();while(ci!==null);if(Re&6)throw Error(K(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(K(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(TO(t,i),t===Ot&&(vt=Ot=null,jt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Gd||(Gd=!0,nC(of,function(){return qa(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Qn.transition,Qn.transition=null;var o=je;je=1;var a=Re;Re|=4,kw.current=null,LM(t,n),KS(n,t),cM(wy),lf=!!vy,wy=vy=null,t.current=n,jM(n),pO(),Re=a,je=o,Qn.transition=i}else t.current=n;if(Gd&&(Gd=!1,ci=t,If=s),i=t.pendingLanes,i===0&&(gi=null),yO(n.stateNode),xn(t,mt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Tf)throw Tf=!1,t=Fy,Fy=null,t;return If&1&&t.tag!==0&&qa(),i=t.pendingLanes,i&1?t===Uy?Gc++:(Gc=0,Uy=t):Gc=0,Ui(),null}function qa(){if(ci!==null){var t=Db(If),e=Qn.transition,n=je;try{if(Qn.transition=null,je=16>t?16:t,ci===null)var r=!1;else{if(t=ci,ci=null,If=0,Re&6)throw Error(K(331));var s=Re;for(Re|=4,ee=t.current;ee!==null;){var i=ee,o=i.child;if(ee.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ee=c;ee!==null;){var d=ee;switch(d.tag){case 0:case 11:case 15:Wc(8,d,i)}var f=d.child;if(f!==null)f.return=d,ee=f;else for(;ee!==null;){d=ee;var p=d.sibling,m=d.return;if(qS(d),d===c){ee=null;break}if(p!==null){p.return=m,ee=p;break}ee=m}}}var I=i.alternate;if(I!==null){var y=I.child;if(y!==null){I.child=null;do{var T=y.sibling;y.sibling=null,y=T}while(y!==null)}}ee=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ee=o;else e:for(;ee!==null;){if(i=ee,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Wc(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,ee=x;break e}ee=i.return}}var v=t.current;for(ee=v;ee!==null;){o=ee;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,ee=w;else e:for(o=v;ee!==null;){if(a=ee,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:wp(9,a)}}catch(D){dt(a,a.return,D)}if(a===o){ee=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,ee=C;break e}ee=a.return}}if(Re=s,Ui(),Ur&&typeof Ur.onPostCommitFiberRoot=="function")try{Ur.onPostCommitFiberRoot(dp,t)}catch{}r=!0}return r}finally{je=n,Qn.transition=e}}return!1}function EE(t,e,n){e=hl(n,e),e=DS(t,e,1),t=mi(t,e,1),e=an(),t!==null&&(Xu(t,1,e),xn(t,e))}function dt(t,e,n){if(t.tag===3)EE(t,t,n);else for(;e!==null;){if(e.tag===3){EE(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(gi===null||!gi.has(r))){t=hl(n,t),t=OS(e,t,1),e=mi(e,t,1),t=an(),e!==null&&(Xu(e,1,t),xn(e,t));break}}e=e.return}}function qM(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=an(),t.pingedLanes|=t.suspendedLanes&n,Ot===t&&(jt&n)===n&&(St===4||St===3&&(jt&130023424)===jt&&500>mt()-Dw?Eo(t,0):Nw|=n),xn(t,e)}function eC(t,e){e===0&&(t.mode&1?(e=jd,jd<<=1,!(jd&130023424)&&(jd=4194304)):e=1);var n=an();t=ms(t,e),t!==null&&(Xu(t,e,n),xn(t,n))}function HM(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),eC(t,n)}function WM(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(K(314))}r!==null&&r.delete(e),eC(t,n)}var tC;tC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||wn.current)gn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return gn=!1,DM(t,e,n);gn=!!(t.flags&131072)}else gn=!1,Ze&&e.flags&1048576&&iS(e,mf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ah(t,e),t=e.pendingProps;var s=ll(e,Yt.current);za(e,n),s=Sw(null,e,r,t,s,n);var i=Cw();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,_n(r)?(i=!0,ff(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,xw(e),s.updater=vp,e.stateNode=s,s._reactInternals=e,Ay(e,r,t,n),e=ky(null,e,r,!0,i,n)):(e.tag=0,Ze&&i&&pw(e),nn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ah(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=GM(r),t=or(r,t),s){case 0:e=Py(null,e,r,t,n);break e;case 1:e=hE(null,e,r,t,n);break e;case 11:e=uE(null,e,r,t,n);break e;case 14:e=dE(null,e,r,or(r.type,t),n);break e}throw Error(K(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:or(r,s),Py(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:or(r,s),hE(t,e,r,s,n);case 3:e:{if(jS(e),t===null)throw Error(K(387));r=e.pendingProps,i=e.memoizedState,s=i.element,dS(t,e),vf(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=hl(Error(K(423)),e),e=fE(t,e,r,n,s);break e}else if(r!==s){s=hl(Error(K(424)),e),e=fE(t,e,r,n,s);break e}else for(Pn=pi(e.stateNode.containerInfo.firstChild),Dn=e,Ze=!0,hr=null,n=cS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(cl(),r===s){e=gs(t,e,n);break e}nn(t,e,r,n)}e=e.child}return e;case 5:return hS(e),t===null&&by(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,_y(r,s)?o=null:i!==null&&_y(r,i)&&(e.flags|=32),LS(t,e),nn(t,e,o,n),e.child;case 6:return t===null&&by(e),null;case 13:return FS(t,e,n);case 4:return Ew(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ul(e,null,r,n):nn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:or(r,s),uE(t,e,r,s,n);case 7:return nn(t,e,e.pendingProps,n),e.child;case 8:return nn(t,e,e.pendingProps.children,n),e.child;case 12:return nn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,qe(gf,r._currentValue),r._currentValue=o,i!==null)if(gr(i.value,o)){if(i.children===s.children&&!wn.current){e=gs(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=ds(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Sy(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(K(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Sy(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}nn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,za(e,n),s=Xn(s),r=r(s),e.flags|=1,nn(t,e,r,n),e.child;case 14:return r=e.type,s=or(r,e.pendingProps),s=or(r.type,s),dE(t,e,r,s,n);case 15:return MS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:or(r,s),Ah(t,e),e.tag=1,_n(r)?(t=!0,ff(e)):t=!1,za(e,n),NS(e,r,s),Ay(e,r,s,n),ky(null,e,r,!0,t,n);case 19:return US(t,e,n);case 22:return VS(t,e,n)}throw Error(K(156,e.tag))};function nC(t,e){return Rb(t,e)}function KM(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(t,e,n,r){return new KM(t,e,n,r)}function Lw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function GM(t){if(typeof t=="function")return Lw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===nw)return 11;if(t===rw)return 14}return 2}function vi(t,e){var n=t.alternate;return n===null?(n=Kn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function kh(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Lw(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ca:return To(n.children,s,i,e);case tw:o=8,s|=8;break;case Jg:return t=Kn(12,n,e,s|2),t.elementType=Jg,t.lanes=i,t;case Zg:return t=Kn(13,n,e,s),t.elementType=Zg,t.lanes=i,t;case ey:return t=Kn(19,n,e,s),t.elementType=ey,t.lanes=i,t;case hb:return xp(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ub:o=10;break e;case db:o=9;break e;case nw:o=11;break e;case rw:o=14;break e;case Ks:o=16,r=null;break e}throw Error(K(130,t==null?t:typeof t,""))}return e=Kn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function To(t,e,n,r){return t=Kn(7,t,r,e),t.lanes=n,t}function xp(t,e,n,r){return t=Kn(22,t,r,e),t.elementType=hb,t.lanes=n,t.stateNode={isHidden:!1},t}function fg(t,e,n){return t=Kn(6,t,null,e),t.lanes=n,t}function pg(t,e,n){return e=Kn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function QM(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gm(0),this.expirationTimes=Gm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gm(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function jw(t,e,n,r,s,i,o,a,l){return t=new QM(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Kn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},xw(i),t}function YM(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Sa,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function rC(t){if(!t)return Pi;t=t._reactInternals;e:{if(Yo(t)!==t||t.tag!==1)throw Error(K(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(_n(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(K(171))}if(t.tag===1){var n=t.type;if(_n(n))return rS(t,n,e)}return e}function sC(t,e,n,r,s,i,o,a,l){return t=jw(n,r,!0,t,s,i,o,a,l),t.context=rC(null),n=t.current,r=an(),s=yi(n),i=ds(r,s),i.callback=e??null,mi(n,i,s),t.current.lanes=s,Xu(t,s,r),xn(t,r),t}function Ep(t,e,n,r){var s=e.current,i=an(),o=yi(s);return n=rC(n),e.context===null?e.context=n:e.pendingContext=n,e=ds(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=mi(s,e,o),t!==null&&(mr(t,s,o,i),bh(t,s,o)),o}function Sf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function TE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Fw(t,e){TE(t,e),(t=t.alternate)&&TE(t,e)}function XM(){return null}var iC=typeof reportError=="function"?reportError:function(t){console.error(t)};function Uw(t){this._internalRoot=t}Tp.prototype.render=Uw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(K(409));Ep(t,e,null,null)};Tp.prototype.unmount=Uw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Do(function(){Ep(null,t,null,null)}),e[ps]=null}};function Tp(t){this._internalRoot=t}Tp.prototype.unstable_scheduleHydration=function(t){if(t){var e=Vb();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Qs.length&&e!==0&&e<Qs[n].priority;n++);Qs.splice(n,0,t),n===0&&jb(t)}};function Bw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ip(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function IE(){}function JM(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Sf(o);i.call(c)}}var o=sC(e,r,t,0,null,!1,!1,"",IE);return t._reactRootContainer=o,t[ps]=o.current,gu(t.nodeType===8?t.parentNode:t),Do(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Sf(l);a.call(c)}}var l=jw(t,0,!1,null,null,!1,!1,"",IE);return t._reactRootContainer=l,t[ps]=l.current,gu(t.nodeType===8?t.parentNode:t),Do(function(){Ep(e,l,n,r)}),l}function bp(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Sf(o);a.call(l)}}Ep(e,o,t,s)}else o=JM(n,e,t,s,r);return Sf(o)}Ob=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Sc(e.pendingLanes);n!==0&&(ow(e,n|1),xn(e,mt()),!(Re&6)&&(fl=mt()+500,Ui()))}break;case 13:Do(function(){var r=ms(t,1);if(r!==null){var s=an();mr(r,t,1,s)}}),Fw(t,1)}};aw=function(t){if(t.tag===13){var e=ms(t,134217728);if(e!==null){var n=an();mr(e,t,134217728,n)}Fw(t,134217728)}};Mb=function(t){if(t.tag===13){var e=yi(t),n=ms(t,e);if(n!==null){var r=an();mr(n,t,e,r)}Fw(t,e)}};Vb=function(){return je};Lb=function(t,e){var n=je;try{return je=t,e()}finally{je=n}};uy=function(t,e,n){switch(e){case"input":if(ry(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=mp(r);if(!s)throw Error(K(90));pb(r),ry(r,s)}}}break;case"textarea":gb(t,n);break;case"select":e=n.value,e!=null&&Fa(t,!!n.multiple,e,!1)}};Tb=Ow;Ib=Do;var ZM={usingClientEntryPoint:!1,Events:[Zu,ka,mp,xb,Eb,Ow]},pc={findFiberByHostInstance:uo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},eV={bundleType:pc.bundleType,version:pc.version,rendererPackageName:pc.rendererPackageName,rendererConfig:pc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Is.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Cb(t),t===null?null:t.stateNode},findFiberByHostInstance:pc.findFiberByHostInstance||XM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qd.isDisabled&&Qd.supportsFiber)try{dp=Qd.inject(eV),Ur=Qd}catch{}}jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZM;jn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bw(e))throw Error(K(200));return YM(t,e,null,n)};jn.createRoot=function(t,e){if(!Bw(t))throw Error(K(299));var n=!1,r="",s=iC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=jw(t,1,!1,null,null,n,!1,r,s),t[ps]=e.current,gu(t.nodeType===8?t.parentNode:t),new Uw(e)};jn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(K(188)):(t=Object.keys(t).join(","),Error(K(268,t)));return t=Cb(e),t=t===null?null:t.stateNode,t};jn.flushSync=function(t){return Do(t)};jn.hydrate=function(t,e,n){if(!Ip(e))throw Error(K(200));return bp(null,t,e,!0,n)};jn.hydrateRoot=function(t,e,n){if(!Bw(t))throw Error(K(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=iC;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=sC(e,null,t,1,n??null,s,!1,i,o),t[ps]=e.current,gu(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Tp(e)};jn.render=function(t,e,n){if(!Ip(e))throw Error(K(200));return bp(null,t,e,!1,n)};jn.unmountComponentAtNode=function(t){if(!Ip(t))throw Error(K(40));return t._reactRootContainer?(Do(function(){bp(null,null,t,!1,function(){t._reactRootContainer=null,t[ps]=null})}),!0):!1};jn.unstable_batchedUpdates=Ow;jn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ip(n))throw Error(K(200));if(t==null||t._reactInternals===void 0)throw Error(K(38));return bp(t,e,n,!1,r)};jn.version="18.3.1-next-f1338f8080-20240426";function oC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(oC)}catch(t){console.error(t)}}oC(),ob.exports=jn;var Xo=ob.exports;const aC=K1(Xo);var lC,bE=Xo;lC=bE.createRoot,bE.hydrateRoot;const tV=1,nV=1e6;let mg=0;function rV(){return mg=(mg+1)%Number.MAX_SAFE_INTEGER,mg.toString()}const gg=new Map,SE=t=>{if(gg.has(t))return;const e=setTimeout(()=>{gg.delete(t),Qc({type:"REMOVE_TOAST",toastId:t})},nV);gg.set(t,e)},sV=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,tV)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?SE(n):t.toasts.forEach(r=>{SE(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Nh=[];let Dh={toasts:[]};function Qc(t){Dh=sV(Dh,t),Nh.forEach(e=>{e(Dh)})}function iV({...t}){const e=rV(),n=s=>Qc({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Qc({type:"DISMISS_TOAST",toastId:e});return Qc({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function $w(){const[t,e]=_.useState(Dh);return _.useEffect(()=>(Nh.push(e),()=>{const n=Nh.indexOf(e);n>-1&&Nh.splice(n,1)}),[t]),{...t,toast:iV,dismiss:n=>Qc({type:"DISMISS_TOAST",toastId:n})}}function ve(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function CE(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function cC(...t){return e=>{let n=!1;const r=t.map(s=>{const i=CE(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():CE(t[s],null)}}}}function et(...t){return _.useCallback(cC(...t),t)}function Jo(t,e=[]){let n=[];function r(i,o){const a=_.createContext(o),l=n.length;n=[...n,o];const c=f=>{var x;const{scope:p,children:m,...I}=f,y=((x=p==null?void 0:p[t])==null?void 0:x[l])||a,T=_.useMemo(()=>I,Object.values(I));return h.jsx(y.Provider,{value:T,children:m})};c.displayName=i+"Provider";function d(f,p){var y;const m=((y=p==null?void 0:p[t])==null?void 0:y[l])||a,I=_.useContext(m);if(I)return I;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[c,d]}const s=()=>{const i=n.map(o=>_.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return _.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,oV(s,...e)]}function oV(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function bu(t){const e=lV(t),n=_.forwardRef((r,s)=>{const{children:i,...o}=r,a=_.Children.toArray(i),l=a.find(uV);if(l){const c=l.props.children,d=a.map(f=>f===l?_.Children.count(c)>1?_.Children.only(null):_.isValidElement(c)?c.props.children:null:f);return h.jsx(e,{...o,ref:s,children:_.isValidElement(c)?_.cloneElement(c,void 0,d):null})}return h.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var aV=bu("Slot");function lV(t){const e=_.forwardRef((n,r)=>{const{children:s,...i}=n;if(_.isValidElement(s)){const o=hV(s),a=dV(i,s.props);return s.type!==_.Fragment&&(a.ref=r?cC(r,o):o),_.cloneElement(s,a)}return _.Children.count(s)>1?_.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var uC=Symbol("radix.slottable");function cV(t){const e=({children:n})=>h.jsx(h.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=uC,e}function uV(t){return _.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===uC}function dV(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function hV(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function dC(t){const e=t+"CollectionProvider",[n,r]=Jo(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:T,children:x}=y,v=G.useRef(null),w=G.useRef(new Map).current;return h.jsx(s,{scope:T,itemMap:w,collectionRef:v,children:x})};o.displayName=e;const a=t+"CollectionSlot",l=bu(a),c=G.forwardRef((y,T)=>{const{scope:x,children:v}=y,w=i(a,x),C=et(T,w.collectionRef);return h.jsx(l,{ref:C,children:v})});c.displayName=a;const d=t+"CollectionItemSlot",f="data-radix-collection-item",p=bu(d),m=G.forwardRef((y,T)=>{const{scope:x,children:v,...w}=y,C=G.useRef(null),D=et(T,C),M=i(d,x);return G.useEffect(()=>(M.itemMap.set(C,{ref:C,...w}),()=>void M.itemMap.delete(C))),h.jsx(p,{[f]:"",ref:D,children:v})});m.displayName=d;function I(y){const T=i(t+"CollectionConsumer",y);return G.useCallback(()=>{const v=T.collectionRef.current;if(!v)return[];const w=Array.from(v.querySelectorAll(`[${f}]`));return Array.from(T.itemMap.values()).sort((M,b)=>w.indexOf(M.ref.current)-w.indexOf(b.ref.current))},[T.collectionRef,T.itemMap])}return[{Provider:o,Slot:c,ItemSlot:m},I,r]}var fV=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Se=fV.reduce((t,e)=>{const n=bu(`Primitive.${e}`),r=_.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function hC(t,e){t&&Xo.flushSync(()=>t.dispatchEvent(e))}function yr(t){const e=_.useRef(t);return _.useEffect(()=>{e.current=t}),_.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function pV(t,e=globalThis==null?void 0:globalThis.document){const n=yr(t);_.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var mV="DismissableLayer",zy="dismissableLayer.update",gV="dismissableLayer.pointerDownOutside",yV="dismissableLayer.focusOutside",AE,fC=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Sp=_.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=_.useContext(fC),[d,f]=_.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=_.useState({}),I=et(e,b=>f(b)),y=Array.from(c.layers),[T]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),x=y.indexOf(T),v=d?y.indexOf(d):-1,w=c.layersWithOutsidePointerEventsDisabled.size>0,C=v>=x,D=wV(b=>{const S=b.target,R=[...c.branches].some(P=>P.contains(S));!C||R||(s==null||s(b),o==null||o(b),b.defaultPrevented||a==null||a())},p),M=_V(b=>{const S=b.target;[...c.branches].some(P=>P.contains(S))||(i==null||i(b),o==null||o(b),b.defaultPrevented||a==null||a())},p);return pV(b=>{v===c.layers.size-1&&(r==null||r(b),!b.defaultPrevented&&a&&(b.preventDefault(),a()))},p),_.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(AE=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),RE(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=AE)}},[d,p,n,c]),_.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),RE())},[d,c]),_.useEffect(()=>{const b=()=>m({});return document.addEventListener(zy,b),()=>document.removeEventListener(zy,b)},[]),h.jsx(Se.div,{...l,ref:I,style:{pointerEvents:w?C?"auto":"none":void 0,...t.style},onFocusCapture:ve(t.onFocusCapture,M.onFocusCapture),onBlurCapture:ve(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:ve(t.onPointerDownCapture,D.onPointerDownCapture)})});Sp.displayName=mV;var vV="DismissableLayerBranch",pC=_.forwardRef((t,e)=>{const n=_.useContext(fC),r=_.useRef(null),s=et(e,r);return _.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),h.jsx(Se.div,{...t,ref:s})});pC.displayName=vV;function wV(t,e=globalThis==null?void 0:globalThis.document){const n=yr(t),r=_.useRef(!1),s=_.useRef(()=>{});return _.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){mC(gV,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function _V(t,e=globalThis==null?void 0:globalThis.document){const n=yr(t),r=_.useRef(!1);return _.useEffect(()=>{const s=i=>{i.target&&!r.current&&mC(yV,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function RE(){const t=new CustomEvent(zy);document.dispatchEvent(t)}function mC(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?hC(s,i):s.dispatchEvent(i)}var xV=Sp,EV=pC,Ut=globalThis!=null&&globalThis.document?_.useLayoutEffect:()=>{},TV="Portal",zw=_.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=_.useState(!1);Ut(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?aC.createPortal(h.jsx(Se.div,{...r,ref:e}),o):null});zw.displayName=TV;function IV(t,e){return _.useReducer((n,r)=>e[n][r]??n,t)}var Cp=t=>{const{present:e,children:n}=t,r=bV(e),s=typeof n=="function"?n({present:r.isPresent}):_.Children.only(n),i=et(r.ref,SV(s));return typeof n=="function"||r.isPresent?_.cloneElement(s,{ref:i}):null};Cp.displayName="Presence";function bV(t){const[e,n]=_.useState(),r=_.useRef(null),s=_.useRef(t),i=_.useRef("none"),o=t?"mounted":"unmounted",[a,l]=IV(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const c=Yd(r.current);i.current=a==="mounted"?c:"none"},[a]),Ut(()=>{const c=r.current,d=s.current;if(d!==t){const p=i.current,m=Yd(c);t?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&p!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Ut(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,f=m=>{const y=Yd(r.current).includes(m.animationName);if(m.target===e&&y&&(l("ANIMATION_END"),!s.current)){const T=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=T)})}},p=m=>{m.target===e&&(i.current=Yd(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:_.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function Yd(t){return(t==null?void 0:t.animationName)||"none"}function SV(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var CV=sb[" useInsertionEffect ".trim().toString()]||Ut;function Cf({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=AV({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:s;{const d=_.useRef(t!==void 0);_.useEffect(()=>{const f=d.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const c=_.useCallback(d=>{var f;if(a){const p=RV(d)?d(t):d;p!==t&&((f=o.current)==null||f.call(o,p))}else i(d)},[a,t,i,o]);return[l,c]}function AV({defaultProp:t,onChange:e}){const[n,r]=_.useState(t),s=_.useRef(n),i=_.useRef(e);return CV(()=>{i.current=e},[e]),_.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function RV(t){return typeof t=="function"}var gC=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),PV="VisuallyHidden",Ap=_.forwardRef((t,e)=>h.jsx(Se.span,{...t,ref:e,style:{...gC,...t.style}}));Ap.displayName=PV;var kV=Ap,qw="ToastProvider",[Hw,NV,DV]=dC("Toast"),[yC,_K]=Jo("Toast",[DV]),[OV,Rp]=yC(qw),vC=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=_.useState(null),[c,d]=_.useState(0),f=_.useRef(!1),p=_.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${qw}\`. Expected non-empty \`string\`.`),h.jsx(Hw.Provider,{scope:e,children:h.jsx(OV,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:_.useCallback(()=>d(m=>m+1),[]),onToastRemove:_.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:o})})};vC.displayName=qw;var wC="ToastViewport",MV=["F8"],qy="toast.viewportPause",Hy="toast.viewportResume",_C=_.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=MV,label:s="Notifications ({hotkey})",...i}=t,o=Rp(wC,n),a=NV(n),l=_.useRef(null),c=_.useRef(null),d=_.useRef(null),f=_.useRef(null),p=et(e,f,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),I=o.toastCount>0;_.useEffect(()=>{const T=x=>{var w;r.length!==0&&r.every(C=>x[C]||x.code===C)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",T),()=>document.removeEventListener("keydown",T)},[r]),_.useEffect(()=>{const T=l.current,x=f.current;if(I&&T&&x){const v=()=>{if(!o.isClosePausedRef.current){const M=new CustomEvent(qy);x.dispatchEvent(M),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const M=new CustomEvent(Hy);x.dispatchEvent(M),o.isClosePausedRef.current=!1}},C=M=>{!T.contains(M.relatedTarget)&&w()},D=()=>{T.contains(document.activeElement)||w()};return T.addEventListener("focusin",v),T.addEventListener("focusout",C),T.addEventListener("pointermove",v),T.addEventListener("pointerleave",D),window.addEventListener("blur",v),window.addEventListener("focus",w),()=>{T.removeEventListener("focusin",v),T.removeEventListener("focusout",C),T.removeEventListener("pointermove",v),T.removeEventListener("pointerleave",D),window.removeEventListener("blur",v),window.removeEventListener("focus",w)}}},[I,o.isClosePausedRef]);const y=_.useCallback(({tabbingDirection:T})=>{const v=a().map(w=>{const C=w.ref.current,D=[C,...GV(C)];return T==="forwards"?D:D.reverse()});return(T==="forwards"?v.reverse():v).flat()},[a]);return _.useEffect(()=>{const T=f.current;if(T){const x=v=>{var D,M,b;const w=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!w){const S=document.activeElement,R=v.shiftKey;if(v.target===T&&R){(D=c.current)==null||D.focus();return}const O=y({tabbingDirection:R?"backwards":"forwards"}),k=O.findIndex(q=>q===S);yg(O.slice(k+1))?v.preventDefault():R?(M=c.current)==null||M.focus():(b=d.current)==null||b.focus()}};return T.addEventListener("keydown",x),()=>T.removeEventListener("keydown",x)}},[a,y]),h.jsxs(EV,{ref:l,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:I?void 0:"none"},children:[I&&h.jsx(Wy,{ref:c,onFocusFromOutsideViewport:()=>{const T=y({tabbingDirection:"forwards"});yg(T)}}),h.jsx(Hw.Slot,{scope:n,children:h.jsx(Se.ol,{tabIndex:-1,...i,ref:p})}),I&&h.jsx(Wy,{ref:d,onFocusFromOutsideViewport:()=>{const T=y({tabbingDirection:"backwards"});yg(T)}})]})});_C.displayName=wC;var xC="ToastFocusProxy",Wy=_.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Rp(xC,n);return h.jsx(Ap,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});Wy.displayName=xC;var td="Toast",VV="toast.swipeStart",LV="toast.swipeMove",jV="toast.swipeCancel",FV="toast.swipeEnd",EC=_.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a,l]=Cf({prop:r,defaultProp:s??!0,onChange:i,caller:td});return h.jsx(Cp,{present:n||a,children:h.jsx($V,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:yr(t.onPause),onResume:yr(t.onResume),onSwipeStart:ve(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ve(t.onSwipeMove,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ve(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ve(t.onSwipeEnd,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});EC.displayName=td;var[UV,BV]=yC(td,{onClose(){}}),$V=_.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:m,...I}=t,y=Rp(td,n),[T,x]=_.useState(null),v=et(e,q=>x(q)),w=_.useRef(null),C=_.useRef(null),D=s||y.duration,M=_.useRef(0),b=_.useRef(D),S=_.useRef(0),{onToastAdd:R,onToastRemove:P}=y,N=yr(()=>{var re;(T==null?void 0:T.contains(document.activeElement))&&((re=y.viewport)==null||re.focus()),o()}),O=_.useCallback(q=>{!q||q===1/0||(window.clearTimeout(S.current),M.current=new Date().getTime(),S.current=window.setTimeout(N,q))},[N]);_.useEffect(()=>{const q=y.viewport;if(q){const re=()=>{O(b.current),c==null||c()},te=()=>{const ie=new Date().getTime()-M.current;b.current=b.current-ie,window.clearTimeout(S.current),l==null||l()};return q.addEventListener(qy,te),q.addEventListener(Hy,re),()=>{q.removeEventListener(qy,te),q.removeEventListener(Hy,re)}}},[y.viewport,D,l,c,O]),_.useEffect(()=>{i&&!y.isClosePausedRef.current&&O(D)},[i,D,y.isClosePausedRef,O]),_.useEffect(()=>(R(),()=>P()),[R,P]);const k=_.useMemo(()=>T?RC(T):null,[T]);return y.viewport?h.jsxs(h.Fragment,{children:[k&&h.jsx(zV,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:k}),h.jsx(UV,{scope:n,onClose:N,children:Xo.createPortal(h.jsx(Hw.ItemSlot,{scope:n,children:h.jsx(xV,{asChild:!0,onEscapeKeyDown:ve(a,()=>{y.isFocusedToastEscapeKeyDownRef.current||N(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:h.jsx(Se.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":y.swipeDirection,...I,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ve(t.onKeyDown,q=>{q.key==="Escape"&&(a==null||a(q.nativeEvent),q.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,N()))}),onPointerDown:ve(t.onPointerDown,q=>{q.button===0&&(w.current={x:q.clientX,y:q.clientY})}),onPointerMove:ve(t.onPointerMove,q=>{if(!w.current)return;const re=q.clientX-w.current.x,te=q.clientY-w.current.y,ie=!!C.current,U=["left","right"].includes(y.swipeDirection),$=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,j=U?$(0,re):0,H=U?0:$(0,te),X=q.pointerType==="touch"?10:2,ae={x:j,y:H},le={originalEvent:q,delta:ae};ie?(C.current=ae,Xd(LV,f,le,{discrete:!1})):PE(ae,y.swipeDirection,X)?(C.current=ae,Xd(VV,d,le,{discrete:!1}),q.target.setPointerCapture(q.pointerId)):(Math.abs(re)>X||Math.abs(te)>X)&&(w.current=null)}),onPointerUp:ve(t.onPointerUp,q=>{const re=C.current,te=q.target;if(te.hasPointerCapture(q.pointerId)&&te.releasePointerCapture(q.pointerId),C.current=null,w.current=null,re){const ie=q.currentTarget,U={originalEvent:q,delta:re};PE(re,y.swipeDirection,y.swipeThreshold)?Xd(FV,m,U,{discrete:!0}):Xd(jV,p,U,{discrete:!0}),ie.addEventListener("click",$=>$.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),zV=t=>{const{__scopeToast:e,children:n,...r}=t,s=Rp(td,e),[i,o]=_.useState(!1),[a,l]=_.useState(!1);return WV(()=>o(!0)),_.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:h.jsx(zw,{asChild:!0,children:h.jsx(Ap,{...r,children:i&&h.jsxs(h.Fragment,{children:[s.label," ",n]})})})},qV="ToastTitle",TC=_.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return h.jsx(Se.div,{...r,ref:e})});TC.displayName=qV;var HV="ToastDescription",IC=_.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return h.jsx(Se.div,{...r,ref:e})});IC.displayName=HV;var bC="ToastAction",SC=_.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?h.jsx(AC,{altText:n,asChild:!0,children:h.jsx(Ww,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${bC}\`. Expected non-empty \`string\`.`),null)});SC.displayName=bC;var CC="ToastClose",Ww=_.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=BV(CC,n);return h.jsx(AC,{asChild:!0,children:h.jsx(Se.button,{type:"button",...r,ref:e,onClick:ve(t.onClick,s.onClose)})})});Ww.displayName=CC;var AC=_.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return h.jsx(Se.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function RC(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),KV(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...RC(r))}}),e}function Xd(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?hC(s,i):s.dispatchEvent(i)}var PE=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function WV(t=()=>{}){const e=yr(t);Ut(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function KV(t){return t.nodeType===t.ELEMENT_NODE}function GV(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function yg(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var QV=vC,PC=_C,kC=EC,NC=TC,DC=IC,OC=SC,MC=Ww;function VC(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=VC(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function LC(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=VC(t))&&(r&&(r+=" "),r+=e);return r}const kE=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,NE=LC,Pp=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return NE(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const d=n==null?void 0:n[c],f=i==null?void 0:i[c];if(d===null)return null;const p=kE(d)||kE(f);return s[c][p]}),a=n&&Object.entries(n).reduce((c,d)=>{let[f,p]=d;return p===void 0||(c[f]=p),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:f,className:p,...m}=d;return Object.entries(m).every(I=>{let[y,T]=I;return Array.isArray(T)?T.includes({...i,...a}[y]):{...i,...a}[y]===T})?[...c,f,p]:c},[]);return NE(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YV=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),jC=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var XV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JV=_.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>_.createElement("svg",{ref:l,...XV,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:jC("lucide",s),...a},[...o.map(([c,d])=>_.createElement(c,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=(t,e)=>{const n=_.forwardRef(({className:r,...s},i)=>_.createElement(JV,{ref:i,iconNode:e,className:jC(`lucide-${YV(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oh=Et("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DE=Et("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=Et("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=Et("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZV=Et("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OE=Et("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eL=Et("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tL=Et("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BC=Et("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $C=Et("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nL=Et("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ky=Et("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rL=Et("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sL=Et("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iL=Et("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Af=Et("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oL=Et("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Su=Et("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aL=Et("Waves",[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=Et("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Kw="-",lL=t=>{const e=uL(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Kw);return a[0]===""&&a.length!==1&&a.shift(),qC(a,e)||cL(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},qC=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?qC(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Kw);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},ME=/^\[(.+)\]$/,cL=t=>{if(ME.test(t)){const e=ME.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},uL=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return hL(Object.entries(t.classGroups),n).forEach(([i,o])=>{Gy(o,r,i,e)}),r},Gy=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:VE(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(dL(s)){Gy(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Gy(o,VE(e,i),n,r)})})},VE=(t,e)=>{let n=t;return e.split(Kw).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},dL=t=>t.isThemeGetter,hL=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,fL=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},HC="!",pL=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,d=0,f;for(let T=0;T<a.length;T++){let x=a[T];if(c===0){if(x===s&&(r||a.slice(T,T+i)===e)){l.push(a.slice(d,T)),d=T+i;continue}if(x==="/"){f=T;continue}}x==="["?c++:x==="]"&&c--}const p=l.length===0?a:a.substring(d),m=p.startsWith(HC),I=m?p.substring(1):p,y=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:I,maybePostfixModifierPosition:y}};return n?a=>n({className:a,parseClassName:o}):o},mL=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},gL=t=>({cache:fL(t.cacheSize),parseClassName:pL(t),...lL(t)}),yL=/\s+/,vL=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(yL);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:d,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:m}=n(c);let I=!!m,y=r(I?p.substring(0,m):p);if(!y){if(!I){a=c+(a.length>0?" "+a:a);continue}if(y=r(p),!y){a=c+(a.length>0?" "+a:a);continue}I=!1}const T=mL(d).join(":"),x=f?T+HC:T,v=x+y;if(i.includes(v))continue;i.push(v);const w=s(y,I);for(let C=0;C<w.length;++C){const D=w[C];i.push(x+D)}a=c+(a.length>0?" "+a:a)}return a};function wL(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=WC(e))&&(r&&(r+=" "),r+=n);return r}const WC=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=WC(t[r]))&&(n&&(n+=" "),n+=e);return n};function _L(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((d,f)=>f(d),t());return n=gL(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=vL(l,n);return s(l,d),d}return function(){return i(wL.apply(null,arguments))}}const Ge=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},KC=/^\[(?:([a-z-]+):)?(.+)\]$/i,xL=/^\d+\/\d+$/,EL=new Set(["px","full","screen"]),TL=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,IL=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,bL=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,SL=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,CL=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ts=t=>Ha(t)||EL.has(t)||xL.test(t),js=t=>Ml(t,"length",ML),Ha=t=>!!t&&!Number.isNaN(Number(t)),vg=t=>Ml(t,"number",Ha),mc=t=>!!t&&Number.isInteger(Number(t)),AL=t=>t.endsWith("%")&&Ha(t.slice(0,-1)),me=t=>KC.test(t),Fs=t=>TL.test(t),RL=new Set(["length","size","percentage"]),PL=t=>Ml(t,RL,GC),kL=t=>Ml(t,"position",GC),NL=new Set(["image","url"]),DL=t=>Ml(t,NL,LL),OL=t=>Ml(t,"",VL),gc=()=>!0,Ml=(t,e,n)=>{const r=KC.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},ML=t=>IL.test(t)&&!bL.test(t),GC=()=>!1,VL=t=>SL.test(t),LL=t=>CL.test(t),jL=()=>{const t=Ge("colors"),e=Ge("spacing"),n=Ge("blur"),r=Ge("brightness"),s=Ge("borderColor"),i=Ge("borderRadius"),o=Ge("borderSpacing"),a=Ge("borderWidth"),l=Ge("contrast"),c=Ge("grayscale"),d=Ge("hueRotate"),f=Ge("invert"),p=Ge("gap"),m=Ge("gradientColorStops"),I=Ge("gradientColorStopPositions"),y=Ge("inset"),T=Ge("margin"),x=Ge("opacity"),v=Ge("padding"),w=Ge("saturate"),C=Ge("scale"),D=Ge("sepia"),M=Ge("skew"),b=Ge("space"),S=Ge("translate"),R=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",me,e],O=()=>[me,e],k=()=>["",ts,js],q=()=>["auto",Ha,me],re=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],te=()=>["solid","dashed","dotted","double","none"],ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],U=()=>["start","end","center","between","around","evenly","stretch"],$=()=>["","0",me],j=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>[Ha,me];return{cacheSize:500,separator:":",theme:{colors:[gc],spacing:[ts,js],blur:["none","",Fs,me],brightness:H(),borderColor:[t],borderRadius:["none","","full",Fs,me],borderSpacing:O(),borderWidth:k(),contrast:H(),grayscale:$(),hueRotate:H(),invert:$(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[AL,js],inset:N(),margin:N(),opacity:H(),padding:O(),saturate:H(),scale:H(),sepia:$(),skew:H(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",me]}],container:["container"],columns:[{columns:[Fs]}],"break-after":[{"break-after":j()}],"break-before":[{"break-before":j()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...re(),me]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",mc,me]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",me]}],grow:[{grow:$()}],shrink:[{shrink:$()}],order:[{order:["first","last","none",mc,me]}],"grid-cols":[{"grid-cols":[gc]}],"col-start-end":[{col:["auto",{span:["full",mc,me]},me]}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":[gc]}],"row-start-end":[{row:["auto",{span:[mc,me]},me]}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",me]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",me]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...U()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...U(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...U(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[T]}],mx:[{mx:[T]}],my:[{my:[T]}],ms:[{ms:[T]}],me:[{me:[T]}],mt:[{mt:[T]}],mr:[{mr:[T]}],mb:[{mb:[T]}],ml:[{ml:[T]}],"space-x":[{"space-x":[b]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[b]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",me,e]}],"min-w":[{"min-w":[me,e,"min","max","fit"]}],"max-w":[{"max-w":[me,e,"none","full","min","max","fit","prose",{screen:[Fs]},Fs]}],h:[{h:[me,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[me,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[me,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[me,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Fs,js]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",vg]}],"font-family":[{font:[gc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",me]}],"line-clamp":[{"line-clamp":["none",Ha,vg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ts,me]}],"list-image":[{"list-image":["none",me]}],"list-style-type":[{list:["none","disc","decimal",me]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...te(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ts,js]}],"underline-offset":[{"underline-offset":["auto",ts,me]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...re(),kL]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",PL]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},DL]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[I]}],"gradient-via-pos":[{via:[I]}],"gradient-to-pos":[{to:[I]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...te(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:te()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...te()]}],"outline-offset":[{"outline-offset":[ts,me]}],"outline-w":[{outline:[ts,js]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[ts,js]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Fs,OL]}],"shadow-color":[{shadow:[gc]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...ie(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ie()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Fs,me]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",me]}],duration:[{duration:H()}],ease:[{ease:["linear","in","out","in-out",me]}],delay:[{delay:H()}],animate:[{animate:["none","spin","ping","pulse","bounce",me]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[mc,me]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",me]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",me]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",me]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ts,js,vg]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},FL=_L(jL);function Ue(...t){return FL(LC(t))}const UL=QV,QC=_.forwardRef(({className:t,...e},n)=>h.jsx(PC,{ref:n,className:Ue("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));QC.displayName=PC.displayName;const BL=Pp("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),YC=_.forwardRef(({className:t,variant:e,...n},r)=>h.jsx(kC,{ref:r,className:Ue(BL({variant:e}),t),...n}));YC.displayName=kC.displayName;const $L=_.forwardRef(({className:t,...e},n)=>h.jsx(OC,{ref:n,className:Ue("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));$L.displayName=OC.displayName;const XC=_.forwardRef(({className:t,...e},n)=>h.jsx(MC,{ref:n,className:Ue("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:h.jsx(zC,{className:"h-4 w-4"})}));XC.displayName=MC.displayName;const JC=_.forwardRef(({className:t,...e},n)=>h.jsx(NC,{ref:n,className:Ue("text-sm font-semibold",t),...e}));JC.displayName=NC.displayName;const ZC=_.forwardRef(({className:t,...e},n)=>h.jsx(DC,{ref:n,className:Ue("text-sm opacity-90",t),...e}));ZC.displayName=DC.displayName;function zL(){const{toasts:t}=$w();return h.jsxs(UL,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return h.jsxs(YC,{...i,children:[h.jsxs("div",{className:"grid gap-1",children:[n&&h.jsx(JC,{children:n}),r&&h.jsx(ZC,{children:r})]}),s,h.jsx(XC,{})]},e)}),h.jsx(QC,{})]})}var LE=["light","dark"],qL="(prefers-color-scheme: dark)",HL=_.createContext(void 0),WL={setTheme:t=>{},themes:[]},KL=()=>{var t;return(t=_.useContext(HL))!=null?t:WL};_.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let c=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(I=>`'${I}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?LE.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(I,y=!1,T=!0)=>{let x=o?o[I]:I,v=y?I+"|| ''":`'${x}'`,w="";return s&&T&&!y&&LE.includes(I)&&(w+=`d.style.colorScheme = '${I}';`),n==="class"?y||x?w+=`c.add(${v})`:w+="null":x&&(w+=`d[s](n,${v})`),w},m=t?`!function(){${d}${p(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${qL}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}${c?"":"else{"+p(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}else{${p(i,!1,!1)};}${f}}catch(t){}}();`;return _.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:m}})});var GL=t=>{switch(t){case"success":return XL;case"info":return ZL;case"warning":return JL;case"error":return ej;default:return null}},QL=Array(12).fill(0),YL=({visible:t,className:e})=>G.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},G.createElement("div",{className:"sonner-spinner"},QL.map((n,r)=>G.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),XL=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),JL=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),ZL=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),ej=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),tj=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},G.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),G.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),nj=()=>{let[t,e]=G.useState(document.hidden);return G.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Qy=1,rj=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Qy++,o=this.toasts.find(l=>l.id===i),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...e,id:i,title:r}),{...l,...e,id:i,dismissible:a,title:r}):l):this.addToast({title:r,...s,dismissible:a,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0,o,a=s.then(async c=>{if(o=["resolve",c],G.isValidElement(c))i=!1,this.create({id:r,type:"default",message:c});else if(ij(c)&&!c.ok){i=!1;let d=typeof n.error=="function"?await n.error(`HTTP error! status: ${c.status}`):n.error,f=typeof n.description=="function"?await n.description(`HTTP error! status: ${c.status}`):n.description;this.create({id:r,type:"error",message:d,description:f})}else if(n.success!==void 0){i=!1;let d=typeof n.success=="function"?await n.success(c):n.success,f=typeof n.description=="function"?await n.description(c):n.description;this.create({id:r,type:"success",message:d,description:f})}}).catch(async c=>{if(o=["reject",c],n.error!==void 0){i=!1;let d=typeof n.error=="function"?await n.error(c):n.error,f=typeof n.description=="function"?await n.description(c):n.description;this.create({id:r,type:"error",message:d,description:f})}}).finally(()=>{var c;i&&(this.dismiss(r),r=void 0),(c=n.finally)==null||c.call(n)}),l=()=>new Promise((c,d)=>a.then(()=>o[0]==="reject"?d(o[1]):c(o[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||Qy++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},fn=new rj,sj=(t,e)=>{let n=(e==null?void 0:e.id)||Qy++;return fn.addToast({title:t,...e,id:n}),n},ij=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",oj=sj,aj=()=>fn.toasts,lj=()=>fn.getActiveToasts();Object.assign(oj,{success:fn.success,info:fn.info,warning:fn.warning,error:fn.error,custom:fn.custom,message:fn.message,promise:fn.promise,dismiss:fn.dismiss,loading:fn.loading},{getHistory:aj,getToasts:lj});function cj(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}cj(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Jd(t){return t.label!==void 0}var uj=3,dj="32px",hj="16px",jE=4e3,fj=356,pj=14,mj=20,gj=200;function sr(...t){return t.filter(Boolean).join(" ")}function yj(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var vj=t=>{var e,n,r,s,i,o,a,l,c,d,f;let{invert:p,toast:m,unstyled:I,interacting:y,setHeights:T,visibleToasts:x,heights:v,index:w,toasts:C,expanded:D,removeToast:M,defaultRichColors:b,closeButton:S,style:R,cancelButtonStyle:P,actionButtonStyle:N,className:O="",descriptionClassName:k="",duration:q,position:re,gap:te,loadingIcon:ie,expandByDefault:U,classNames:$,icons:j,closeButtonAriaLabel:H="Close toast",pauseWhenPageIsHidden:X}=t,[ae,le]=G.useState(null),[we,ce]=G.useState(null),[J,Ce]=G.useState(!1),[We,Ae]=G.useState(!1),[xe,Ie]=G.useState(!1),[gt,Xt]=G.useState(!1),[Jr,Un]=G.useState(!1),[er,Rs]=G.useState(0),[nt,Rt]=G.useState(0),Er=G.useRef(m.duration||q||jE),wd=G.useRef(null),Tr=G.useRef(null),Sm=w===0,Gi=w+1<=x,Jt=m.type,Zr=m.dismissible!==!1,Kl=m.className||"",Cm=m.descriptionClassName||"",ia=G.useMemo(()=>v.findIndex(ue=>ue.toastId===m.id)||0,[v,m.id]),_d=G.useMemo(()=>{var ue;return(ue=m.closeButton)!=null?ue:S},[m.closeButton,S]),Gl=G.useMemo(()=>m.duration||q||jE,[m.duration,q]),es=G.useRef(0),Ir=G.useRef(0),oa=G.useRef(0),dn=G.useRef(null),[xd,aa]=re.split("-"),Ql=G.useMemo(()=>v.reduce((ue,Me,ze)=>ze>=ia?ue:ue+Me.height,0),[v,ia]),Ps=nj(),Ed=m.invert||p,Tt=Jt==="loading";Ir.current=G.useMemo(()=>ia*te+Ql,[ia,Ql]),G.useEffect(()=>{Er.current=Gl},[Gl]),G.useEffect(()=>{Ce(!0)},[]),G.useEffect(()=>{let ue=Tr.current;if(ue){let Me=ue.getBoundingClientRect().height;return Rt(Me),T(ze=>[{toastId:m.id,height:Me,position:m.position},...ze]),()=>T(ze=>ze.filter(Pt=>Pt.toastId!==m.id))}},[T,m.id]),G.useLayoutEffect(()=>{if(!J)return;let ue=Tr.current,Me=ue.style.height;ue.style.height="auto";let ze=ue.getBoundingClientRect().height;ue.style.height=Me,Rt(ze),T(Pt=>Pt.find(bn=>bn.toastId===m.id)?Pt.map(bn=>bn.toastId===m.id?{...bn,height:ze}:bn):[{toastId:m.id,height:ze,position:m.position},...Pt])},[J,m.title,m.description,T,m.id]);let tr=G.useCallback(()=>{Ae(!0),Rs(Ir.current),T(ue=>ue.filter(Me=>Me.toastId!==m.id)),setTimeout(()=>{M(m)},gj)},[m,M,T,Ir]);G.useEffect(()=>{if(m.promise&&Jt==="loading"||m.duration===1/0||m.type==="loading")return;let ue;return D||y||X&&Ps?(()=>{if(oa.current<es.current){let Me=new Date().getTime()-es.current;Er.current=Er.current-Me}oa.current=new Date().getTime()})():Er.current!==1/0&&(es.current=new Date().getTime(),ue=setTimeout(()=>{var Me;(Me=m.onAutoClose)==null||Me.call(m,m),tr()},Er.current)),()=>clearTimeout(ue)},[D,y,m,Jt,X,Ps,tr]),G.useEffect(()=>{m.delete&&tr()},[tr,m.delete]);function Qi(){var ue,Me,ze;return j!=null&&j.loading?G.createElement("div",{className:sr($==null?void 0:$.loader,(ue=m==null?void 0:m.classNames)==null?void 0:ue.loader,"sonner-loader"),"data-visible":Jt==="loading"},j.loading):ie?G.createElement("div",{className:sr($==null?void 0:$.loader,(Me=m==null?void 0:m.classNames)==null?void 0:Me.loader,"sonner-loader"),"data-visible":Jt==="loading"},ie):G.createElement(YL,{className:sr($==null?void 0:$.loader,(ze=m==null?void 0:m.classNames)==null?void 0:ze.loader),visible:Jt==="loading"})}return G.createElement("li",{tabIndex:0,ref:Tr,className:sr(O,Kl,$==null?void 0:$.toast,(e=m==null?void 0:m.classNames)==null?void 0:e.toast,$==null?void 0:$.default,$==null?void 0:$[Jt],(n=m==null?void 0:m.classNames)==null?void 0:n[Jt]),"data-sonner-toast":"","data-rich-colors":(r=m.richColors)!=null?r:b,"data-styled":!(m.jsx||m.unstyled||I),"data-mounted":J,"data-promise":!!m.promise,"data-swiped":Jr,"data-removed":We,"data-visible":Gi,"data-y-position":xd,"data-x-position":aa,"data-index":w,"data-front":Sm,"data-swiping":xe,"data-dismissible":Zr,"data-type":Jt,"data-invert":Ed,"data-swipe-out":gt,"data-swipe-direction":we,"data-expanded":!!(D||U&&J),style:{"--index":w,"--toasts-before":w,"--z-index":C.length-w,"--offset":`${We?er:Ir.current}px`,"--initial-height":U?"auto":`${nt}px`,...R,...m.style},onDragEnd:()=>{Ie(!1),le(null),dn.current=null},onPointerDown:ue=>{Tt||!Zr||(wd.current=new Date,Rs(Ir.current),ue.target.setPointerCapture(ue.pointerId),ue.target.tagName!=="BUTTON"&&(Ie(!0),dn.current={x:ue.clientX,y:ue.clientY}))},onPointerUp:()=>{var ue,Me,ze,Pt;if(gt||!Zr)return;dn.current=null;let bn=Number(((ue=Tr.current)==null?void 0:ue.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),br=Number(((Me=Tr.current)==null?void 0:Me.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Bn=new Date().getTime()-((ze=wd.current)==null?void 0:ze.getTime()),hn=ae==="x"?bn:br,nr=Math.abs(hn)/Bn;if(Math.abs(hn)>=mj||nr>.11){Rs(Ir.current),(Pt=m.onDismiss)==null||Pt.call(m,m),ce(ae==="x"?bn>0?"right":"left":br>0?"down":"up"),tr(),Xt(!0),Un(!1);return}Ie(!1),le(null)},onPointerMove:ue=>{var Me,ze,Pt,bn;if(!dn.current||!Zr||((Me=window.getSelection())==null?void 0:Me.toString().length)>0)return;let br=ue.clientY-dn.current.y,Bn=ue.clientX-dn.current.x,hn=(ze=t.swipeDirections)!=null?ze:yj(re);!ae&&(Math.abs(Bn)>1||Math.abs(br)>1)&&le(Math.abs(Bn)>Math.abs(br)?"x":"y");let nr={x:0,y:0};ae==="y"?(hn.includes("top")||hn.includes("bottom"))&&(hn.includes("top")&&br<0||hn.includes("bottom")&&br>0)&&(nr.y=br):ae==="x"&&(hn.includes("left")||hn.includes("right"))&&(hn.includes("left")&&Bn<0||hn.includes("right")&&Bn>0)&&(nr.x=Bn),(Math.abs(nr.x)>0||Math.abs(nr.y)>0)&&Un(!0),(Pt=Tr.current)==null||Pt.style.setProperty("--swipe-amount-x",`${nr.x}px`),(bn=Tr.current)==null||bn.style.setProperty("--swipe-amount-y",`${nr.y}px`)}},_d&&!m.jsx?G.createElement("button",{"aria-label":H,"data-disabled":Tt,"data-close-button":!0,onClick:Tt||!Zr?()=>{}:()=>{var ue;tr(),(ue=m.onDismiss)==null||ue.call(m,m)},className:sr($==null?void 0:$.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},(i=j==null?void 0:j.close)!=null?i:tj):null,m.jsx||_.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:G.createElement(G.Fragment,null,Jt||m.icon||m.promise?G.createElement("div",{"data-icon":"",className:sr($==null?void 0:$.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Qi():null,m.type!=="loading"?m.icon||(j==null?void 0:j[Jt])||GL(Jt):null):null,G.createElement("div",{"data-content":"",className:sr($==null?void 0:$.content,(a=m==null?void 0:m.classNames)==null?void 0:a.content)},G.createElement("div",{"data-title":"",className:sr($==null?void 0:$.title,(l=m==null?void 0:m.classNames)==null?void 0:l.title)},typeof m.title=="function"?m.title():m.title),m.description?G.createElement("div",{"data-description":"",className:sr(k,Cm,$==null?void 0:$.description,(c=m==null?void 0:m.classNames)==null?void 0:c.description)},typeof m.description=="function"?m.description():m.description):null),_.isValidElement(m.cancel)?m.cancel:m.cancel&&Jd(m.cancel)?G.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||P,onClick:ue=>{var Me,ze;Jd(m.cancel)&&Zr&&((ze=(Me=m.cancel).onClick)==null||ze.call(Me,ue),tr())},className:sr($==null?void 0:$.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,_.isValidElement(m.action)?m.action:m.action&&Jd(m.action)?G.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||N,onClick:ue=>{var Me,ze;Jd(m.action)&&((ze=(Me=m.action).onClick)==null||ze.call(Me,ue),!ue.defaultPrevented&&tr())},className:sr($==null?void 0:$.actionButton,(f=m==null?void 0:m.classNames)==null?void 0:f.actionButton)},m.action.label):null))};function FE(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function wj(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?hj:dj;function l(c){["top","right","bottom","left"].forEach(d=>{n[`${o}-${d}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${o}-${c}`]=a:n[`${o}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(a)}),n}var _j=_.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:l,mobileOffset:c,theme:d="light",richColors:f,duration:p,style:m,visibleToasts:I=uj,toastOptions:y,dir:T=FE(),gap:x=pj,loadingIcon:v,icons:w,containerAriaLabel:C="Notifications",pauseWhenPageIsHidden:D}=t,[M,b]=G.useState([]),S=G.useMemo(()=>Array.from(new Set([r].concat(M.filter(X=>X.position).map(X=>X.position)))),[M,r]),[R,P]=G.useState([]),[N,O]=G.useState(!1),[k,q]=G.useState(!1),[re,te]=G.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ie=G.useRef(null),U=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),$=G.useRef(null),j=G.useRef(!1),H=G.useCallback(X=>{b(ae=>{var le;return(le=ae.find(we=>we.id===X.id))!=null&&le.delete||fn.dismiss(X.id),ae.filter(({id:we})=>we!==X.id)})},[]);return G.useEffect(()=>fn.subscribe(X=>{if(X.dismiss){b(ae=>ae.map(le=>le.id===X.id?{...le,delete:!0}:le));return}setTimeout(()=>{aC.flushSync(()=>{b(ae=>{let le=ae.findIndex(we=>we.id===X.id);return le!==-1?[...ae.slice(0,le),{...ae[le],...X},...ae.slice(le+1)]:[X,...ae]})})})}),[]),G.useEffect(()=>{if(d!=="system"){te(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?te("dark"):te("light")),typeof window>"u")return;let X=window.matchMedia("(prefers-color-scheme: dark)");try{X.addEventListener("change",({matches:ae})=>{te(ae?"dark":"light")})}catch{X.addListener(({matches:le})=>{try{te(le?"dark":"light")}catch(we){console.error(we)}})}},[d]),G.useEffect(()=>{M.length<=1&&O(!1)},[M]),G.useEffect(()=>{let X=ae=>{var le,we;s.every(ce=>ae[ce]||ae.code===ce)&&(O(!0),(le=ie.current)==null||le.focus()),ae.code==="Escape"&&(document.activeElement===ie.current||(we=ie.current)!=null&&we.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",X),()=>document.removeEventListener("keydown",X)},[s]),G.useEffect(()=>{if(ie.current)return()=>{$.current&&($.current.focus({preventScroll:!0}),$.current=null,j.current=!1)}},[ie.current]),G.createElement("section",{ref:e,"aria-label":`${C} ${U}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},S.map((X,ae)=>{var le;let[we,ce]=X.split("-");return M.length?G.createElement("ol",{key:X,dir:T==="auto"?FE():T,tabIndex:-1,ref:ie,className:a,"data-sonner-toaster":!0,"data-theme":re,"data-y-position":we,"data-lifted":N&&M.length>1&&!i,"data-x-position":ce,style:{"--front-toast-height":`${((le=R[0])==null?void 0:le.height)||0}px`,"--width":`${fj}px`,"--gap":`${x}px`,...m,...wj(l,c)},onBlur:J=>{j.current&&!J.currentTarget.contains(J.relatedTarget)&&(j.current=!1,$.current&&($.current.focus({preventScroll:!0}),$.current=null))},onFocus:J=>{J.target instanceof HTMLElement&&J.target.dataset.dismissible==="false"||j.current||(j.current=!0,$.current=J.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{k||O(!1)},onDragEnd:()=>O(!1),onPointerDown:J=>{J.target instanceof HTMLElement&&J.target.dataset.dismissible==="false"||q(!0)},onPointerUp:()=>q(!1)},M.filter(J=>!J.position&&ae===0||J.position===X).map((J,Ce)=>{var We,Ae;return G.createElement(vj,{key:J.id,icons:w,index:Ce,toast:J,defaultRichColors:f,duration:(We=y==null?void 0:y.duration)!=null?We:p,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:n,visibleToasts:I,closeButton:(Ae=y==null?void 0:y.closeButton)!=null?Ae:o,interacting:k,position:X,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,removeToast:H,toasts:M.filter(xe=>xe.position==J.position),heights:R.filter(xe=>xe.position==J.position),setHeights:P,expandByDefault:i,gap:x,loadingIcon:v,expanded:N,pauseWhenPageIsHidden:D,swipeDirections:t.swipeDirections})})):null}))});const xj=({...t})=>{const{theme:e="system"}=KL();return h.jsx(_j,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var Ej=sb[" useId ".trim().toString()]||(()=>{}),Tj=0;function Gw(t){const[e,n]=_.useState(Ej());return Ut(()=>{n(r=>r??String(Tj++))},[t]),e?`radix-${e}`:""}const Ij=["top","right","bottom","left"],ki=Math.min,Rn=Math.max,Rf=Math.round,Zd=Math.floor,$r=t=>({x:t,y:t}),bj={left:"right",right:"left",bottom:"top",top:"bottom"},Sj={start:"end",end:"start"};function Yy(t,e,n){return Rn(t,ki(e,n))}function ys(t,e){return typeof t=="function"?t(e):t}function vs(t){return t.split("-")[0]}function Vl(t){return t.split("-")[1]}function Qw(t){return t==="x"?"y":"x"}function Yw(t){return t==="y"?"height":"width"}const Cj=new Set(["top","bottom"]);function Vr(t){return Cj.has(vs(t))?"y":"x"}function Xw(t){return Qw(Vr(t))}function Aj(t,e,n){n===void 0&&(n=!1);const r=Vl(t),s=Xw(t),i=Yw(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Pf(o)),[o,Pf(o)]}function Rj(t){const e=Pf(t);return[Xy(t),e,Xy(e)]}function Xy(t){return t.replace(/start|end/g,e=>Sj[e])}const UE=["left","right"],BE=["right","left"],Pj=["top","bottom"],kj=["bottom","top"];function Nj(t,e,n){switch(t){case"top":case"bottom":return n?e?BE:UE:e?UE:BE;case"left":case"right":return e?Pj:kj;default:return[]}}function Dj(t,e,n,r){const s=Vl(t);let i=Nj(vs(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Xy)))),i}function Pf(t){return t.replace(/left|right|bottom|top/g,e=>bj[e])}function Oj(t){return{top:0,right:0,bottom:0,left:0,...t}}function eA(t){return typeof t!="number"?Oj(t):{top:t,right:t,bottom:t,left:t}}function kf(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function $E(t,e,n){let{reference:r,floating:s}=t;const i=Vr(e),o=Xw(e),a=Yw(o),l=vs(e),c=i==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let m;switch(l){case"top":m={x:d,y:r.y-s.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-s.width,y:f};break;default:m={x:r.x,y:r.y}}switch(Vl(e)){case"start":m[o]-=p*(n&&c?-1:1);break;case"end":m[o]+=p*(n&&c?-1:1);break}return m}const Mj=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:f}=$E(c,r,l),p=r,m={},I=0;for(let y=0;y<a.length;y++){const{name:T,fn:x}=a[y],{x:v,y:w,data:C,reset:D}=await x({x:d,y:f,initialPlacement:r,placement:p,strategy:s,middlewareData:m,rects:c,platform:o,elements:{reference:t,floating:e}});d=v??d,f=w??f,m={...m,[T]:{...m[T],...C}},D&&I<=50&&(I++,typeof D=="object"&&(D.placement&&(p=D.placement),D.rects&&(c=D.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):D.rects),{x:d,y:f}=$E(c,p,l)),y=-1)}return{x:d,y:f,placement:p,strategy:s,middlewareData:m}};async function Cu(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:m=0}=ys(e,t),I=eA(m),T=a[p?f==="floating"?"reference":"floating":f],x=kf(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(T)))==null||n?T:T.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),v=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),C=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},D=kf(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:w,strategy:l}):v);return{top:(x.top-D.top+I.top)/C.y,bottom:(D.bottom-x.bottom+I.bottom)/C.y,left:(x.left-D.left+I.left)/C.x,right:(D.right-x.right+I.right)/C.x}}const Vj=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=ys(t,e)||{};if(c==null)return{};const f=eA(d),p={x:n,y:r},m=Xw(s),I=Yw(m),y=await o.getDimensions(c),T=m==="y",x=T?"top":"left",v=T?"bottom":"right",w=T?"clientHeight":"clientWidth",C=i.reference[I]+i.reference[m]-p[m]-i.floating[I],D=p[m]-i.reference[m],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let b=M?M[w]:0;(!b||!await(o.isElement==null?void 0:o.isElement(M)))&&(b=a.floating[w]||i.floating[I]);const S=C/2-D/2,R=b/2-y[I]/2-1,P=ki(f[x],R),N=ki(f[v],R),O=P,k=b-y[I]-N,q=b/2-y[I]/2+S,re=Yy(O,q,k),te=!l.arrow&&Vl(s)!=null&&q!==re&&i.reference[I]/2-(q<O?P:N)-y[I]/2<0,ie=te?q<O?q-O:q-k:0;return{[m]:p[m]+ie,data:{[m]:re,centerOffset:q-re-ie,...te&&{alignmentOffset:ie}},reset:te}}}),Lj=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:I="none",flipAlignment:y=!0,...T}=ys(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const x=vs(s),v=Vr(a),w=vs(a)===a,C=await(l.isRTL==null?void 0:l.isRTL(c.floating)),D=p||(w||!y?[Pf(a)]:Rj(a)),M=I!=="none";!p&&M&&D.push(...Dj(a,y,I,C));const b=[a,...D],S=await Cu(e,T),R=[];let P=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&R.push(S[x]),f){const q=Aj(s,o,C);R.push(S[q[0]],S[q[1]])}if(P=[...P,{placement:s,overflows:R}],!R.every(q=>q<=0)){var N,O;const q=(((N=i.flip)==null?void 0:N.index)||0)+1,re=b[q];if(re&&(!(f==="alignment"?v!==Vr(re):!1)||P.every(U=>U.overflows[0]>0&&Vr(U.placement)===v)))return{data:{index:q,overflows:P},reset:{placement:re}};let te=(O=P.filter(ie=>ie.overflows[0]<=0).sort((ie,U)=>ie.overflows[1]-U.overflows[1])[0])==null?void 0:O.placement;if(!te)switch(m){case"bestFit":{var k;const ie=(k=P.filter(U=>{if(M){const $=Vr(U.placement);return $===v||$==="y"}return!0}).map(U=>[U.placement,U.overflows.filter($=>$>0).reduce(($,j)=>$+j,0)]).sort((U,$)=>U[1]-$[1])[0])==null?void 0:k[0];ie&&(te=ie);break}case"initialPlacement":te=a;break}if(s!==te)return{reset:{placement:te}}}return{}}}};function zE(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function qE(t){return Ij.some(e=>t[e]>=0)}const jj=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=ys(t,e);switch(r){case"referenceHidden":{const i=await Cu(e,{...s,elementContext:"reference"}),o=zE(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:qE(o)}}}case"escaped":{const i=await Cu(e,{...s,altBoundary:!0}),o=zE(i,n.floating);return{data:{escapedOffsets:o,escaped:qE(o)}}}default:return{}}}}},tA=new Set(["left","top"]);async function Fj(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=vs(n),a=Vl(n),l=Vr(n)==="y",c=tA.has(o)?-1:1,d=i&&l?-1:1,f=ys(e,t);let{mainAxis:p,crossAxis:m,alignmentAxis:I}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof I=="number"&&(m=a==="end"?I*-1:I),l?{x:m*d,y:p*c}:{x:p*c,y:m*d}}const Uj=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await Fj(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},Bj=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:T=>{let{x,y:v}=T;return{x,y:v}}},...l}=ys(t,e),c={x:n,y:r},d=await Cu(e,l),f=Vr(vs(s)),p=Qw(f);let m=c[p],I=c[f];if(i){const T=p==="y"?"top":"left",x=p==="y"?"bottom":"right",v=m+d[T],w=m-d[x];m=Yy(v,m,w)}if(o){const T=f==="y"?"top":"left",x=f==="y"?"bottom":"right",v=I+d[T],w=I-d[x];I=Yy(v,I,w)}const y=a.fn({...e,[p]:m,[f]:I});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[p]:i,[f]:o}}}}}},$j=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=ys(t,e),d={x:n,y:r},f=Vr(s),p=Qw(f);let m=d[p],I=d[f];const y=ys(a,e),T=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const w=p==="y"?"height":"width",C=i.reference[p]-i.floating[w]+T.mainAxis,D=i.reference[p]+i.reference[w]-T.mainAxis;m<C?m=C:m>D&&(m=D)}if(c){var x,v;const w=p==="y"?"width":"height",C=tA.has(vs(s)),D=i.reference[f]-i.floating[w]+(C&&((x=o.offset)==null?void 0:x[f])||0)+(C?0:T.crossAxis),M=i.reference[f]+i.reference[w]+(C?0:((v=o.offset)==null?void 0:v[f])||0)-(C?T.crossAxis:0);I<D?I=D:I>M&&(I=M)}return{[p]:m,[f]:I}}}},zj=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=ys(t,e),d=await Cu(e,c),f=vs(s),p=Vl(s),m=Vr(s)==="y",{width:I,height:y}=i.floating;let T,x;f==="top"||f==="bottom"?(T=f,x=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(x=f,T=p==="end"?"top":"bottom");const v=y-d.top-d.bottom,w=I-d.left-d.right,C=ki(y-d[T],v),D=ki(I-d[x],w),M=!e.middlewareData.shift;let b=C,S=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(S=w),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(b=v),M&&!p){const P=Rn(d.left,0),N=Rn(d.right,0),O=Rn(d.top,0),k=Rn(d.bottom,0);m?S=I-2*(P!==0||N!==0?P+N:Rn(d.left,d.right)):b=y-2*(O!==0||k!==0?O+k:Rn(d.top,d.bottom))}await l({...e,availableWidth:S,availableHeight:b});const R=await o.getDimensions(a.floating);return I!==R.width||y!==R.height?{reset:{rects:!0}}:{}}}};function kp(){return typeof window<"u"}function Ll(t){return nA(t)?(t.nodeName||"").toLowerCase():"#document"}function On(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Yr(t){var e;return(e=(nA(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function nA(t){return kp()?t instanceof Node||t instanceof On(t).Node:!1}function vr(t){return kp()?t instanceof Element||t instanceof On(t).Element:!1}function Kr(t){return kp()?t instanceof HTMLElement||t instanceof On(t).HTMLElement:!1}function HE(t){return!kp()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof On(t).ShadowRoot}const qj=new Set(["inline","contents"]);function nd(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=wr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!qj.has(s)}const Hj=new Set(["table","td","th"]);function Wj(t){return Hj.has(Ll(t))}const Kj=[":popover-open",":modal"];function Np(t){return Kj.some(e=>{try{return t.matches(e)}catch{return!1}})}const Gj=["transform","translate","scale","rotate","perspective"],Qj=["transform","translate","scale","rotate","perspective","filter"],Yj=["paint","layout","strict","content"];function Jw(t){const e=Zw(),n=vr(t)?wr(t):t;return Gj.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||Qj.some(r=>(n.willChange||"").includes(r))||Yj.some(r=>(n.contain||"").includes(r))}function Xj(t){let e=Ni(t);for(;Kr(e)&&!pl(e);){if(Jw(e))return e;if(Np(e))return null;e=Ni(e)}return null}function Zw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Jj=new Set(["html","body","#document"]);function pl(t){return Jj.has(Ll(t))}function wr(t){return On(t).getComputedStyle(t)}function Dp(t){return vr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ni(t){if(Ll(t)==="html")return t;const e=t.assignedSlot||t.parentNode||HE(t)&&t.host||Yr(t);return HE(e)?e.host:e}function rA(t){const e=Ni(t);return pl(e)?t.ownerDocument?t.ownerDocument.body:t.body:Kr(e)&&nd(e)?e:rA(e)}function Au(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=rA(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=On(s);if(i){const a=Jy(o);return e.concat(o,o.visualViewport||[],nd(s)?s:[],a&&n?Au(a):[])}return e.concat(s,Au(s,[],n))}function Jy(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function sA(t){const e=wr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Kr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Rf(n)!==i||Rf(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function e_(t){return vr(t)?t:t.contextElement}function Wa(t){const e=e_(t);if(!Kr(e))return $r(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=sA(e);let o=(i?Rf(n.width):n.width)/r,a=(i?Rf(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Zj=$r(0);function iA(t){const e=On(t);return!Zw()||!e.visualViewport?Zj:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function eF(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==On(t)?!1:e}function Oo(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=e_(t);let o=$r(1);e&&(r?vr(r)&&(o=Wa(r)):o=Wa(t));const a=eF(i,n,r)?iA(i):$r(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(i){const p=On(i),m=r&&vr(r)?On(r):r;let I=p,y=Jy(I);for(;y&&r&&m!==I;){const T=Wa(y),x=y.getBoundingClientRect(),v=wr(y),w=x.left+(y.clientLeft+parseFloat(v.paddingLeft))*T.x,C=x.top+(y.clientTop+parseFloat(v.paddingTop))*T.y;l*=T.x,c*=T.y,d*=T.x,f*=T.y,l+=w,c+=C,I=On(y),y=Jy(I)}}return kf({width:d,height:f,x:l,y:c})}function t_(t,e){const n=Dp(t).scrollLeft;return e?e.left+n:Oo(Yr(t)).left+n}function oA(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:t_(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function tF(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Yr(r),a=e?Np(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=$r(1);const d=$r(0),f=Kr(r);if((f||!f&&!i)&&((Ll(r)!=="body"||nd(o))&&(l=Dp(r)),Kr(r))){const m=Oo(r);c=Wa(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const p=o&&!f&&!i?oA(o,l,!0):$r(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+p.x,y:n.y*c.y-l.scrollTop*c.y+d.y+p.y}}function nF(t){return Array.from(t.getClientRects())}function rF(t){const e=Yr(t),n=Dp(t),r=t.ownerDocument.body,s=Rn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Rn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+t_(t);const a=-n.scrollTop;return wr(r).direction==="rtl"&&(o+=Rn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function sF(t,e){const n=On(t),r=Yr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=Zw();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}const iF=new Set(["absolute","fixed"]);function oF(t,e){const n=Oo(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Kr(t)?Wa(t):$r(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function WE(t,e,n){let r;if(e==="viewport")r=sF(t,n);else if(e==="document")r=rF(Yr(t));else if(vr(e))r=oF(e,n);else{const s=iA(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return kf(r)}function aA(t,e){const n=Ni(t);return n===e||!vr(n)||pl(n)?!1:wr(n).position==="fixed"||aA(n,e)}function aF(t,e){const n=e.get(t);if(n)return n;let r=Au(t,[],!1).filter(a=>vr(a)&&Ll(a)!=="body"),s=null;const i=wr(t).position==="fixed";let o=i?Ni(t):t;for(;vr(o)&&!pl(o);){const a=wr(o),l=Jw(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&iF.has(s.position)||nd(o)&&!l&&aA(t,o))?r=r.filter(d=>d!==o):s=a,o=Ni(o)}return e.set(t,r),r}function lF(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Np(e)?[]:aF(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,d)=>{const f=WE(e,d,s);return c.top=Rn(f.top,c.top),c.right=ki(f.right,c.right),c.bottom=ki(f.bottom,c.bottom),c.left=Rn(f.left,c.left),c},WE(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function cF(t){const{width:e,height:n}=sA(t);return{width:e,height:n}}function uF(t,e,n){const r=Kr(e),s=Yr(e),i=n==="fixed",o=Oo(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=$r(0);function c(){l.x=t_(s)}if(r||!r&&!i)if((Ll(e)!=="body"||nd(s))&&(a=Dp(e)),r){const m=Oo(e,!0,i,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else s&&c();i&&!r&&s&&c();const d=s&&!r&&!i?oA(s,a):$r(0),f=o.left+a.scrollLeft-l.x-d.x,p=o.top+a.scrollTop-l.y-d.y;return{x:f,y:p,width:o.width,height:o.height}}function wg(t){return wr(t).position==="static"}function KE(t,e){if(!Kr(t)||wr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Yr(t)===n&&(n=n.ownerDocument.body),n}function lA(t,e){const n=On(t);if(Np(t))return n;if(!Kr(t)){let s=Ni(t);for(;s&&!pl(s);){if(vr(s)&&!wg(s))return s;s=Ni(s)}return n}let r=KE(t,e);for(;r&&Wj(r)&&wg(r);)r=KE(r,e);return r&&pl(r)&&wg(r)&&!Jw(r)?n:r||Xj(t)||n}const dF=async function(t){const e=this.getOffsetParent||lA,n=this.getDimensions,r=await n(t.floating);return{reference:uF(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function hF(t){return wr(t).direction==="rtl"}const fF={convertOffsetParentRelativeRectToViewportRelativeRect:tF,getDocumentElement:Yr,getClippingRect:lF,getOffsetParent:lA,getElementRects:dF,getClientRects:nF,getDimensions:cF,getScale:Wa,isElement:vr,isRTL:hF};function cA(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function pF(t,e){let n=null,r;const s=Yr(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const c=t.getBoundingClientRect(),{left:d,top:f,width:p,height:m}=c;if(a||e(),!p||!m)return;const I=Zd(f),y=Zd(s.clientWidth-(d+p)),T=Zd(s.clientHeight-(f+m)),x=Zd(d),w={rootMargin:-I+"px "+-y+"px "+-T+"px "+-x+"px",threshold:Rn(0,ki(1,l))||1};let C=!0;function D(M){const b=M[0].intersectionRatio;if(b!==l){if(!C)return o();b?o(!1,b):r=setTimeout(()=>{o(!1,1e-7)},1e3)}b===1&&!cA(c,t.getBoundingClientRect())&&o(),C=!1}try{n=new IntersectionObserver(D,{...w,root:s.ownerDocument})}catch{n=new IntersectionObserver(D,w)}n.observe(t)}return o(!0),i}function mF(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=e_(t),d=s||i?[...c?Au(c):[],...Au(e)]:[];d.forEach(x=>{s&&x.addEventListener("scroll",n,{passive:!0}),i&&x.addEventListener("resize",n)});const f=c&&a?pF(c,n):null;let p=-1,m=null;o&&(m=new ResizeObserver(x=>{let[v]=x;v&&v.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(e)})),n()}),c&&!l&&m.observe(c),m.observe(e));let I,y=l?Oo(t):null;l&&T();function T(){const x=Oo(t);y&&!cA(y,x)&&n(),y=x,I=requestAnimationFrame(T)}return n(),()=>{var x;d.forEach(v=>{s&&v.removeEventListener("scroll",n),i&&v.removeEventListener("resize",n)}),f==null||f(),(x=m)==null||x.disconnect(),m=null,l&&cancelAnimationFrame(I)}}const gF=Uj,yF=Bj,vF=Lj,wF=zj,_F=jj,GE=Vj,xF=$j,EF=(t,e,n)=>{const r=new Map,s={platform:fF,...n},i={...s.platform,_c:r};return Mj(t,e,{...s,platform:i})};var TF=typeof document<"u",IF=function(){},Mh=TF?_.useLayoutEffect:IF;function Nf(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Nf(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Nf(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function uA(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function QE(t,e){const n=uA(t);return Math.round(e*n)/n}function _g(t){const e=_.useRef(t);return Mh(()=>{e.current=t}),e}function bF(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[d,f]=_.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,m]=_.useState(r);Nf(p,r)||m(r);const[I,y]=_.useState(null),[T,x]=_.useState(null),v=_.useCallback(U=>{U!==M.current&&(M.current=U,y(U))},[]),w=_.useCallback(U=>{U!==b.current&&(b.current=U,x(U))},[]),C=i||I,D=o||T,M=_.useRef(null),b=_.useRef(null),S=_.useRef(d),R=l!=null,P=_g(l),N=_g(s),O=_g(c),k=_.useCallback(()=>{if(!M.current||!b.current)return;const U={placement:e,strategy:n,middleware:p};N.current&&(U.platform=N.current),EF(M.current,b.current,U).then($=>{const j={...$,isPositioned:O.current!==!1};q.current&&!Nf(S.current,j)&&(S.current=j,Xo.flushSync(()=>{f(j)}))})},[p,e,n,N,O]);Mh(()=>{c===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,f(U=>({...U,isPositioned:!1})))},[c]);const q=_.useRef(!1);Mh(()=>(q.current=!0,()=>{q.current=!1}),[]),Mh(()=>{if(C&&(M.current=C),D&&(b.current=D),C&&D){if(P.current)return P.current(C,D,k);k()}},[C,D,k,P,R]);const re=_.useMemo(()=>({reference:M,floating:b,setReference:v,setFloating:w}),[v,w]),te=_.useMemo(()=>({reference:C,floating:D}),[C,D]),ie=_.useMemo(()=>{const U={position:n,left:0,top:0};if(!te.floating)return U;const $=QE(te.floating,d.x),j=QE(te.floating,d.y);return a?{...U,transform:"translate("+$+"px, "+j+"px)",...uA(te.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:$,top:j}},[n,a,te.floating,d.x,d.y]);return _.useMemo(()=>({...d,update:k,refs:re,elements:te,floatingStyles:ie}),[d,k,re,te,ie])}const SF=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?GE({element:r.current,padding:s}).fn(n):{}:r?GE({element:r,padding:s}).fn(n):{}}}},CF=(t,e)=>({...gF(t),options:[t,e]}),AF=(t,e)=>({...yF(t),options:[t,e]}),RF=(t,e)=>({...xF(t),options:[t,e]}),PF=(t,e)=>({...vF(t),options:[t,e]}),kF=(t,e)=>({...wF(t),options:[t,e]}),NF=(t,e)=>({..._F(t),options:[t,e]}),DF=(t,e)=>({...SF(t),options:[t,e]});var OF="Arrow",dA=_.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return h.jsx(Se.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:h.jsx("polygon",{points:"0,0 30,0 15,10"})})});dA.displayName=OF;var MF=dA;function hA(t){const[e,n]=_.useState(void 0);return Ut(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var n_="Popper",[fA,Op]=Jo(n_),[VF,pA]=fA(n_),mA=t=>{const{__scopePopper:e,children:n}=t,[r,s]=_.useState(null);return h.jsx(VF,{scope:e,anchor:r,onAnchorChange:s,children:n})};mA.displayName=n_;var gA="PopperAnchor",yA=_.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=pA(gA,n),o=_.useRef(null),a=et(e,o);return _.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:h.jsx(Se.div,{...s,ref:a})});yA.displayName=gA;var r_="PopperContent",[LF,jF]=fA(r_),vA=_.forwardRef((t,e)=>{var J,Ce,We,Ae,xe,Ie;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:m="optimized",onPlaced:I,...y}=t,T=pA(r_,n),[x,v]=_.useState(null),w=et(e,gt=>v(gt)),[C,D]=_.useState(null),M=hA(C),b=(M==null?void 0:M.width)??0,S=(M==null?void 0:M.height)??0,R=r+(i!=="center"?"-"+i:""),P=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},N=Array.isArray(c)?c:[c],O=N.length>0,k={padding:P,boundary:N.filter(UF),altBoundary:O},{refs:q,floatingStyles:re,placement:te,isPositioned:ie,middlewareData:U}=bF({strategy:"fixed",placement:R,whileElementsMounted:(...gt)=>mF(...gt,{animationFrame:m==="always"}),elements:{reference:T.anchor},middleware:[CF({mainAxis:s+S,alignmentAxis:o}),l&&AF({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?RF():void 0,...k}),l&&PF({...k}),kF({...k,apply:({elements:gt,rects:Xt,availableWidth:Jr,availableHeight:Un})=>{const{width:er,height:Rs}=Xt.reference,nt=gt.floating.style;nt.setProperty("--radix-popper-available-width",`${Jr}px`),nt.setProperty("--radix-popper-available-height",`${Un}px`),nt.setProperty("--radix-popper-anchor-width",`${er}px`),nt.setProperty("--radix-popper-anchor-height",`${Rs}px`)}}),C&&DF({element:C,padding:a}),BF({arrowWidth:b,arrowHeight:S}),p&&NF({strategy:"referenceHidden",...k})]}),[$,j]=xA(te),H=yr(I);Ut(()=>{ie&&(H==null||H())},[ie,H]);const X=(J=U.arrow)==null?void 0:J.x,ae=(Ce=U.arrow)==null?void 0:Ce.y,le=((We=U.arrow)==null?void 0:We.centerOffset)!==0,[we,ce]=_.useState();return Ut(()=>{x&&ce(window.getComputedStyle(x).zIndex)},[x]),h.jsx("div",{ref:q.setFloating,"data-radix-popper-content-wrapper":"",style:{...re,transform:ie?re.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:we,"--radix-popper-transform-origin":[(Ae=U.transformOrigin)==null?void 0:Ae.x,(xe=U.transformOrigin)==null?void 0:xe.y].join(" "),...((Ie=U.hide)==null?void 0:Ie.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:h.jsx(LF,{scope:n,placedSide:$,onArrowChange:D,arrowX:X,arrowY:ae,shouldHideArrow:le,children:h.jsx(Se.div,{"data-side":$,"data-align":j,...y,ref:w,style:{...y.style,animation:ie?void 0:"none"}})})})});vA.displayName=r_;var wA="PopperArrow",FF={top:"bottom",right:"left",bottom:"top",left:"right"},_A=_.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=jF(wA,r),o=FF[i.placedSide];return h.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:h.jsx(MF,{...s,ref:n,style:{...s.style,display:"block"}})})});_A.displayName=wA;function UF(t){return t!==null}var BF=t=>({name:"transformOrigin",options:t,fn(e){var T,x,v;const{placement:n,rects:r,middlewareData:s}=e,o=((T=s.arrow)==null?void 0:T.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,d]=xA(n),f={start:"0%",center:"50%",end:"100%"}[d],p=(((x=s.arrow)==null?void 0:x.x)??0)+a/2,m=(((v=s.arrow)==null?void 0:v.y)??0)+l/2;let I="",y="";return c==="bottom"?(I=o?f:`${p}px`,y=`${-l}px`):c==="top"?(I=o?f:`${p}px`,y=`${r.floating.height+l}px`):c==="right"?(I=`${-l}px`,y=o?f:`${m}px`):c==="left"&&(I=`${r.floating.width+l}px`,y=o?f:`${m}px`),{data:{x:I,y}}}});function xA(t){const[e,n="center"]=t.split("-");return[e,n]}var $F=mA,EA=yA,TA=vA,IA=_A,[Mp,EK]=Jo("Tooltip",[Op]),s_=Op(),bA="TooltipProvider",zF=700,YE="tooltip.open",[qF,SA]=Mp(bA),CA=t=>{const{__scopeTooltip:e,delayDuration:n=zF,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=_.useRef(!0),a=_.useRef(!1),l=_.useRef(0);return _.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),h.jsx(qF,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:_.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:_.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:_.useCallback(c=>{a.current=c},[]),disableHoverableContent:s,children:i})};CA.displayName=bA;var AA="Tooltip",[TK,Vp]=Mp(AA),Zy="TooltipTrigger",HF=_.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Vp(Zy,n),i=SA(Zy,n),o=s_(n),a=_.useRef(null),l=et(e,a,s.onTriggerChange),c=_.useRef(!1),d=_.useRef(!1),f=_.useCallback(()=>c.current=!1,[]);return _.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),h.jsx(EA,{asChild:!0,...o,children:h.jsx(Se.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:ve(t.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:ve(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:ve(t.onPointerDown,()=>{s.open&&s.onClose(),c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ve(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:ve(t.onBlur,s.onClose),onClick:ve(t.onClick,s.onClose)})})});HF.displayName=Zy;var WF="TooltipPortal",[IK,KF]=Mp(WF,{forceMount:void 0}),ml="TooltipContent",RA=_.forwardRef((t,e)=>{const n=KF(ml,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Vp(ml,t.__scopeTooltip);return h.jsx(Cp,{present:r||o.open,children:o.disableHoverableContent?h.jsx(PA,{side:s,...i,ref:e}):h.jsx(GF,{side:s,...i,ref:e})})}),GF=_.forwardRef((t,e)=>{const n=Vp(ml,t.__scopeTooltip),r=SA(ml,t.__scopeTooltip),s=_.useRef(null),i=et(e,s),[o,a]=_.useState(null),{trigger:l,onClose:c}=n,d=s.current,{onPointerInTransitChange:f}=r,p=_.useCallback(()=>{a(null),f(!1)},[f]),m=_.useCallback((I,y)=>{const T=I.currentTarget,x={x:I.clientX,y:I.clientY},v=ZF(x,T.getBoundingClientRect()),w=e4(x,v),C=t4(y.getBoundingClientRect()),D=r4([...w,...C]);a(D),f(!0)},[f]);return _.useEffect(()=>()=>p(),[p]),_.useEffect(()=>{if(l&&d){const I=T=>m(T,d),y=T=>m(T,l);return l.addEventListener("pointerleave",I),d.addEventListener("pointerleave",y),()=>{l.removeEventListener("pointerleave",I),d.removeEventListener("pointerleave",y)}}},[l,d,m,p]),_.useEffect(()=>{if(o){const I=y=>{const T=y.target,x={x:y.clientX,y:y.clientY},v=(l==null?void 0:l.contains(T))||(d==null?void 0:d.contains(T)),w=!n4(x,o);v?p():w&&(p(),c())};return document.addEventListener("pointermove",I),()=>document.removeEventListener("pointermove",I)}},[l,d,o,c,p]),h.jsx(PA,{...t,ref:i})}),[QF,YF]=Mp(AA,{isInside:!1}),XF=cV("TooltipContent"),PA=_.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=Vp(ml,n),c=s_(n),{onClose:d}=l;return _.useEffect(()=>(document.addEventListener(YE,d),()=>document.removeEventListener(YE,d)),[d]),_.useEffect(()=>{if(l.trigger){const f=p=>{const m=p.target;m!=null&&m.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),h.jsx(Sp,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:h.jsxs(TA,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[h.jsx(XF,{children:r}),h.jsx(QF,{scope:n,isInside:!0,children:h.jsx(kV,{id:l.contentId,role:"tooltip",children:s||r})})]})})});RA.displayName=ml;var kA="TooltipArrow",JF=_.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=s_(n);return YF(kA,n).isInside?null:h.jsx(IA,{...s,...r,ref:e})});JF.displayName=kA;function ZF(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function e4(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function t4(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function n4(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],c=a.x,d=a.y,f=l.x,p=l.y;d>r!=p>r&&n<(f-c)*(r-d)/(p-d)+c&&(s=!s)}return s}function r4(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),s4(e)}function s4(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var i4=CA,NA=RA;const o4=i4,a4=_.forwardRef(({className:t,sideOffset:e=4,...n},r)=>h.jsx(NA,{ref:r,sideOffset:e,className:Ue("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));a4.displayName=NA.displayName;var Lp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},jp=typeof window>"u"||"Deno"in globalThis;function ar(){}function l4(t,e){return typeof t=="function"?t(e):t}function c4(t){return typeof t=="number"&&t>=0&&t!==1/0}function u4(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ev(t,e){return typeof t=="function"?t(e):t}function d4(t,e){return typeof t=="function"?t(e):t}function XE(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==i_(o,e.options))return!1}else if(!Pu(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function JE(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Ru(e.options.mutationKey)!==Ru(i))return!1}else if(!Pu(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function i_(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ru)(t)}function Ru(t){return JSON.stringify(t,(e,n)=>tv(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Pu(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Pu(t[n],e[n])):!1}function DA(t,e){if(t===e)return t;const n=ZE(t)&&ZE(e);if(n||tv(t)&&tv(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{},l=new Set(r);let c=0;for(let d=0;d<o;d++){const f=n?d:i[d];(!n&&l.has(f)||n)&&t[f]===void 0&&e[f]===void 0?(a[f]=void 0,c++):(a[f]=DA(t[f],e[f]),a[f]===t[f]&&t[f]!==void 0&&c++)}return s===o&&c===s?t:a}return e}function ZE(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function tv(t){if(!eT(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!eT(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function eT(t){return Object.prototype.toString.call(t)==="[object Object]"}function h4(t){return new Promise(e=>{setTimeout(e,t)})}function f4(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?DA(t,e):e}function p4(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function m4(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var o_=Symbol();function OA(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===o_?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var go,ri,Za,F1,g4=(F1=class extends Lp{constructor(){super();Pe(this,go);Pe(this,ri);Pe(this,Za);pe(this,Za,e=>{if(!jp&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){z(this,ri)||this.setEventListener(z(this,Za))}onUnsubscribe(){var e;this.hasListeners()||((e=z(this,ri))==null||e.call(this),pe(this,ri,void 0))}setEventListener(e){var n;pe(this,Za,e),(n=z(this,ri))==null||n.call(this),pe(this,ri,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){z(this,go)!==e&&(pe(this,go,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof z(this,go)=="boolean"?z(this,go):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},go=new WeakMap,ri=new WeakMap,Za=new WeakMap,F1),MA=new g4,el,si,tl,U1,y4=(U1=class extends Lp{constructor(){super();Pe(this,el,!0);Pe(this,si);Pe(this,tl);pe(this,tl,e=>{if(!jp&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){z(this,si)||this.setEventListener(z(this,tl))}onUnsubscribe(){var e;this.hasListeners()||((e=z(this,si))==null||e.call(this),pe(this,si,void 0))}setEventListener(e){var n;pe(this,tl,e),(n=z(this,si))==null||n.call(this),pe(this,si,e(this.setOnline.bind(this)))}setOnline(e){z(this,el)!==e&&(pe(this,el,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return z(this,el)}},el=new WeakMap,si=new WeakMap,tl=new WeakMap,U1),Df=new y4;function v4(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function w4(t){return Math.min(1e3*2**t,3e4)}function VA(t){return(t??"online")==="online"?Df.isOnline():!0}var LA=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function xg(t){return t instanceof LA}function jA(t){let e=!1,n=0,r=!1,s;const i=v4(),o=y=>{var T;r||(p(new LA(y)),(T=t.abort)==null||T.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>MA.isFocused()&&(t.networkMode==="always"||Df.isOnline())&&t.canRun(),d=()=>VA(t.networkMode)&&t.canRun(),f=y=>{var T;r||(r=!0,(T=t.onSuccess)==null||T.call(t,y),s==null||s(),i.resolve(y))},p=y=>{var T;r||(r=!0,(T=t.onError)==null||T.call(t,y),s==null||s(),i.reject(y))},m=()=>new Promise(y=>{var T;s=x=>{(r||c())&&y(x)},(T=t.onPause)==null||T.call(t)}).then(()=>{var y;s=void 0,r||(y=t.onContinue)==null||y.call(t)}),I=()=>{if(r)return;let y;const T=n===0?t.initialPromise:void 0;try{y=T??t.fn()}catch(x){y=Promise.reject(x)}Promise.resolve(y).then(f).catch(x=>{var M;if(r)return;const v=t.retry??(jp?0:3),w=t.retryDelay??w4,C=typeof w=="function"?w(n,x):w,D=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,x);if(e||!D){p(x);return}n++,(M=t.onFail)==null||M.call(t,n,x),h4(C).then(()=>c()?void 0:m()).then(()=>{e?p(x):I()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?I():m().then(I),i)}}var _4=t=>setTimeout(t,0);function x4(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=_4;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var rn=x4(),yo,B1,FA=(B1=class{constructor(){Pe(this,yo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),c4(this.gcTime)&&pe(this,yo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(jp?1/0:5*60*1e3))}clearGcTimeout(){z(this,yo)&&(clearTimeout(z(this,yo)),pe(this,yo,void 0))}},yo=new WeakMap,B1),nl,vo,$n,wo,Ht,Gu,_o,lr,ns,$1,E4=($1=class extends FA{constructor(n){super();Pe(this,lr);Pe(this,nl);Pe(this,vo);Pe(this,$n);Pe(this,wo);Pe(this,Ht);Pe(this,Gu);Pe(this,_o);pe(this,_o,!1),pe(this,Gu,n.defaultOptions),this.setOptions(n.options),this.observers=[],pe(this,wo,n.client),pe(this,$n,z(this,wo).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,pe(this,nl,I4(this.options)),this.state=n.state??z(this,nl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=z(this,Ht))==null?void 0:n.promise}setOptions(n){this.options={...z(this,Gu),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&z(this,$n).remove(this)}setData(n,r){const s=f4(this.state.data,n,this.options);return Bt(this,lr,ns).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){Bt(this,lr,ns).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=z(this,Ht))==null?void 0:s.promise;return(i=z(this,Ht))==null||i.cancel(n),r?r.then(ar).catch(ar):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(z(this,nl))}isActive(){return this.observers.some(n=>d4(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===o_||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>ev(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!u4(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=z(this,Ht))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=z(this,Ht))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),z(this,$n).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(z(this,Ht)&&(z(this,_o)?z(this,Ht).cancel({revert:!0}):z(this,Ht).cancelRetry()),this.scheduleGc()),z(this,$n).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Bt(this,lr,ns).call(this,{type:"invalidate"})}fetch(n,r){var d,f,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(z(this,Ht))return z(this,Ht).continueRetry(),z(this,Ht).promise}if(n&&this.setOptions(n),!this.options.queryFn){const m=this.observers.find(I=>I.options.queryFn);m&&this.setOptions(m.options)}const s=new AbortController,i=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(pe(this,_o,!0),s.signal)})},o=()=>{const m=OA(this.options,r),y=(()=>{const T={client:z(this,wo),queryKey:this.queryKey,meta:this.meta};return i(T),T})();return pe(this,_o,!1),this.options.persister?this.options.persister(m,y,this):m(y)},l=(()=>{const m={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:z(this,wo),state:this.state,fetchFn:o};return i(m),m})();(d=this.options.behavior)==null||d.onFetch(l,this),pe(this,vo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=l.fetchOptions)==null?void 0:f.meta))&&Bt(this,lr,ns).call(this,{type:"fetch",meta:(p=l.fetchOptions)==null?void 0:p.meta});const c=m=>{var I,y,T,x;xg(m)&&m.silent||Bt(this,lr,ns).call(this,{type:"error",error:m}),xg(m)||((y=(I=z(this,$n).config).onError)==null||y.call(I,m,this),(x=(T=z(this,$n).config).onSettled)==null||x.call(T,this.state.data,m,this)),this.scheduleGc()};return pe(this,Ht,jA({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:s.abort.bind(s),onSuccess:m=>{var I,y,T,x;if(m===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(v){c(v);return}(y=(I=z(this,$n).config).onSuccess)==null||y.call(I,m,this),(x=(T=z(this,$n).config).onSettled)==null||x.call(T,m,this.state.error,this),this.scheduleGc()},onError:c,onFail:(m,I)=>{Bt(this,lr,ns).call(this,{type:"failed",failureCount:m,error:I})},onPause:()=>{Bt(this,lr,ns).call(this,{type:"pause"})},onContinue:()=>{Bt(this,lr,ns).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),z(this,Ht).start()}},nl=new WeakMap,vo=new WeakMap,$n=new WeakMap,wo=new WeakMap,Ht=new WeakMap,Gu=new WeakMap,_o=new WeakMap,lr=new WeakSet,ns=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...T4(s.data,this.options),fetchMeta:n.meta??null};case"success":return pe(this,vo,void 0),{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return xg(i)&&i.revert&&z(this,vo)?{...z(this,vo),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),rn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),z(this,$n).notify({query:this,type:"updated",action:n})})},$1);function T4(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:VA(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function I4(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var kr,z1,b4=(z1=class extends Lp{constructor(e={}){super();Pe(this,kr);this.config=e,pe(this,kr,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??i_(s,n);let o=this.get(i);return o||(o=new E4({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){z(this,kr).has(e.queryHash)||(z(this,kr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=z(this,kr).get(e.queryHash);n&&(e.destroy(),n===e&&z(this,kr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){rn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return z(this,kr).get(e)}getAll(){return[...z(this,kr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>XE(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>XE(e,r)):n}notify(e){rn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){rn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){rn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},kr=new WeakMap,z1),Nr,en,xo,Dr,qs,q1,S4=(q1=class extends FA{constructor(n){super();Pe(this,Dr);Pe(this,Nr);Pe(this,en);Pe(this,xo);this.mutationId=n.mutationId,pe(this,en,n.mutationCache),pe(this,Nr,[]),this.state=n.state||C4(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){z(this,Nr).includes(n)||(z(this,Nr).push(n),this.clearGcTimeout(),z(this,en).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){pe(this,Nr,z(this,Nr).filter(r=>r!==n)),this.scheduleGc(),z(this,en).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){z(this,Nr).length||(this.state.status==="pending"?this.scheduleGc():z(this,en).remove(this))}continue(){var n;return((n=z(this,xo))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var o,a,l,c,d,f,p,m,I,y,T,x,v,w,C,D,M,b,S,R;const r=()=>{Bt(this,Dr,qs).call(this,{type:"continue"})};pe(this,xo,jA({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(P,N)=>{Bt(this,Dr,qs).call(this,{type:"failed",failureCount:P,error:N})},onPause:()=>{Bt(this,Dr,qs).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>z(this,en).canRun(this)}));const s=this.state.status==="pending",i=!z(this,xo).canStart();try{if(s)r();else{Bt(this,Dr,qs).call(this,{type:"pending",variables:n,isPaused:i}),await((a=(o=z(this,en).config).onMutate)==null?void 0:a.call(o,n,this));const N=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,n));N!==this.state.context&&Bt(this,Dr,qs).call(this,{type:"pending",context:N,variables:n,isPaused:i})}const P=await z(this,xo).start();return await((f=(d=z(this,en).config).onSuccess)==null?void 0:f.call(d,P,n,this.state.context,this)),await((m=(p=this.options).onSuccess)==null?void 0:m.call(p,P,n,this.state.context)),await((y=(I=z(this,en).config).onSettled)==null?void 0:y.call(I,P,null,this.state.variables,this.state.context,this)),await((x=(T=this.options).onSettled)==null?void 0:x.call(T,P,null,n,this.state.context)),Bt(this,Dr,qs).call(this,{type:"success",data:P}),P}catch(P){try{throw await((w=(v=z(this,en).config).onError)==null?void 0:w.call(v,P,n,this.state.context,this)),await((D=(C=this.options).onError)==null?void 0:D.call(C,P,n,this.state.context)),await((b=(M=z(this,en).config).onSettled)==null?void 0:b.call(M,void 0,P,this.state.variables,this.state.context,this)),await((R=(S=this.options).onSettled)==null?void 0:R.call(S,void 0,P,n,this.state.context)),P}finally{Bt(this,Dr,qs).call(this,{type:"error",error:P})}}finally{z(this,en).runNext(this)}}},Nr=new WeakMap,en=new WeakMap,xo=new WeakMap,Dr=new WeakSet,qs=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),rn.batch(()=>{z(this,Nr).forEach(s=>{s.onMutationUpdate(n)}),z(this,en).notify({mutation:this,type:"updated",action:n})})},q1);function C4(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var is,cr,Qu,H1,A4=(H1=class extends Lp{constructor(e={}){super();Pe(this,is);Pe(this,cr);Pe(this,Qu);this.config=e,pe(this,is,new Set),pe(this,cr,new Map),pe(this,Qu,0)}build(e,n,r){const s=new S4({mutationCache:this,mutationId:++Nd(this,Qu)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){z(this,is).add(e);const n=eh(e);if(typeof n=="string"){const r=z(this,cr).get(n);r?r.push(e):z(this,cr).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(z(this,is).delete(e)){const n=eh(e);if(typeof n=="string"){const r=z(this,cr).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&z(this,cr).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=eh(e);if(typeof n=="string"){const r=z(this,cr).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=eh(e);if(typeof n=="string"){const s=(r=z(this,cr).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){rn.batch(()=>{z(this,is).forEach(e=>{this.notify({type:"removed",mutation:e})}),z(this,is).clear(),z(this,cr).clear()})}getAll(){return Array.from(z(this,is))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>JE(n,r))}findAll(e={}){return this.getAll().filter(n=>JE(e,n))}notify(e){rn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return rn.batch(()=>Promise.all(e.map(n=>n.continue().catch(ar))))}},is=new WeakMap,cr=new WeakMap,Qu=new WeakMap,H1);function eh(t){var e;return(e=t.options.scope)==null?void 0:e.id}function tT(t){return{onFetch:(e,n)=>{var d,f,p,m,I;const r=e.options,s=(p=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:p.direction,i=((m=e.state.data)==null?void 0:m.pages)||[],o=((I=e.state.data)==null?void 0:I.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let y=!1;const T=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},x=OA(e.options,e.fetchOptions),v=async(w,C,D)=>{if(y)return Promise.reject();if(C==null&&w.pages.length)return Promise.resolve(w);const b=(()=>{const N={client:e.client,queryKey:e.queryKey,pageParam:C,direction:D?"backward":"forward",meta:e.options.meta};return T(N),N})(),S=await x(b),{maxPages:R}=e.options,P=D?m4:p4;return{pages:P(w.pages,S,R),pageParams:P(w.pageParams,C,R)}};if(s&&i.length){const w=s==="backward",C=w?R4:nT,D={pages:i,pageParams:o},M=C(r,D);a=await v(D,M,w)}else{const w=t??i.length;do{const C=l===0?o[0]??r.initialPageParam:nT(r,a);if(l>0&&C==null)break;a=await v(a,C),l++}while(l<w)}return a};e.options.persister?e.fetchFn=()=>{var y,T;return(T=(y=e.options).persister)==null?void 0:T.call(y,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function nT(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function R4(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var ut,ii,oi,rl,sl,ai,il,ol,W1,P4=(W1=class{constructor(t={}){Pe(this,ut);Pe(this,ii);Pe(this,oi);Pe(this,rl);Pe(this,sl);Pe(this,ai);Pe(this,il);Pe(this,ol);pe(this,ut,t.queryCache||new b4),pe(this,ii,t.mutationCache||new A4),pe(this,oi,t.defaultOptions||{}),pe(this,rl,new Map),pe(this,sl,new Map),pe(this,ai,0)}mount(){Nd(this,ai)._++,z(this,ai)===1&&(pe(this,il,MA.subscribe(async t=>{t&&(await this.resumePausedMutations(),z(this,ut).onFocus())})),pe(this,ol,Df.subscribe(async t=>{t&&(await this.resumePausedMutations(),z(this,ut).onOnline())})))}unmount(){var t,e;Nd(this,ai)._--,z(this,ai)===0&&((t=z(this,il))==null||t.call(this),pe(this,il,void 0),(e=z(this,ol))==null||e.call(this),pe(this,ol,void 0))}isFetching(t){return z(this,ut).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return z(this,ii).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=z(this,ut).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=z(this,ut).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(ev(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return z(this,ut).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=z(this,ut).get(r.queryHash),i=s==null?void 0:s.state.data,o=l4(e,i);if(o!==void 0)return z(this,ut).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return rn.batch(()=>z(this,ut).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=z(this,ut).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=z(this,ut);rn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=z(this,ut);return rn.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=rn.batch(()=>z(this,ut).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(ar).catch(ar)}invalidateQueries(t,e={}){return rn.batch(()=>(z(this,ut).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=rn.batch(()=>z(this,ut).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(ar)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(ar)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=z(this,ut).build(this,e);return n.isStaleByTime(ev(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ar).catch(ar)}fetchInfiniteQuery(t){return t.behavior=tT(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ar).catch(ar)}ensureInfiniteQueryData(t){return t.behavior=tT(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Df.isOnline()?z(this,ii).resumePausedMutations():Promise.resolve()}getQueryCache(){return z(this,ut)}getMutationCache(){return z(this,ii)}getDefaultOptions(){return z(this,oi)}setDefaultOptions(t){pe(this,oi,t)}setQueryDefaults(t,e){z(this,rl).set(Ru(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...z(this,rl).values()],n={};return e.forEach(r=>{Pu(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){z(this,sl).set(Ru(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...z(this,sl).values()],n={};return e.forEach(r=>{Pu(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...z(this,oi).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=i_(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===o_&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...z(this,oi).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){z(this,ut).clear(),z(this,ii).clear()}},ut=new WeakMap,ii=new WeakMap,oi=new WeakMap,rl=new WeakMap,sl=new WeakMap,ai=new WeakMap,il=new WeakMap,ol=new WeakMap,W1),k4=_.createContext(void 0),N4=({client:t,children:e})=>(_.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),h.jsx(k4.Provider,{value:t,children:e}));/**
 * react-router v7.9.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var rT="popstate";function D4(t={}){function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return nv("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:ku(s)}return M4(e,n,null,t)}function at(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Gr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function O4(){return Math.random().toString(36).substring(2,10)}function sT(t,e){return{usr:t.state,key:t.key,idx:e}}function nv(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?jl(e):e,state:n,key:e&&e.key||r||O4()}}function ku({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function jl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function M4(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a="POP",l=null,c=d();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function d(){return(o.state||{idx:null}).idx}function f(){a="POP";let T=d(),x=T==null?null:T-c;c=T,l&&l({action:a,location:y.location,delta:x})}function p(T,x){a="PUSH";let v=nv(y.location,T,x);c=d()+1;let w=sT(v,c),C=y.createHref(v);try{o.pushState(w,"",C)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;s.location.assign(C)}i&&l&&l({action:a,location:y.location,delta:1})}function m(T,x){a="REPLACE";let v=nv(y.location,T,x);c=d();let w=sT(v,c),C=y.createHref(v);o.replaceState(w,"",C),i&&l&&l({action:a,location:y.location,delta:0})}function I(T){return V4(T)}let y={get action(){return a},get location(){return t(s,o)},listen(T){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(rT,f),l=T,()=>{s.removeEventListener(rT,f),l=null}},createHref(T){return e(s,T)},createURL:I,encodeLocation(T){let x=I(T);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:p,replace:m,go(T){return o.go(T)}};return y}function V4(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),at(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:ku(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function UA(t,e,n="/"){return L4(t,e,n,!1)}function L4(t,e,n,r){let s=typeof e=="string"?jl(e):e,i=ws(s.pathname||"/",n);if(i==null)return null;let o=BA(t);j4(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=Q4(i);a=K4(o[l],c,r)}return a}function BA(t,e=[],n=[],r="",s=!1){let i=(o,a,l=s,c)=>{let d={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(r)&&l)return;at(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length)}let f=hs([r,d.relativePath]),p=n.concat(d);o.children&&o.children.length>0&&(at(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),BA(o.children,e,p,f,l)),!(o.path==null&&!o.index)&&e.push({path:f,score:H4(f,o.index),routesMeta:p})};return t.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,a);else for(let c of $A(o.path))i(o,a,!0,c)}),e}function $A(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=$A(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function j4(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:W4(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var F4=/^:[\w-]+$/,U4=3,B4=2,$4=1,z4=10,q4=-2,iT=t=>t==="*";function H4(t,e){let n=t.split("/"),r=n.length;return n.some(iT)&&(r+=q4),e&&(r+=B4),n.filter(s=>!iT(s)).reduce((s,i)=>s+(F4.test(i)?U4:i===""?$4:z4),r)}function W4(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function K4(t,e,n=!1){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",f=Of({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),p=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=Of({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:hs([i,f.pathname]),pathnameBase:Z4(hs([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=hs([i,f.pathnameBase]))}return o}function Of(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=G4(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,{paramName:d,isOptional:f},p)=>{if(d==="*"){let I=a[p]||"";o=i.slice(0,i.length-I.length).replace(/(.)\/+$/,"$1")}const m=a[p];return f&&!m?c[d]=void 0:c[d]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function G4(t,e=!1,n=!0){Gr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function Q4(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ws(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Y4(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?jl(t):t;return{pathname:n?n.startsWith("/")?n:X4(n,e):e,search:e3(r),hash:t3(s)}}function X4(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Eg(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function J4(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function zA(t){let e=J4(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function qA(t,e,n,r=!1){let s;typeof t=="string"?s=jl(t):(s={...t},at(!s.pathname||!s.pathname.includes("?"),Eg("?","pathname","search",s)),at(!s.pathname||!s.pathname.includes("#"),Eg("#","pathname","hash",s)),at(!s.search||!s.search.includes("#"),Eg("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}a=f>=0?e[f]:"/"}let l=Y4(s,a),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}var hs=t=>t.join("/").replace(/\/\/+/g,"/"),Z4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),e3=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,t3=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function n3(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var HA=["POST","PUT","PATCH","DELETE"];new Set(HA);var r3=["GET",...HA];new Set(r3);var Fl=_.createContext(null);Fl.displayName="DataRouter";var Fp=_.createContext(null);Fp.displayName="DataRouterState";_.createContext(!1);var WA=_.createContext({isTransitioning:!1});WA.displayName="ViewTransition";var s3=_.createContext(new Map);s3.displayName="Fetchers";var i3=_.createContext(null);i3.displayName="Await";var Xr=_.createContext(null);Xr.displayName="Navigation";var rd=_.createContext(null);rd.displayName="Location";var bs=_.createContext({outlet:null,matches:[],isDataRoute:!1});bs.displayName="Route";var a_=_.createContext(null);a_.displayName="RouteError";function o3(t,{relative:e}={}){at(sd(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=_.useContext(Xr),{hash:s,pathname:i,search:o}=id(t,{relative:e}),a=i;return n!=="/"&&(a=i==="/"?n:hs([n,i])),r.createHref({pathname:a,search:o,hash:s})}function sd(){return _.useContext(rd)!=null}function Ss(){return at(sd(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(rd).location}var KA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function GA(t){_.useContext(Xr).static||_.useLayoutEffect(t)}function a3(){let{isDataRoute:t}=_.useContext(bs);return t?_3():l3()}function l3(){at(sd(),"useNavigate() may be used only in the context of a <Router> component.");let t=_.useContext(Fl),{basename:e,navigator:n}=_.useContext(Xr),{matches:r}=_.useContext(bs),{pathname:s}=Ss(),i=JSON.stringify(zA(r)),o=_.useRef(!1);return GA(()=>{o.current=!0}),_.useCallback((l,c={})=>{if(Gr(o.current,KA),!o.current)return;if(typeof l=="number"){n.go(l);return}let d=qA(l,JSON.parse(i),s,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:hs([e,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[e,n,i,s,t])}_.createContext(null);function id(t,{relative:e}={}){let{matches:n}=_.useContext(bs),{pathname:r}=Ss(),s=JSON.stringify(zA(n));return _.useMemo(()=>qA(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function c3(t,e){return QA(t,e)}function QA(t,e,n,r,s){var v;at(sd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=_.useContext(Xr),{matches:o}=_.useContext(bs),a=o[o.length-1],l=a?a.params:{},c=a?a.pathname:"/",d=a?a.pathnameBase:"/",f=a&&a.route;{let w=f&&f.path||"";YA(c,!f||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let p=Ss(),m;if(e){let w=typeof e=="string"?jl(e):e;at(d==="/"||((v=w.pathname)==null?void 0:v.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${w.pathname}" was given in the \`location\` prop.`),m=w}else m=p;let I=m.pathname||"/",y=I;if(d!=="/"){let w=d.replace(/^\//,"").split("/");y="/"+I.replace(/^\//,"").split("/").slice(w.length).join("/")}let T=UA(t,{pathname:y});Gr(f||T!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Gr(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=p3(T&&T.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:hs([d,i.encodeLocation?i.encodeLocation(w.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?d:hs([d,i.encodeLocation?i.encodeLocation(w.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathnameBase])})),o,n,r,s);return e&&x?_.createElement(rd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},x):x}function u3(){let t=w3(),e=n3(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=_.createElement(_.Fragment,null,_.createElement("p",null,"💿 Hey developer 👋"),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:i},"ErrorBoundary")," or"," ",_.createElement("code",{style:i},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),n?_.createElement("pre",{style:s},n):null,o)}var d3=_.createElement(u3,null),h3=class extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?_.createElement(bs.Provider,{value:this.props.routeContext},_.createElement(a_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function f3({routeContext:t,match:e,children:n}){let r=_.useContext(Fl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),_.createElement(bs.Provider,{value:t},n)}function p3(t,e=[],n=null,r=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,o=n==null?void 0:n.errors;if(o!=null){let c=i.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);at(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let a=!1,l=-1;if(n)for(let c=0;c<i.length;c++){let d=i[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=c),d.route.id){let{loaderData:f,errors:p}=n,m=d.route.loader&&!f.hasOwnProperty(d.route.id)&&(!p||p[d.route.id]===void 0);if(d.route.lazy||m){a=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}return i.reduceRight((c,d,f)=>{let p,m=!1,I=null,y=null;n&&(p=o&&d.route.id?o[d.route.id]:void 0,I=d.route.errorElement||d3,a&&(l<0&&f===0?(YA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,y=null):l===f&&(m=!0,y=d.route.hydrateFallbackElement||null)));let T=e.concat(i.slice(0,f+1)),x=()=>{let v;return p?v=I:m?v=y:d.route.Component?v=_.createElement(d.route.Component,null):d.route.element?v=d.route.element:v=c,_.createElement(f3,{match:d,routeContext:{outlet:c,matches:T,isDataRoute:n!=null},children:v})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?_.createElement(h3,{location:n.location,revalidation:n.revalidation,component:I,error:p,children:x(),routeContext:{outlet:null,matches:T,isDataRoute:!0},unstable_onError:r}):x()},null)}function l_(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function m3(t){let e=_.useContext(Fl);return at(e,l_(t)),e}function g3(t){let e=_.useContext(Fp);return at(e,l_(t)),e}function y3(t){let e=_.useContext(bs);return at(e,l_(t)),e}function c_(t){let e=y3(t),n=e.matches[e.matches.length-1];return at(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function v3(){return c_("useRouteId")}function w3(){var r;let t=_.useContext(a_),e=g3("useRouteError"),n=c_("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function _3(){let{router:t}=m3("useNavigate"),e=c_("useNavigate"),n=_.useRef(!1);return GA(()=>{n.current=!0}),_.useCallback(async(s,i={})=>{Gr(n.current,KA),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...i}))},[t,e])}var oT={};function YA(t,e,n){!e&&!oT[t]&&(oT[t]=!0,Gr(!1,n))}_.memo(x3);function x3({routes:t,future:e,state:n,unstable_onError:r}){return QA(t,void 0,n,r,e)}function _a(t){at(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function E3({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:i=!1}){at(!sd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),a=_.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof n=="string"&&(n=jl(n));let{pathname:l="/",search:c="",hash:d="",state:f=null,key:p="default"}=n,m=_.useMemo(()=>{let I=ws(l,o);return I==null?null:{location:{pathname:I,search:c,hash:d,state:f,key:p},navigationType:r}},[o,l,c,d,f,p,r]);return Gr(m!=null,`<Router basename="${o}"> is not able to match the URL "${l}${c}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:_.createElement(Xr.Provider,{value:a},_.createElement(rd.Provider,{children:e,value:m}))}function T3({children:t,location:e}){return c3(rv(t),e)}function rv(t,e=[]){let n=[];return _.Children.forEach(t,(r,s)=>{if(!_.isValidElement(r))return;let i=[...e,s];if(r.type===_.Fragment){n.push.apply(n,rv(r.props.children,i));return}at(r.type===_a,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),at(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=rv(r.props.children,i)),n.push(o)}),n}var Vh="get",Lh="application/x-www-form-urlencoded";function Up(t){return t!=null&&typeof t.tagName=="string"}function I3(t){return Up(t)&&t.tagName.toLowerCase()==="button"}function b3(t){return Up(t)&&t.tagName.toLowerCase()==="form"}function S3(t){return Up(t)&&t.tagName.toLowerCase()==="input"}function C3(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function A3(t,e){return t.button===0&&(!e||e==="_self")&&!C3(t)}var th=null;function R3(){if(th===null)try{new FormData(document.createElement("form"),0),th=!1}catch{th=!0}return th}var P3=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Tg(t){return t!=null&&!P3.has(t)?(Gr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Lh}"`),null):t}function k3(t,e){let n,r,s,i,o;if(b3(t)){let a=t.getAttribute("action");r=a?ws(a,e):null,n=t.getAttribute("method")||Vh,s=Tg(t.getAttribute("enctype"))||Lh,i=new FormData(t)}else if(I3(t)||S3(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(r=l?ws(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||Vh,s=Tg(t.getAttribute("formenctype"))||Tg(a.getAttribute("enctype"))||Lh,i=new FormData(a,t),!R3()){let{name:c,type:d,value:f}=t;if(d==="image"){let p=c?`${c}.`:"";i.append(`${p}x`,"0"),i.append(`${p}y`,"0")}else c&&i.append(c,f)}}else{if(Up(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Vh,r=null,s=Lh,o=t}return i&&s==="text/plain"&&(o=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function u_(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function N3(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&ws(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function D3(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function O3(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function M3(t,e,n){let r=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let o=await D3(i,n);return o.links?o.links():[]}return[]}));return F3(r.flat(1).filter(O3).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function aT(t,e,n,r,s,i){let o=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,a=(l,c)=>{var d;return n[c].pathname!==l.pathname||((d=n[c].route.path)==null?void 0:d.endsWith("*"))&&n[c].params["*"]!==l.params["*"]};return i==="assets"?e.filter((l,c)=>o(l,c)||a(l,c)):i==="data"?e.filter((l,c)=>{var f;let d=r.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(o(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let p=l.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function V3(t,e,{includeHydrateFallback:n}={}){return L3(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function L3(t){return[...new Set(t)]}function j3(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function F3(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let i=JSON.stringify(j3(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}function XA(){let t=_.useContext(Fl);return u_(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function U3(){let t=_.useContext(Fp);return u_(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var d_=_.createContext(void 0);d_.displayName="FrameworkContext";function JA(){let t=_.useContext(d_);return u_(t,"You must render this element inside a <HydratedRouter> element"),t}function B3(t,e){let n=_.useContext(d_),[r,s]=_.useState(!1),[i,o]=_.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:d,onTouchStart:f}=e,p=_.useRef(null);_.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let y=x=>{x.forEach(v=>{o(v.isIntersecting)})},T=new IntersectionObserver(y,{threshold:.5});return p.current&&T.observe(p.current),()=>{T.disconnect()}}},[t]),_.useEffect(()=>{if(r){let y=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(y)}}},[r]);let m=()=>{s(!0)},I=()=>{s(!1),o(!1)};return n?t!=="intent"?[i,p,{}]:[i,p,{onFocus:yc(a,m),onBlur:yc(l,I),onMouseEnter:yc(c,m),onMouseLeave:yc(d,I),onTouchStart:yc(f,m)}]:[!1,p,{}]}function yc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function $3({page:t,...e}){let{router:n}=XA(),r=_.useMemo(()=>UA(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?_.createElement(q3,{page:t,matches:r,...e}):null}function z3(t){let{manifest:e,routeModules:n}=JA(),[r,s]=_.useState([]);return _.useEffect(()=>{let i=!1;return M3(t,e,n).then(o=>{i||s(o)}),()=>{i=!0}},[t,e,n]),r}function q3({page:t,matches:e,...n}){let r=Ss(),{manifest:s,routeModules:i}=JA(),{basename:o}=XA(),{loaderData:a,matches:l}=U3(),c=_.useMemo(()=>aT(t,e,l,s,r,"data"),[t,e,l,s,r]),d=_.useMemo(()=>aT(t,e,l,s,r,"assets"),[t,e,l,s,r]),f=_.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let I=new Set,y=!1;if(e.forEach(x=>{var w;let v=s.routes[x.route.id];!v||!v.hasLoader||(!c.some(C=>C.route.id===x.route.id)&&x.route.id in a&&((w=i[x.route.id])!=null&&w.shouldRevalidate)||v.hasClientLoader?y=!0:I.add(x.route.id))}),I.size===0)return[];let T=N3(t,o,"data");return y&&I.size>0&&T.searchParams.set("_routes",e.filter(x=>I.has(x.route.id)).map(x=>x.route.id).join(",")),[T.pathname+T.search]},[o,a,r,s,c,e,t,i]),p=_.useMemo(()=>V3(d,s),[d,s]),m=z3(d);return _.createElement(_.Fragment,null,f.map(I=>_.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...n})),p.map(I=>_.createElement("link",{key:I,rel:"modulepreload",href:I,...n})),m.map(({key:I,link:y})=>_.createElement("link",{key:I,nonce:n.nonce,...y})))}function H3(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var ZA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ZA&&(window.__reactRouterVersion="7.9.2")}catch{}function W3({basename:t,children:e,window:n}){let r=_.useRef();r.current==null&&(r.current=D4({window:n,v5Compat:!0}));let s=r.current,[i,o]=_.useState({action:s.action,location:s.location}),a=_.useCallback(l=>{_.startTransition(()=>o(l))},[o]);return _.useLayoutEffect(()=>s.listen(a),[s,a]),_.createElement(E3,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:s})}var eR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,on=_.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:f,...p},m){let{basename:I}=_.useContext(Xr),y=typeof c=="string"&&eR.test(c),T,x=!1;if(typeof c=="string"&&y&&(T=c,ZA))try{let R=new URL(window.location.href),P=c.startsWith("//")?new URL(R.protocol+c):new URL(c),N=ws(P.pathname,I);P.origin===R.origin&&N!=null?c=N+P.search+P.hash:x=!0}catch{Gr(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let v=o3(c,{relative:s}),[w,C,D]=B3(r,p),M=Y3(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:f});function b(R){e&&e(R),R.defaultPrevented||M(R)}let S=_.createElement("a",{...p,...D,href:T||v,onClick:x||i?e:b,ref:H3(m,C),target:l,"data-discover":!y&&n==="render"?"true":void 0});return w&&!y?_.createElement(_.Fragment,null,S,_.createElement($3,{page:v})):S});on.displayName="Link";var K3=_.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:i,to:o,viewTransition:a,children:l,...c},d){let f=id(o,{relative:c.relative}),p=Ss(),m=_.useContext(Fp),{navigator:I,basename:y}=_.useContext(Xr),T=m!=null&&t6(f)&&a===!0,x=I.encodeLocation?I.encodeLocation(f).pathname:f.pathname,v=p.pathname,w=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(v=v.toLowerCase(),w=w?w.toLowerCase():null,x=x.toLowerCase()),w&&y&&(w=ws(w,y)||w);const C=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let D=v===x||!s&&v.startsWith(x)&&v.charAt(C)==="/",M=w!=null&&(w===x||!s&&w.startsWith(x)&&w.charAt(x.length)==="/"),b={isActive:D,isPending:M,isTransitioning:T},S=D?e:void 0,R;typeof r=="function"?R=r(b):R=[r,D?"active":null,M?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let P=typeof i=="function"?i(b):i;return _.createElement(on,{...c,"aria-current":S,className:R,ref:d,style:P,to:o,viewTransition:a},typeof l=="function"?l(b):l)});K3.displayName="NavLink";var G3=_.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:i,method:o=Vh,action:a,onSubmit:l,relative:c,preventScrollReset:d,viewTransition:f,...p},m)=>{let I=Z3(),y=e6(a,{relative:c}),T=o.toLowerCase()==="get"?"get":"post",x=typeof a=="string"&&eR.test(a),v=w=>{if(l&&l(w),w.defaultPrevented)return;w.preventDefault();let C=w.nativeEvent.submitter,D=(C==null?void 0:C.getAttribute("formmethod"))||o;I(C||w.currentTarget,{fetcherKey:e,method:D,navigate:n,replace:s,state:i,relative:c,preventScrollReset:d,viewTransition:f})};return _.createElement("form",{ref:m,method:T,action:y,onSubmit:r?l:v,...p,"data-discover":!x&&t==="render"?"true":void 0})});G3.displayName="Form";function Q3(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tR(t){let e=_.useContext(Fl);return at(e,Q3(t)),e}function Y3(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:o}={}){let a=a3(),l=Ss(),c=id(t,{relative:i});return _.useCallback(d=>{if(A3(d,e)){d.preventDefault();let f=n!==void 0?n:ku(l)===ku(c);a(t,{replace:f,state:r,preventScrollReset:s,relative:i,viewTransition:o})}},[l,a,c,n,r,e,t,s,i,o])}var X3=0,J3=()=>`__${String(++X3)}__`;function Z3(){let{router:t}=tR("useSubmit"),{basename:e}=_.useContext(Xr),n=v3();return _.useCallback(async(r,s={})=>{let{action:i,method:o,encType:a,formData:l,body:c}=k3(r,e);if(s.navigate===!1){let d=s.fetcherKey||J3();await t.fetch(d,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:l,body:c,formMethod:s.method||o,formEncType:s.encType||a,flushSync:s.flushSync})}else await t.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:l,body:c,formMethod:s.method||o,formEncType:s.encType||a,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function e6(t,{relative:e}={}){let{basename:n}=_.useContext(Xr),r=_.useContext(bs);at(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...id(t||".",{relative:e})},o=Ss();if(t==null){i.search=o.search;let a=new URLSearchParams(i.search),l=a.getAll("index");if(l.some(d=>d==="")){a.delete("index"),l.filter(f=>f).forEach(f=>a.append("index",f));let d=a.toString();i.search=d?`?${d}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:hs([n,i.pathname])),ku(i)}function t6(t,{relative:e}={}){let n=_.useContext(WA);at(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=tR("useViewTransitionState"),s=id(t,{relative:e});if(!n.isTransitioning)return!1;let i=ws(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=ws(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Of(s.pathname,o)!=null||Of(s.pathname,i)!=null}const n6=Pp("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),$e=_.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?aV:"button";return h.jsx(o,{className:Ue(n6({variant:e,size:n,className:t})),ref:i,...s})});$e.displayName="Button";function wi(){const[t,e]=_.useState(!1),n=Ss(),r=i=>n.pathname===i,s=[{name:"Inicio",href:"/"},{name:"Inscribirme",href:"/inscripcion"},{name:"Reglamento",href:"/reglamento"}];return h.jsx("nav",{className:"bg-card/80 backdrop-blur-md border-b border-border sticky top-0 z-50",children:h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[h.jsxs("div",{className:"flex justify-between h-16",children:[h.jsx("div",{className:"flex items-center",children:h.jsxs(on,{to:"/",className:"flex items-center space-x-2",children:[h.jsx(aL,{className:"h-8 w-8 text-primary"}),h.jsx("span",{className:"font-bold text-lg text-primary",children:"Los Naranjos"})]})}),h.jsx("div",{className:"hidden md:flex items-center space-x-1",children:s.map(i=>h.jsx(on,{to:i.href,children:h.jsx($e,{variant:r(i.href)?"default":"ghost",className:"transition-smooth",children:i.name})},i.name))}),h.jsx("div",{className:"md:hidden flex items-center",children:h.jsx($e,{variant:"ghost",size:"sm",onClick:()=>e(!t),"aria-label":"Toggle menu",children:t?h.jsx(zC,{className:"h-6 w-6"}):h.jsx(rL,{className:"h-6 w-6"})})})]}),t&&h.jsx("div",{className:"md:hidden border-t border-border bg-card",children:h.jsx("div",{className:"px-2 pt-2 pb-3 space-y-1",children:s.map(i=>h.jsx(on,{to:i.href,onClick:()=>e(!1),children:h.jsx($e,{variant:r(i.href)?"default":"ghost",className:"w-full justify-start",children:i.name})},i.name))})})]})})}const ke=_.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:Ue("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));ke.displayName="Card";const Ne=_.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:Ue("flex flex-col space-y-1.5 p-6",t),...e}));Ne.displayName="CardHeader";const De=_.forwardRef(({className:t,...e},n)=>h.jsx("h3",{ref:n,className:Ue("text-2xl font-semibold leading-none tracking-tight",t),...e}));De.displayName="CardTitle";const pn=_.forwardRef(({className:t,...e},n)=>h.jsx("p",{ref:n,className:Ue("text-sm text-muted-foreground",t),...e}));pn.displayName="CardDescription";const rt=_.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:Ue("p-6 pt-0",t),...e}));rt.displayName="CardContent";const r6=_.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:Ue("flex items-center p-6 pt-0",t),...e}));r6.displayName="CardFooter";function s6({targetDate:t,className:e=""}){const[n,r]=_.useState({days:0,hours:0,minutes:0,seconds:0});_.useEffect(()=>{const i=()=>{const a=t.getTime()-new Date().getTime();return a>0?{days:Math.floor(a/864e5),hours:Math.floor(a/36e5%24),minutes:Math.floor(a/6e4%60),seconds:Math.floor(a/1e3%60)}:{days:0,hours:0,minutes:0,seconds:0}},o=setInterval(()=>{r(i())},1e3);return r(i()),()=>clearInterval(o)},[t]);const s=[{label:"Días",value:n.days},{label:"Horas",value:n.hours},{label:"Minutos",value:n.minutes},{label:"Segundos",value:n.seconds}];return h.jsx("div",{className:`flex justify-center gap-2 sm:gap-4 ${e}`,children:s.map(i=>h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("div",{className:"bg-card rounded-lg p-2 sm:p-4 shadow-card min-w-[60px] sm:min-w-[80px] text-center",children:h.jsx("span",{className:"block text-2xl sm:text-3xl font-bold text-primary tabular-nums",children:i.value.toString().padStart(2,"0")})}),h.jsx("span",{className:"text-xs sm:text-sm text-muted-foreground mt-1 font-medium",children:i.label})]},i.label))})}var h_="Progress",f_=100,[i6,CK]=Jo(h_),[o6,a6]=i6(h_),nR=_.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=l6,...o}=t;(s||s===0)&&!lT(s)&&console.error(c6(`${s}`,"Progress"));const a=lT(s)?s:f_;r!==null&&!cT(r,a)&&console.error(u6(`${r}`,"Progress"));const l=cT(r,a)?r:null,c=Mf(l)?i(l,a):void 0;return h.jsx(o6,{scope:n,value:l,max:a,children:h.jsx(Se.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":Mf(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":iR(l,a),"data-value":l??void 0,"data-max":a,...o,ref:e})})});nR.displayName=h_;var rR="ProgressIndicator",sR=_.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=a6(rR,n);return h.jsx(Se.div,{"data-state":iR(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});sR.displayName=rR;function l6(t,e){return`${Math.round(t/e*100)}%`}function iR(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Mf(t){return typeof t=="number"}function lT(t){return Mf(t)&&!isNaN(t)&&t>0}function cT(t,e){return Mf(t)&&!isNaN(t)&&t<=e&&t>=0}function c6(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${f_}\`.`}function u6(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${f_} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var oR=nR,d6=sR;const aR=_.forwardRef(({className:t,value:e,...n},r)=>h.jsx(oR,{ref:r,className:Ue("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:h.jsx(d6,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));aR.displayName=oR.displayName;function sv({current:t,max:e,className:n=""}){const r=t/e*100,s=e-t,i=()=>r>=100?"text-destructive":r>=80?"text-warm-accent":"text-lake-green";return h.jsxs("div",{className:`space-y-2 ${n}`,children:[h.jsxs("div",{className:"flex justify-between items-center text-sm",children:[h.jsx("span",{className:"text-muted-foreground",children:"Inscritos"}),h.jsxs("span",{className:`font-semibold ${i()}`,children:[t," / ",e]})]}),h.jsx(aR,{value:r,className:"h-2"}),h.jsx("div",{className:`text-center text-sm font-medium ${i()}`,children:s>0?h.jsxs(h.Fragment,{children:["Quedan ",h.jsx("span",{className:"font-bold",children:s})," cupos"]}):h.jsx("span",{className:"font-bold",children:"¡Cupo agotado!"})})]})}const h6=Pp("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Vf({className:t,variant:e,...n}){return h.jsx("div",{className:Ue(h6({variant:e}),t),...n})}const f6="/naranjos-swim-fest/assets/lago-yojoa-hero-DzdtBhrm.jpg",p6=()=>{};var uT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},m6=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},cR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,d=i>>2,f=(i&3)<<4|a>>4;let p=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(p=64)),r.push(n[d],n[f],n[p],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(lR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):m6(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||f==null)throw new g6;const p=i<<2|a>>4;if(r.push(p),c!==64){const m=a<<4&240|c>>2;if(r.push(m),f!==64){const I=c<<6&192|f;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class g6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const y6=function(t){const e=lR(t);return cR.encodeByteArray(e,!0)},Lf=function(t){return y6(t).replace(/\./g,"")},uR=function(t){try{return cR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v6=()=>dR().__FIREBASE_DEFAULTS__,w6=()=>{if(typeof process>"u"||typeof uT>"u")return;const t=uT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},_6=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&uR(t[1]);return e&&JSON.parse(e)},Bp=()=>{try{return p6()||v6()||w6()||_6()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},hR=t=>{var e,n;return(n=(e=Bp())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},fR=t=>{const e=hR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},pR=()=>{var t;return(t=Bp())==null?void 0:t.config},mR=t=>{var e;return(e=Bp())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bi(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function p_(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Lf(JSON.stringify(n)),Lf(JSON.stringify(o)),""].join(".")}const Yc={};function E6(){const t={prod:[],emulator:[]};for(const e of Object.keys(Yc))Yc[e]?t.emulator.push(e):t.prod.push(e);return t}function T6(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let dT=!1;function m_(t,e){if(typeof window>"u"||typeof document>"u"||!Bi(window.location.host)||Yc[t]===e||Yc[t]||dT)return;Yc[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",i=E6().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,m){p.setAttribute("width","24"),p.setAttribute("id",m),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function c(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{dT=!0,o()},p}function d(p,m){p.setAttribute("id",m),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){const p=T6(r),m=n("text"),I=document.getElementById(m)||document.createElement("span"),y=n("learnmore"),T=document.getElementById(y)||document.createElement("a"),x=n("preprendIcon"),v=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const w=p.element;a(w),d(T,y);const C=c();l(v,x),w.append(v,I,T,C),document.body.appendChild(w)}i?(I.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function I6(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ct())}function yR(){var e;const t=(e=Bp())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function b6(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function g_(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function S6(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function C6(){const t=Ct();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function vR(){return!yR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wR(){return!yR()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function $p(){try{return typeof indexedDB=="object"}catch{return!1}}function y_(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}function _R(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A6="FirebaseError";class In extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=A6,Object.setPrototypeOf(this,In.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zo.prototype.create)}}class Zo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?R6(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new In(s,a,r)}}function R6(t,e){return t.replace(P6,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const P6=/\{\$([^}]+)}/g;function k6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Di(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(hT(i)&&hT(o)){if(!Di(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function hT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function od(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ac(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Rc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function N6(t,e){const n=new D6(t,e);return n.subscribe.bind(n)}class D6{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");O6(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Ig),s.error===void 0&&(s.error=Ig),s.complete===void 0&&(s.complete=Ig);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function O6(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ig(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M6=1e3,V6=2,L6=4*60*60*1e3,j6=.5;function fT(t,e=M6,n=V6){const r=e*Math.pow(n,t),s=Math.round(j6*r*(Math.random()-.5)*2);return Math.min(L6,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function He(t){return t&&t._delegate?t._delegate:t}class Zn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new x6;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(B6(e))try{this.getOrInitializeService({instanceIdentifier:ro})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=ro){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ro){return this.instances.has(e)}getOptions(e=ro){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:U6(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ro){return this.component?this.component.multipleInstances?e:ro:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function U6(t){return t===ro?void 0:t}function B6(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new F6(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ee||(Ee={}));const z6={debug:Ee.DEBUG,verbose:Ee.VERBOSE,info:Ee.INFO,warn:Ee.WARN,error:Ee.ERROR,silent:Ee.SILENT},q6=Ee.INFO,H6={[Ee.DEBUG]:"log",[Ee.VERBOSE]:"log",[Ee.INFO]:"info",[Ee.WARN]:"warn",[Ee.ERROR]:"error"},W6=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=H6[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zp{constructor(e){this.name=e,this._logLevel=q6,this._logHandler=W6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?z6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ee.DEBUG,...e),this._logHandler(this,Ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ee.VERBOSE,...e),this._logHandler(this,Ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ee.INFO,...e),this._logHandler(this,Ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ee.WARN,...e),this._logHandler(this,Ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ee.ERROR,...e),this._logHandler(this,Ee.ERROR,...e)}}const K6=(t,e)=>e.some(n=>t instanceof n);let pT,mT;function G6(){return pT||(pT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Q6(){return mT||(mT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xR=new WeakMap,iv=new WeakMap,ER=new WeakMap,bg=new WeakMap,v_=new WeakMap;function Y6(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(_i(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&xR.set(n,t)}).catch(()=>{}),v_.set(e,t),e}function X6(t){if(iv.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});iv.set(t,e)}let ov={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return iv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ER.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _i(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function J6(t){ov=t(ov)}function Z6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Sg(this),e,...n);return ER.set(r,e.sort?e.sort():[e]),_i(r)}:Q6().includes(t)?function(...e){return t.apply(Sg(this),e),_i(xR.get(this))}:function(...e){return _i(t.apply(Sg(this),e))}}function eU(t){return typeof t=="function"?Z6(t):(t instanceof IDBTransaction&&X6(t),K6(t,G6())?new Proxy(t,ov):t)}function _i(t){if(t instanceof IDBRequest)return Y6(t);if(bg.has(t))return bg.get(t);const e=eU(t);return e!==t&&(bg.set(t,e),v_.set(e,t)),e}const Sg=t=>v_.get(t);function TR(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=_i(o);return r&&o.addEventListener("upgradeneeded",l=>{r(_i(o.result),l.oldVersion,l.newVersion,_i(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const tU=["get","getKey","getAll","getAllKeys","count"],nU=["put","add","delete","clear"],Cg=new Map;function gT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Cg.get(e))return Cg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=nU.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||tU.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return Cg.set(e,i),i}J6(t=>({...t,get:(e,n,r)=>gT(e,n)||t.get(e,n,r),has:(e,n)=>!!gT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rU{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(sU(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function sU(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const av="@firebase/app",yT="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s=new zp("@firebase/app"),iU="@firebase/app-compat",oU="@firebase/analytics-compat",aU="@firebase/analytics",lU="@firebase/app-check-compat",cU="@firebase/app-check",uU="@firebase/auth",dU="@firebase/auth-compat",hU="@firebase/database",fU="@firebase/data-connect",pU="@firebase/database-compat",mU="@firebase/functions",gU="@firebase/functions-compat",yU="@firebase/installations",vU="@firebase/installations-compat",wU="@firebase/messaging",_U="@firebase/messaging-compat",xU="@firebase/performance",EU="@firebase/performance-compat",TU="@firebase/remote-config",IU="@firebase/remote-config-compat",bU="@firebase/storage",SU="@firebase/storage-compat",CU="@firebase/firestore",AU="@firebase/ai",RU="@firebase/firestore-compat",PU="firebase",kU="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv="[DEFAULT]",NU={[av]:"fire-core",[iU]:"fire-core-compat",[aU]:"fire-analytics",[oU]:"fire-analytics-compat",[cU]:"fire-app-check",[lU]:"fire-app-check-compat",[uU]:"fire-auth",[dU]:"fire-auth-compat",[hU]:"fire-rtdb",[fU]:"fire-data-connect",[pU]:"fire-rtdb-compat",[mU]:"fire-fn",[gU]:"fire-fn-compat",[yU]:"fire-iid",[vU]:"fire-iid-compat",[wU]:"fire-fcm",[_U]:"fire-fcm-compat",[xU]:"fire-perf",[EU]:"fire-perf-compat",[TU]:"fire-rc",[IU]:"fire-rc-compat",[bU]:"fire-gcs",[SU]:"fire-gcs-compat",[CU]:"fire-fst",[RU]:"fire-fst-compat",[AU]:"fire-vertex","fire-js":"fire-js",[PU]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jf=new Map,DU=new Map,cv=new Map;function vT(t,e){try{t.container.addComponent(e)}catch(n){_s.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function _r(t){const e=t.name;if(cv.has(e))return _s.debug(`There were multiple attempts to register component ${e}.`),!1;cv.set(e,t);for(const n of jf.values())vT(n,t);for(const n of DU.values())vT(n,t);return!0}function $i(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Hn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xi=new Zo("app","Firebase",OU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MU{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea=kU;function IR(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:lv,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw xi.create("bad-app-name",{appName:String(s)});if(n||(n=pR()),!n)throw xi.create("no-options");const i=jf.get(s);if(i){if(Di(n,i.options)&&Di(r,i.config))return i;throw xi.create("duplicate-app",{appName:s})}const o=new $6(s);for(const l of cv.values())o.addComponent(l);const a=new MU(n,r,o);return jf.set(s,a),a}function qp(t=lv){const e=jf.get(t);if(!e&&t===lv&&pR())return IR();if(!e)throw xi.create("no-app",{appName:t});return e}function En(t,e,n){let r=NU[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_s.warn(o.join(" "));return}_r(new Zn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VU="firebase-heartbeat-database",LU=1,Nu="firebase-heartbeat-store";let Ag=null;function bR(){return Ag||(Ag=TR(VU,LU,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Nu)}catch(n){console.warn(n)}}}}).catch(t=>{throw xi.create("idb-open",{originalErrorMessage:t.message})})),Ag}async function jU(t){try{const n=(await bR()).transaction(Nu),r=await n.objectStore(Nu).get(SR(t));return await n.done,r}catch(e){if(e instanceof In)_s.warn(e.message);else{const n=xi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});_s.warn(n.message)}}}async function wT(t,e){try{const r=(await bR()).transaction(Nu,"readwrite");await r.objectStore(Nu).put(e,SR(t)),await r.done}catch(n){if(n instanceof In)_s.warn(n.message);else{const r=xi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});_s.warn(r.message)}}}function SR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FU=1024,UU=30;class BU{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new zU(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=_T();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>UU){const o=qU(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){_s.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=_T(),{heartbeatsToSend:r,unsentEntries:s}=$U(this._heartbeatsCache.heartbeats),i=Lf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return _s.warn(n),""}}}function _T(){return new Date().toISOString().substring(0,10)}function $U(t,e=FU){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),xT(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),xT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class zU{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $p()?y_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await jU(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return wT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return wT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function xT(t){return Lf(JSON.stringify({version:2,heartbeats:t})).length}function qU(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HU(t){_r(new Zn("platform-logger",e=>new rU(e),"PRIVATE")),_r(new Zn("heartbeat",e=>new BU(e),"PRIVATE")),En(av,yT,t),En(av,yT,"esm2020"),En("fire-js","")}HU("");var ET=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ei,CR;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,S){function R(){}R.prototype=S.prototype,b.F=S.prototype,b.prototype=new R,b.prototype.constructor=b,b.D=function(P,N,O){for(var k=Array(arguments.length-2),q=2;q<arguments.length;q++)k[q-2]=arguments[q];return S.prototype[N].apply(P,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(b,S,R){R||(R=0);const P=Array(16);if(typeof S=="string")for(var N=0;N<16;++N)P[N]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(N=0;N<16;++N)P[N]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=b.g[0],R=b.g[1],N=b.g[2];let O=b.g[3],k;k=S+(O^R&(N^O))+P[0]+3614090360&4294967295,S=R+(k<<7&4294967295|k>>>25),k=O+(N^S&(R^N))+P[1]+3905402710&4294967295,O=S+(k<<12&4294967295|k>>>20),k=N+(R^O&(S^R))+P[2]+606105819&4294967295,N=O+(k<<17&4294967295|k>>>15),k=R+(S^N&(O^S))+P[3]+3250441966&4294967295,R=N+(k<<22&4294967295|k>>>10),k=S+(O^R&(N^O))+P[4]+4118548399&4294967295,S=R+(k<<7&4294967295|k>>>25),k=O+(N^S&(R^N))+P[5]+1200080426&4294967295,O=S+(k<<12&4294967295|k>>>20),k=N+(R^O&(S^R))+P[6]+2821735955&4294967295,N=O+(k<<17&4294967295|k>>>15),k=R+(S^N&(O^S))+P[7]+4249261313&4294967295,R=N+(k<<22&4294967295|k>>>10),k=S+(O^R&(N^O))+P[8]+1770035416&4294967295,S=R+(k<<7&4294967295|k>>>25),k=O+(N^S&(R^N))+P[9]+2336552879&4294967295,O=S+(k<<12&4294967295|k>>>20),k=N+(R^O&(S^R))+P[10]+4294925233&4294967295,N=O+(k<<17&4294967295|k>>>15),k=R+(S^N&(O^S))+P[11]+2304563134&4294967295,R=N+(k<<22&4294967295|k>>>10),k=S+(O^R&(N^O))+P[12]+1804603682&4294967295,S=R+(k<<7&4294967295|k>>>25),k=O+(N^S&(R^N))+P[13]+4254626195&4294967295,O=S+(k<<12&4294967295|k>>>20),k=N+(R^O&(S^R))+P[14]+2792965006&4294967295,N=O+(k<<17&4294967295|k>>>15),k=R+(S^N&(O^S))+P[15]+1236535329&4294967295,R=N+(k<<22&4294967295|k>>>10),k=S+(N^O&(R^N))+P[1]+4129170786&4294967295,S=R+(k<<5&4294967295|k>>>27),k=O+(R^N&(S^R))+P[6]+3225465664&4294967295,O=S+(k<<9&4294967295|k>>>23),k=N+(S^R&(O^S))+P[11]+643717713&4294967295,N=O+(k<<14&4294967295|k>>>18),k=R+(O^S&(N^O))+P[0]+3921069994&4294967295,R=N+(k<<20&4294967295|k>>>12),k=S+(N^O&(R^N))+P[5]+3593408605&4294967295,S=R+(k<<5&4294967295|k>>>27),k=O+(R^N&(S^R))+P[10]+38016083&4294967295,O=S+(k<<9&4294967295|k>>>23),k=N+(S^R&(O^S))+P[15]+3634488961&4294967295,N=O+(k<<14&4294967295|k>>>18),k=R+(O^S&(N^O))+P[4]+3889429448&4294967295,R=N+(k<<20&4294967295|k>>>12),k=S+(N^O&(R^N))+P[9]+568446438&4294967295,S=R+(k<<5&4294967295|k>>>27),k=O+(R^N&(S^R))+P[14]+3275163606&4294967295,O=S+(k<<9&4294967295|k>>>23),k=N+(S^R&(O^S))+P[3]+4107603335&4294967295,N=O+(k<<14&4294967295|k>>>18),k=R+(O^S&(N^O))+P[8]+1163531501&4294967295,R=N+(k<<20&4294967295|k>>>12),k=S+(N^O&(R^N))+P[13]+2850285829&4294967295,S=R+(k<<5&4294967295|k>>>27),k=O+(R^N&(S^R))+P[2]+4243563512&4294967295,O=S+(k<<9&4294967295|k>>>23),k=N+(S^R&(O^S))+P[7]+1735328473&4294967295,N=O+(k<<14&4294967295|k>>>18),k=R+(O^S&(N^O))+P[12]+2368359562&4294967295,R=N+(k<<20&4294967295|k>>>12),k=S+(R^N^O)+P[5]+4294588738&4294967295,S=R+(k<<4&4294967295|k>>>28),k=O+(S^R^N)+P[8]+2272392833&4294967295,O=S+(k<<11&4294967295|k>>>21),k=N+(O^S^R)+P[11]+1839030562&4294967295,N=O+(k<<16&4294967295|k>>>16),k=R+(N^O^S)+P[14]+4259657740&4294967295,R=N+(k<<23&4294967295|k>>>9),k=S+(R^N^O)+P[1]+2763975236&4294967295,S=R+(k<<4&4294967295|k>>>28),k=O+(S^R^N)+P[4]+1272893353&4294967295,O=S+(k<<11&4294967295|k>>>21),k=N+(O^S^R)+P[7]+4139469664&4294967295,N=O+(k<<16&4294967295|k>>>16),k=R+(N^O^S)+P[10]+3200236656&4294967295,R=N+(k<<23&4294967295|k>>>9),k=S+(R^N^O)+P[13]+681279174&4294967295,S=R+(k<<4&4294967295|k>>>28),k=O+(S^R^N)+P[0]+3936430074&4294967295,O=S+(k<<11&4294967295|k>>>21),k=N+(O^S^R)+P[3]+3572445317&4294967295,N=O+(k<<16&4294967295|k>>>16),k=R+(N^O^S)+P[6]+76029189&4294967295,R=N+(k<<23&4294967295|k>>>9),k=S+(R^N^O)+P[9]+3654602809&4294967295,S=R+(k<<4&4294967295|k>>>28),k=O+(S^R^N)+P[12]+3873151461&4294967295,O=S+(k<<11&4294967295|k>>>21),k=N+(O^S^R)+P[15]+530742520&4294967295,N=O+(k<<16&4294967295|k>>>16),k=R+(N^O^S)+P[2]+3299628645&4294967295,R=N+(k<<23&4294967295|k>>>9),k=S+(N^(R|~O))+P[0]+4096336452&4294967295,S=R+(k<<6&4294967295|k>>>26),k=O+(R^(S|~N))+P[7]+1126891415&4294967295,O=S+(k<<10&4294967295|k>>>22),k=N+(S^(O|~R))+P[14]+2878612391&4294967295,N=O+(k<<15&4294967295|k>>>17),k=R+(O^(N|~S))+P[5]+4237533241&4294967295,R=N+(k<<21&4294967295|k>>>11),k=S+(N^(R|~O))+P[12]+1700485571&4294967295,S=R+(k<<6&4294967295|k>>>26),k=O+(R^(S|~N))+P[3]+2399980690&4294967295,O=S+(k<<10&4294967295|k>>>22),k=N+(S^(O|~R))+P[10]+4293915773&4294967295,N=O+(k<<15&4294967295|k>>>17),k=R+(O^(N|~S))+P[1]+2240044497&4294967295,R=N+(k<<21&4294967295|k>>>11),k=S+(N^(R|~O))+P[8]+1873313359&4294967295,S=R+(k<<6&4294967295|k>>>26),k=O+(R^(S|~N))+P[15]+4264355552&4294967295,O=S+(k<<10&4294967295|k>>>22),k=N+(S^(O|~R))+P[6]+2734768916&4294967295,N=O+(k<<15&4294967295|k>>>17),k=R+(O^(N|~S))+P[13]+1309151649&4294967295,R=N+(k<<21&4294967295|k>>>11),k=S+(N^(R|~O))+P[4]+4149444226&4294967295,S=R+(k<<6&4294967295|k>>>26),k=O+(R^(S|~N))+P[11]+3174756917&4294967295,O=S+(k<<10&4294967295|k>>>22),k=N+(S^(O|~R))+P[2]+718787259&4294967295,N=O+(k<<15&4294967295|k>>>17),k=R+(O^(N|~S))+P[9]+3951481745&4294967295,b.g[0]=b.g[0]+S&4294967295,b.g[1]=b.g[1]+(N+(k<<21&4294967295|k>>>11))&4294967295,b.g[2]=b.g[2]+N&4294967295,b.g[3]=b.g[3]+O&4294967295}r.prototype.v=function(b,S){S===void 0&&(S=b.length);const R=S-this.blockSize,P=this.C;let N=this.h,O=0;for(;O<S;){if(N==0)for(;O<=R;)s(this,b,O),O+=this.blockSize;if(typeof b=="string"){for(;O<S;)if(P[N++]=b.charCodeAt(O++),N==this.blockSize){s(this,P),N=0;break}}else for(;O<S;)if(P[N++]=b[O++],N==this.blockSize){s(this,P),N=0;break}}this.h=N,this.o+=S},r.prototype.A=function(){var b=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);b[0]=128;for(var S=1;S<b.length-8;++S)b[S]=0;S=this.o*8;for(var R=b.length-8;R<b.length;++R)b[R]=S&255,S/=256;for(this.v(b),b=Array(16),S=0,R=0;R<4;++R)for(let P=0;P<32;P+=8)b[S++]=this.g[R]>>>P&255;return b};function i(b,S){var R=a;return Object.prototype.hasOwnProperty.call(R,b)?R[b]:R[b]=S(b)}function o(b,S){this.h=S;const R=[];let P=!0;for(let N=b.length-1;N>=0;N--){const O=b[N]|0;P&&O==S||(R[N]=O,P=!1)}this.g=R}var a={};function l(b){return-128<=b&&b<128?i(b,function(S){return new o([S|0],S<0?-1:0)}):new o([b|0],b<0?-1:0)}function c(b){if(isNaN(b)||!isFinite(b))return f;if(b<0)return T(c(-b));const S=[];let R=1;for(let P=0;b>=R;P++)S[P]=b/R|0,R*=4294967296;return new o(S,0)}function d(b,S){if(b.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(b.charAt(0)=="-")return T(d(b.substring(1),S));if(b.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=c(Math.pow(S,8));let P=f;for(let O=0;O<b.length;O+=8){var N=Math.min(8,b.length-O);const k=parseInt(b.substring(O,O+N),S);N<8?(N=c(Math.pow(S,N)),P=P.j(N).add(c(k))):(P=P.j(R),P=P.add(c(k)))}return P}var f=l(0),p=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(y(this))return-T(this).m();let b=0,S=1;for(let R=0;R<this.g.length;R++){const P=this.i(R);b+=(P>=0?P:4294967296+P)*S,S*=4294967296}return b},t.toString=function(b){if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(I(this))return"0";if(y(this))return"-"+T(this).toString(b);const S=c(Math.pow(b,6));var R=this;let P="";for(;;){const N=C(R,S).g;R=x(R,N.j(S));let O=((R.g.length>0?R.g[0]:R.h)>>>0).toString(b);if(R=N,I(R))return O+P;for(;O.length<6;)O="0"+O;P=O+P}},t.i=function(b){return b<0?0:b<this.g.length?this.g[b]:this.h};function I(b){if(b.h!=0)return!1;for(let S=0;S<b.g.length;S++)if(b.g[S]!=0)return!1;return!0}function y(b){return b.h==-1}t.l=function(b){return b=x(this,b),y(b)?-1:I(b)?0:1};function T(b){const S=b.g.length,R=[];for(let P=0;P<S;P++)R[P]=~b.g[P];return new o(R,~b.h).add(p)}t.abs=function(){return y(this)?T(this):this},t.add=function(b){const S=Math.max(this.g.length,b.g.length),R=[];let P=0;for(let N=0;N<=S;N++){let O=P+(this.i(N)&65535)+(b.i(N)&65535),k=(O>>>16)+(this.i(N)>>>16)+(b.i(N)>>>16);P=k>>>16,O&=65535,k&=65535,R[N]=k<<16|O}return new o(R,R[R.length-1]&-2147483648?-1:0)};function x(b,S){return b.add(T(S))}t.j=function(b){if(I(this)||I(b))return f;if(y(this))return y(b)?T(this).j(T(b)):T(T(this).j(b));if(y(b))return T(this.j(T(b)));if(this.l(m)<0&&b.l(m)<0)return c(this.m()*b.m());const S=this.g.length+b.g.length,R=[];for(var P=0;P<2*S;P++)R[P]=0;for(P=0;P<this.g.length;P++)for(let N=0;N<b.g.length;N++){const O=this.i(P)>>>16,k=this.i(P)&65535,q=b.i(N)>>>16,re=b.i(N)&65535;R[2*P+2*N]+=k*re,v(R,2*P+2*N),R[2*P+2*N+1]+=O*re,v(R,2*P+2*N+1),R[2*P+2*N+1]+=k*q,v(R,2*P+2*N+1),R[2*P+2*N+2]+=O*q,v(R,2*P+2*N+2)}for(b=0;b<S;b++)R[b]=R[2*b+1]<<16|R[2*b];for(b=S;b<2*S;b++)R[b]=0;return new o(R,0)};function v(b,S){for(;(b[S]&65535)!=b[S];)b[S+1]+=b[S]>>>16,b[S]&=65535,S++}function w(b,S){this.g=b,this.h=S}function C(b,S){if(I(S))throw Error("division by zero");if(I(b))return new w(f,f);if(y(b))return S=C(T(b),S),new w(T(S.g),T(S.h));if(y(S))return S=C(b,T(S)),new w(T(S.g),S.h);if(b.g.length>30){if(y(b)||y(S))throw Error("slowDivide_ only works with positive integers.");for(var R=p,P=S;P.l(b)<=0;)R=D(R),P=D(P);var N=M(R,1),O=M(P,1);for(P=M(P,2),R=M(R,2);!I(P);){var k=O.add(P);k.l(b)<=0&&(N=N.add(R),O=k),P=M(P,1),R=M(R,1)}return S=x(b,N.j(S)),new w(N,S)}for(N=f;b.l(S)>=0;){for(R=Math.max(1,Math.floor(b.m()/S.m())),P=Math.ceil(Math.log(R)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),O=c(R),k=O.j(S);y(k)||k.l(b)>0;)R-=P,O=c(R),k=O.j(S);I(O)&&(O=p),N=N.add(O),b=x(b,k)}return new w(N,b)}t.B=function(b){return C(this,b).h},t.and=function(b){const S=Math.max(this.g.length,b.g.length),R=[];for(let P=0;P<S;P++)R[P]=this.i(P)&b.i(P);return new o(R,this.h&b.h)},t.or=function(b){const S=Math.max(this.g.length,b.g.length),R=[];for(let P=0;P<S;P++)R[P]=this.i(P)|b.i(P);return new o(R,this.h|b.h)},t.xor=function(b){const S=Math.max(this.g.length,b.g.length),R=[];for(let P=0;P<S;P++)R[P]=this.i(P)^b.i(P);return new o(R,this.h^b.h)};function D(b){const S=b.g.length+1,R=[];for(let P=0;P<S;P++)R[P]=b.i(P)<<1|b.i(P-1)>>>31;return new o(R,b.h)}function M(b,S){const R=S>>5;S%=32;const P=b.g.length-R,N=[];for(let O=0;O<P;O++)N[O]=S>0?b.i(O+R)>>>S|b.i(O+R+1)<<32-S:b.i(O+R);return new o(N,b.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,CR=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,Ei=o}).apply(typeof ET<"u"?ET:typeof self<"u"?self:typeof window<"u"?window:{});var nh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var AR,Pc,RR,jh,uv,PR,kR,NR;(function(){var t,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof nh=="object"&&nh];for(var g=0;g<u.length;++g){var E=u[g];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function s(u,g){if(g)e:{var E=r;u=u.split(".");for(var A=0;A<u.length-1;A++){var L=u[A];if(!(L in E))break e;E=E[L]}u=u[u.length-1],A=E[u],g=g(A),g!=A&&g!=null&&e(E,u,{configurable:!0,writable:!0,value:g})}}s("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(u){return u||function(g){var E=[],A;for(A in g)Object.prototype.hasOwnProperty.call(g,A)&&E.push([A,g[A]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function a(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function l(u,g,E){return u.call.apply(u.bind,arguments)}function c(u,g,E){return c=l,c.apply(null,arguments)}function d(u,g){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function f(u,g){function E(){}E.prototype=g.prototype,u.Z=g.prototype,u.prototype=new E,u.prototype.constructor=u,u.Ob=function(A,L,F){for(var Q=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)Q[ge-2]=arguments[ge];return g.prototype[L].apply(A,Q)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function m(u){const g=u.length;if(g>0){const E=Array(g);for(let A=0;A<g;A++)E[A]=u[A];return E}return[]}function I(u,g){for(let A=1;A<arguments.length;A++){const L=arguments[A];var E=typeof L;if(E=E!="object"?E:L?Array.isArray(L)?"array":E:"null",E=="array"||E=="object"&&typeof L.length=="number"){E=u.length||0;const F=L.length||0;u.length=E+F;for(let Q=0;Q<F;Q++)u[E+Q]=L[Q]}else u.push(L)}}class y{constructor(g,E){this.i=g,this.j=E,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function T(u){o.setTimeout(()=>{throw u},0)}function x(){var u=b;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class v{constructor(){this.h=this.g=null}add(g,E){const A=w.get();A.set(g,E),this.h?this.h.next=A:this.g=A,this.h=A}}var w=new y(()=>new C,u=>u.reset());class C{constructor(){this.next=this.g=this.h=null}set(g,E){this.h=g,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let D,M=!1,b=new v,S=()=>{const u=Promise.resolve(void 0);D=()=>{u.then(R)}};function R(){for(var u;u=x();){try{u.h.call(u.g)}catch(E){T(E)}var g=w;g.j(u),g.h<100&&(g.h++,u.next=g.g,g.g=u)}M=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var O=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const E=()=>{};o.addEventListener("test",E,g),o.removeEventListener("test",E,g)}catch{}return u}();function k(u){return/^[\s\xa0]*$/.test(u)}function q(u,g){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,g)}f(q,N),q.prototype.init=function(u,g){const E=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget,g||(E=="mouseover"?g=u.fromElement:E=="mouseout"&&(g=u.toElement)),this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&q.Z.h.call(this)},q.prototype.h=function(){q.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var re="closure_listenable_"+(Math.random()*1e6|0),te=0;function ie(u,g,E,A,L){this.listener=u,this.proxy=null,this.src=g,this.type=E,this.capture=!!A,this.ha=L,this.key=++te,this.da=this.fa=!1}function U(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function $(u,g,E){for(const A in u)g.call(E,u[A],A,u)}function j(u,g){for(const E in u)g.call(void 0,u[E],E,u)}function H(u){const g={};for(const E in u)g[E]=u[E];return g}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(u,g){let E,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(E in A)u[E]=A[E];for(let F=0;F<X.length;F++)E=X[F],Object.prototype.hasOwnProperty.call(A,E)&&(u[E]=A[E])}}function le(u){this.src=u,this.g={},this.h=0}le.prototype.add=function(u,g,E,A,L){const F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);const Q=ce(u,g,A,L);return Q>-1?(g=u[Q],E||(g.fa=!1)):(g=new ie(g,this.src,F,!!A,L),g.fa=E,u.push(g)),g};function we(u,g){const E=g.type;if(E in u.g){var A=u.g[E],L=Array.prototype.indexOf.call(A,g,void 0),F;(F=L>=0)&&Array.prototype.splice.call(A,L,1),F&&(U(g),u.g[E].length==0&&(delete u.g[E],u.h--))}}function ce(u,g,E,A){for(let L=0;L<u.length;++L){const F=u[L];if(!F.da&&F.listener==g&&F.capture==!!E&&F.ha==A)return L}return-1}var J="closure_lm_"+(Math.random()*1e6|0),Ce={};function We(u,g,E,A,L){if(Array.isArray(g)){for(let F=0;F<g.length;F++)We(u,g[F],E,A,L);return null}return E=Rs(E),u&&u[re]?u.J(g,E,a(A)?!!A.capture:!!A,L):Ae(u,g,E,!1,A,L)}function Ae(u,g,E,A,L,F){if(!g)throw Error("Invalid event type");const Q=a(L)?!!L.capture:!!L;let ge=Un(u);if(ge||(u[J]=ge=new le(u)),E=ge.add(g,E,A,Q,F),E.proxy)return E;if(A=xe(),E.proxy=A,A.src=u,A.listener=E,u.addEventListener)O||(L=Q),L===void 0&&(L=!1),u.addEventListener(g.toString(),A,L);else if(u.attachEvent)u.attachEvent(Xt(g.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function xe(){function u(E){return g.call(u.src,u.listener,E)}const g=Jr;return u}function Ie(u,g,E,A,L){if(Array.isArray(g))for(var F=0;F<g.length;F++)Ie(u,g[F],E,A,L);else A=a(A)?!!A.capture:!!A,E=Rs(E),u&&u[re]?(u=u.i,F=String(g).toString(),F in u.g&&(g=u.g[F],E=ce(g,E,A,L),E>-1&&(U(g[E]),Array.prototype.splice.call(g,E,1),g.length==0&&(delete u.g[F],u.h--)))):u&&(u=Un(u))&&(g=u.g[g.toString()],u=-1,g&&(u=ce(g,E,A,L)),(E=u>-1?g[u]:null)&&gt(E))}function gt(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[re])we(g.i,u);else{var E=u.type,A=u.proxy;g.removeEventListener?g.removeEventListener(E,A,u.capture):g.detachEvent?g.detachEvent(Xt(E),A):g.addListener&&g.removeListener&&g.removeListener(A),(E=Un(g))?(we(E,u),E.h==0&&(E.src=null,g[J]=null)):U(u)}}}function Xt(u){return u in Ce?Ce[u]:Ce[u]="on"+u}function Jr(u,g){if(u.da)u=!0;else{g=new q(g,this);const E=u.listener,A=u.ha||u.src;u.fa&&gt(u),u=E.call(A,g)}return u}function Un(u){return u=u[J],u instanceof le?u:null}var er="__closure_events_fn_"+(Math.random()*1e9>>>0);function Rs(u){return typeof u=="function"?u:(u[er]||(u[er]=function(g){return u.handleEvent(g)}),u[er])}function nt(){P.call(this),this.i=new le(this),this.M=this,this.G=null}f(nt,P),nt.prototype[re]=!0,nt.prototype.removeEventListener=function(u,g,E,A){Ie(this,u,g,E,A)};function Rt(u,g){var E,A=u.G;if(A)for(E=[];A;A=A.G)E.push(A);if(u=u.M,A=g.type||g,typeof g=="string")g=new N(g,u);else if(g instanceof N)g.target=g.target||u;else{var L=g;g=new N(A,u),ae(g,L)}L=!0;let F,Q;if(E)for(Q=E.length-1;Q>=0;Q--)F=g.g=E[Q],L=Er(F,A,!0,g)&&L;if(F=g.g=u,L=Er(F,A,!0,g)&&L,L=Er(F,A,!1,g)&&L,E)for(Q=0;Q<E.length;Q++)F=g.g=E[Q],L=Er(F,A,!1,g)&&L}nt.prototype.N=function(){if(nt.Z.N.call(this),this.i){var u=this.i;for(const g in u.g){const E=u.g[g];for(let A=0;A<E.length;A++)U(E[A]);delete u.g[g],u.h--}}this.G=null},nt.prototype.J=function(u,g,E,A){return this.i.add(String(u),g,!1,E,A)},nt.prototype.K=function(u,g,E,A){return this.i.add(String(u),g,!0,E,A)};function Er(u,g,E,A){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();let L=!0;for(let F=0;F<g.length;++F){const Q=g[F];if(Q&&!Q.da&&Q.capture==E){const ge=Q.listener,It=Q.ha||Q.src;Q.fa&&we(u.i,Q),L=ge.call(It,A)!==!1&&L}}return L&&!A.defaultPrevented}function wd(u,g){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=c(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:o.setTimeout(u,g||0)}function Tr(u){u.g=wd(()=>{u.g=null,u.i&&(u.i=!1,Tr(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class Sm extends P{constructor(g,E){super(),this.m=g,this.l=E,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Tr(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gi(u){P.call(this),this.h=u,this.g={}}f(Gi,P);var Jt=[];function Zr(u){$(u.g,function(g,E){this.g.hasOwnProperty(E)&&gt(g)},u),u.g={}}Gi.prototype.N=function(){Gi.Z.N.call(this),Zr(this)},Gi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Kl=o.JSON.stringify,Cm=o.JSON.parse,ia=class{stringify(u){return o.JSON.stringify(u,void 0)}parse(u){return o.JSON.parse(u,void 0)}};function _d(){}function Gl(){}var es={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ir(){N.call(this,"d")}f(Ir,N);function oa(){N.call(this,"c")}f(oa,N);var dn={},xd=null;function aa(){return xd=xd||new nt}dn.Ia="serverreachability";function Ql(u){N.call(this,dn.Ia,u)}f(Ql,N);function Ps(u){const g=aa();Rt(g,new Ql(g))}dn.STAT_EVENT="statevent";function Ed(u,g){N.call(this,dn.STAT_EVENT,u),this.stat=g}f(Ed,N);function Tt(u){const g=aa();Rt(g,new Ed(g,u))}dn.Ja="timingevent";function tr(u,g){N.call(this,dn.Ja,u),this.size=g}f(tr,N);function Qi(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){u()},g)}function ue(){this.g=!0}ue.prototype.ua=function(){this.g=!1};function Me(u,g,E,A,L,F){u.info(function(){if(u.g)if(F){var Q="",ge=F.split("&");for(let Be=0;Be<ge.length;Be++){var It=ge[Be].split("=");if(It.length>1){const kt=It[0];It=It[1];const Cr=kt.split("_");Q=Cr.length>=2&&Cr[1]=="type"?Q+(kt+"="+It+"&"):Q+(kt+"=redacted&")}}}else Q=null;else Q=F;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+g+`
`+E+`
`+Q})}function ze(u,g,E,A,L,F,Q){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+g+`
`+E+`
`+F+" "+Q})}function Pt(u,g,E,A){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+br(u,E)+(A?" "+A:"")})}function bn(u,g){u.info(function(){return"TIMEOUT: "+g})}ue.prototype.info=function(){};function br(u,g){if(!u.g)return g;if(!g)return null;try{const F=JSON.parse(g);if(F){for(u=0;u<F.length;u++)if(Array.isArray(F[u])){var E=F[u];if(!(E.length<2)){var A=E[1];if(Array.isArray(A)&&!(A.length<1)){var L=A[0];if(L!="noop"&&L!="stop"&&L!="close")for(let Q=1;Q<A.length;Q++)A[Q]=""}}}}return Kl(F)}catch{return g}}var Bn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},hn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},nr;function Am(){}f(Am,_d),Am.prototype.g=function(){return new XMLHttpRequest},nr=new Am;function Yl(u){return encodeURIComponent(String(u))}function dD(u){var g=1;u=u.split(":");const E=[];for(;g>0&&u.length;)E.push(u.shift()),g--;return u.length&&E.push(u.join(":")),E}function ks(u,g,E,A){this.j=u,this.i=g,this.l=E,this.S=A||1,this.V=new Gi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new D0}function D0(){this.i=null,this.g="",this.h=!1}var O0={},Rm={};function Pm(u,g,E){u.M=1,u.A=Id(Sr(g)),u.u=E,u.R=!0,M0(u,null)}function M0(u,g){u.F=Date.now(),Td(u),u.B=Sr(u.A);var E=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),G0(E.i,"t",A),u.C=0,E=u.j.L,u.h=new D0,u.g=hx(u.j,E?g:null,!u.u),u.P>0&&(u.O=new Sm(c(u.Y,u,u.g),u.P)),g=u.V,E=u.g,A=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(Jt[0]=L.toString()),L=Jt);for(let F=0;F<L.length;F++){const Q=We(E,L[F],A||g.handleEvent,!1,g.h||g);if(!Q)break;g.g[Q.key]=Q}g=u.J?H(u.J):{},u.u?(u.v||(u.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,g)):(u.v="GET",u.g.ea(u.B,u.v,null,g)),Ps(),Me(u.i,u.v,u.B,u.l,u.S,u.u)}ks.prototype.ba=function(u){u=u.target;const g=this.O;g&&Os(u)==3?g.j():this.Y(u)},ks.prototype.Y=function(u){try{if(u==this.g)e:{const ge=Os(this.g),It=this.g.ya(),Be=this.g.ca();if(!(ge<3)&&(ge!=3||this.g&&(this.h.h||this.g.la()||tx(this.g)))){this.K||ge!=4||It==7||(It==8||Be<=0?Ps(3):Ps(2)),km(this);var g=this.g.ca();this.X=g;var E=hD(this);if(this.o=g==200,ze(this.i,this.v,this.B,this.l,this.S,ge,g),this.o){if(this.U&&!this.L){t:{if(this.g){var A,L=this.g;if((A=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(A)){var F=A;break t}}F=null}if(u=F)Pt(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Nm(this,u);else{this.o=!1,this.m=3,Tt(12),Yi(this),Xl(this);break e}}if(this.R){u=!0;let kt;for(;!this.K&&this.C<E.length;)if(kt=fD(this,E),kt==Rm){ge==4&&(this.m=4,Tt(14),u=!1),Pt(this.i,this.l,null,"[Incomplete Response]");break}else if(kt==O0){this.m=4,Tt(15),Pt(this.i,this.l,E,"[Invalid Chunk]"),u=!1;break}else Pt(this.i,this.l,kt,null),Nm(this,kt);if(V0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ge!=4||E.length!=0||this.h.h||(this.m=1,Tt(16),u=!1),this.o=this.o&&u,!u)Pt(this.i,this.l,E,"[Invalid Chunked Response]"),Yi(this),Xl(this);else if(E.length>0&&!this.W){this.W=!0;var Q=this.j;Q.g==this&&Q.aa&&!Q.P&&(Q.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Um(Q),Q.P=!0,Tt(11))}}else Pt(this.i,this.l,E,null),Nm(this,E);ge==4&&Yi(this),this.o&&!this.K&&(ge==4?lx(this.j,this):(this.o=!1,Td(this)))}else CD(this.g),g==400&&E.indexOf("Unknown SID")>0?(this.m=3,Tt(12)):(this.m=0,Tt(13)),Yi(this),Xl(this)}}}catch{}finally{}};function hD(u){if(!V0(u))return u.g.la();const g=tx(u.g);if(g==="")return"";let E="";const A=g.length,L=Os(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Yi(u),Xl(u),"";u.h.i=new o.TextDecoder}for(let F=0;F<A;F++)u.h.h=!0,E+=u.h.i.decode(g[F],{stream:!(L&&F==A-1)});return g.length=0,u.h.g+=E,u.C=0,u.h.g}function V0(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function fD(u,g){var E=u.C,A=g.indexOf(`
`,E);return A==-1?Rm:(E=Number(g.substring(E,A)),isNaN(E)?O0:(A+=1,A+E>g.length?Rm:(g=g.slice(A,A+E),u.C=A+E,g)))}ks.prototype.cancel=function(){this.K=!0,Yi(this)};function Td(u){u.T=Date.now()+u.H,L0(u,u.H)}function L0(u,g){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Qi(c(u.aa,u),g)}function km(u){u.D&&(o.clearTimeout(u.D),u.D=null)}ks.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(bn(this.i,this.B),this.M!=2&&(Ps(),Tt(17)),Yi(this),this.m=2,Xl(this)):L0(this,this.T-u)};function Xl(u){u.j.I==0||u.K||lx(u.j,u)}function Yi(u){km(u);var g=u.O;g&&typeof g.dispose=="function"&&g.dispose(),u.O=null,Zr(u.V),u.g&&(g=u.g,u.g=null,g.abort(),g.dispose())}function Nm(u,g){try{var E=u.j;if(E.I!=0&&(E.g==u||Dm(E.h,u))){if(!u.L&&Dm(E.h,u)&&E.I==3){try{var A=E.Ba.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<u.F)Rd(E),Cd(E);else break e;Fm(E),Tt(18)}}else E.xa=L[1],0<E.xa-E.K&&L[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Qi(c(E.Va,E),6e3));U0(E.h)<=1&&E.ta&&(E.ta=void 0)}else Ji(E,11)}else if((u.L||E.g==u)&&Rd(E),!k(g))for(L=E.Ba.g.parse(g),g=0;g<L.length;g++){let Be=L[g];const kt=Be[0];if(!(kt<=E.K))if(E.K=kt,Be=Be[1],E.I==2)if(Be[0]=="c"){E.M=Be[1],E.ba=Be[2];const Cr=Be[3];Cr!=null&&(E.ka=Cr,E.j.info("VER="+E.ka));const Zi=Be[4];Zi!=null&&(E.za=Zi,E.j.info("SVER="+E.za));const Ms=Be[5];Ms!=null&&typeof Ms=="number"&&Ms>0&&(A=1.5*Ms,E.O=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const Vs=u.g;if(Vs){const kd=Vs.g?Vs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(kd){var F=A.h;F.g||kd.indexOf("spdy")==-1&&kd.indexOf("quic")==-1&&kd.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Om(F,F.h),F.h=null))}if(A.G){const Bm=Vs.g?Vs.g.getResponseHeader("X-HTTP-Session-Id"):null;Bm&&(A.wa=Bm,Ke(A.J,A.G,Bm))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-u.F,E.j.info("Handshake RTT: "+E.T+"ms")),A=E;var Q=u;if(A.na=dx(A,A.L?A.ba:null,A.W),Q.L){B0(A.h,Q);var ge=Q,It=A.O;It&&(ge.H=It),ge.D&&(km(ge),Td(ge)),A.g=Q}else ox(A);E.i.length>0&&Ad(E)}else Be[0]!="stop"&&Be[0]!="close"||Ji(E,7);else E.I==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?Ji(E,7):jm(E):Be[0]!="noop"&&E.l&&E.l.qa(Be),E.A=0)}}Ps(4)}catch{}}var pD=class{constructor(u,g){this.g=u,this.map=g}};function j0(u){this.l=u||10,o.PerformanceNavigationTiming?(u=o.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function F0(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function U0(u){return u.h?1:u.g?u.g.size:0}function Dm(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function Om(u,g){u.g?u.g.add(g):u.h=g}function B0(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}j0.prototype.cancel=function(){if(this.i=$0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function $0(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const E of u.g.values())g=g.concat(E.G);return g}return m(u.i)}var z0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mD(u,g){if(u){u=u.split("&");for(let E=0;E<u.length;E++){const A=u[E].indexOf("=");let L,F=null;A>=0?(L=u[E].substring(0,A),F=u[E].substring(A+1)):L=u[E],g(L,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Ns(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;u instanceof Ns?(this.l=u.l,Jl(this,u.j),this.o=u.o,this.g=u.g,Zl(this,u.u),this.h=u.h,Mm(this,Q0(u.i)),this.m=u.m):u&&(g=String(u).match(z0))?(this.l=!1,Jl(this,g[1]||"",!0),this.o=ec(g[2]||""),this.g=ec(g[3]||"",!0),Zl(this,g[4]),this.h=ec(g[5]||"",!0),Mm(this,g[6]||"",!0),this.m=ec(g[7]||"")):(this.l=!1,this.i=new nc(null,this.l))}Ns.prototype.toString=function(){const u=[];var g=this.j;g&&u.push(tc(g,q0,!0),":");var E=this.g;return(E||g=="file")&&(u.push("//"),(g=this.o)&&u.push(tc(g,q0,!0),"@"),u.push(Yl(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&u.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&u.push("/"),u.push(tc(E,E.charAt(0)=="/"?vD:yD,!0))),(E=this.i.toString())&&u.push("?",E),(E=this.m)&&u.push("#",tc(E,_D)),u.join("")},Ns.prototype.resolve=function(u){const g=Sr(this);let E=!!u.j;E?Jl(g,u.j):E=!!u.o,E?g.o=u.o:E=!!u.g,E?g.g=u.g:E=u.u!=null;var A=u.h;if(E)Zl(g,u.u);else if(E=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var L=g.h.lastIndexOf("/");L!=-1&&(A=g.h.slice(0,L+1)+A)}if(L=A,L==".."||L==".")A="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){A=L.lastIndexOf("/",0)==0,L=L.split("/");const F=[];for(let Q=0;Q<L.length;){const ge=L[Q++];ge=="."?A&&Q==L.length&&F.push(""):ge==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),A&&Q==L.length&&F.push("")):(F.push(ge),A=!0)}A=F.join("/")}else A=L}return E?g.h=A:E=u.i.toString()!=="",E?Mm(g,Q0(u.i)):E=!!u.m,E&&(g.m=u.m),g};function Sr(u){return new Ns(u)}function Jl(u,g,E){u.j=E?ec(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function Zl(u,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);u.u=g}else u.u=null}function Mm(u,g,E){g instanceof nc?(u.i=g,xD(u.i,u.l)):(E||(g=tc(g,wD)),u.i=new nc(g,u.l))}function Ke(u,g,E){u.i.set(g,E)}function Id(u){return Ke(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ec(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function tc(u,g,E){return typeof u=="string"?(u=encodeURI(u).replace(g,gD),E&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function gD(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var q0=/[#\/\?@]/g,yD=/[#\?:]/g,vD=/[#\?]/g,wD=/[#\?@]/g,_D=/#/g;function nc(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function Xi(u){u.g||(u.g=new Map,u.h=0,u.i&&mD(u.i,function(g,E){u.add(decodeURIComponent(g.replace(/\+/g," ")),E)}))}t=nc.prototype,t.add=function(u,g){Xi(this),this.i=null,u=la(this,u);let E=this.g.get(u);return E||this.g.set(u,E=[]),E.push(g),this.h+=1,this};function H0(u,g){Xi(u),g=la(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function W0(u,g){return Xi(u),g=la(u,g),u.g.has(g)}t.forEach=function(u,g){Xi(this),this.g.forEach(function(E,A){E.forEach(function(L){u.call(g,L,A,this)},this)},this)};function K0(u,g){Xi(u);let E=[];if(typeof g=="string")W0(u,g)&&(E=E.concat(u.g.get(la(u,g))));else for(u=Array.from(u.g.values()),g=0;g<u.length;g++)E=E.concat(u[g]);return E}t.set=function(u,g){return Xi(this),this.i=null,u=la(this,u),W0(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},t.get=function(u,g){return u?(u=K0(this,u),u.length>0?String(u[0]):g):g};function G0(u,g,E){H0(u,g),E.length>0&&(u.i=null,u.g.set(la(u,g),m(E)),u.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(let A=0;A<g.length;A++){var E=g[A];const L=Yl(E);E=K0(this,E);for(let F=0;F<E.length;F++){let Q=L;E[F]!==""&&(Q+="="+Yl(E[F])),u.push(Q)}}return this.i=u.join("&")};function Q0(u){const g=new nc;return g.i=u.i,u.g&&(g.g=new Map(u.g),g.h=u.h),g}function la(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function xD(u,g){g&&!u.j&&(Xi(u),u.i=null,u.g.forEach(function(E,A){const L=A.toLowerCase();A!=L&&(H0(this,A),G0(this,L,E))},u)),u.j=g}function ED(u,g){const E=new ue;if(o.Image){const A=new Image;A.onload=d(Ds,E,"TestLoadImage: loaded",!0,g,A),A.onerror=d(Ds,E,"TestLoadImage: error",!1,g,A),A.onabort=d(Ds,E,"TestLoadImage: abort",!1,g,A),A.ontimeout=d(Ds,E,"TestLoadImage: timeout",!1,g,A),o.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else g(!1)}function TD(u,g){const E=new ue,A=new AbortController,L=setTimeout(()=>{A.abort(),Ds(E,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:A.signal}).then(F=>{clearTimeout(L),F.ok?Ds(E,"TestPingServer: ok",!0,g):Ds(E,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(L),Ds(E,"TestPingServer: error",!1,g)})}function Ds(u,g,E,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(E)}catch{}}function ID(){this.g=new ia}function Vm(u){this.i=u.Sb||null,this.h=u.ab||!1}f(Vm,_d),Vm.prototype.g=function(){return new bd(this.i,this.h)};function bd(u,g){nt.call(this),this.H=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(bd,nt),t=bd.prototype,t.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=g,this.readyState=1,sc(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(g.body=u),(this.H||o).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,rc(this)),this.readyState=0},t.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,sc(this)),this.g&&(this.readyState=3,sc(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Y0(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Y0(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}t.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?rc(this):sc(this),this.readyState==3&&Y0(this)}},t.Oa=function(u){this.g&&(this.response=this.responseText=u,rc(this))},t.Na=function(u){this.g&&(this.response=u,rc(this))},t.ga=function(){this.g&&rc(this)};function rc(u){u.readyState=4,u.l=null,u.j=null,u.B=null,sc(u)}t.setRequestHeader=function(u,g){this.A.append(u,g)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var E=g.next();!E.done;)E=E.value,u.push(E[0]+": "+E[1]),E=g.next();return u.join(`\r
`)};function sc(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(bd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function X0(u){let g="";return $(u,function(E,A){g+=A,g+=":",g+=E,g+=`\r
`}),g}function Lm(u,g,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=X0(E),typeof u=="string"?E!=null&&Yl(E):Ke(u,g,E))}function ct(u){nt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(ct,nt);var bD=/^https?$/i,SD=["POST","PUT"];t=ct.prototype,t.Fa=function(u){this.H=u},t.ea=function(u,g,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():nr.g(),this.g.onreadystatechange=p(c(this.Ca,this));try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(F){J0(this,F);return}if(u=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)E.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const F of A.keys())E.set(F,A.get(F));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(F=>F.toLowerCase()=="content-type"),L=o.FormData&&u instanceof o.FormData,!(Array.prototype.indexOf.call(SD,g,void 0)>=0)||A||L||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,Q]of E)this.g.setRequestHeader(F,Q);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(F){J0(this,F)}};function J0(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.o=5,Z0(u),Sd(u)}function Z0(u){u.A||(u.A=!0,Rt(u,"complete"),Rt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Rt(this,"complete"),Rt(this,"abort"),Sd(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Sd(this,!0)),ct.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ex(this):this.Xa())},t.Xa=function(){ex(this)};function ex(u){if(u.h&&typeof i<"u"){if(u.v&&Os(u)==4)setTimeout(u.Ca.bind(u),0);else if(Rt(u,"readystatechange"),Os(u)==4){u.h=!1;try{const F=u.ca();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var E;if(!(E=g)){var A;if(A=F===0){let Q=String(u.D).match(z0)[1]||null;!Q&&o.self&&o.self.location&&(Q=o.self.location.protocol.slice(0,-1)),A=!bD.test(Q?Q.toLowerCase():"")}E=A}if(E)Rt(u,"complete"),Rt(u,"success");else{u.o=6;try{var L=Os(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Z0(u)}}finally{Sd(u)}}}}function Sd(u,g){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const E=u.g;u.g=null,g||Rt(u,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Os(u){return u.g?u.g.readyState:0}t.ca=function(){try{return Os(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),Cm(g)}};function tx(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function CD(u){const g={};u=(u.g&&Os(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(k(u[A]))continue;var E=dD(u[A]);const L=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const F=g[L]||[];g[L]=F,F.push(E)}j(g,function(A){return A.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ic(u,g,E){return E&&E.internalChannelParams&&E.internalChannelParams[u]||g}function nx(u){this.za=0,this.i=[],this.j=new ue,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ic("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ic("baseRetryDelayMs",5e3,u),this.Za=ic("retryDelaySeedMs",1e4,u),this.Ta=ic("forwardChannelMaxRetries",2,u),this.va=ic("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new j0(u&&u.concurrentRequestLimit),this.Ba=new ID,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=nx.prototype,t.ka=8,t.I=1,t.connect=function(u,g,E,A){Tt(0),this.W=u,this.H=g||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.J=dx(this,null,this.W),Ad(this)};function jm(u){if(rx(u),u.I==3){var g=u.V++,E=Sr(u.J);if(Ke(E,"SID",u.M),Ke(E,"RID",g),Ke(E,"TYPE","terminate"),oc(u,E),g=new ks(u,u.j,g),g.M=2,g.A=Id(Sr(E)),E=!1,o.navigator&&o.navigator.sendBeacon)try{E=o.navigator.sendBeacon(g.A.toString(),"")}catch{}!E&&o.Image&&(new Image().src=g.A,E=!0),E||(g.g=hx(g.j,null),g.g.ea(g.A)),g.F=Date.now(),Td(g)}ux(u)}function Cd(u){u.g&&(Um(u),u.g.cancel(),u.g=null)}function rx(u){Cd(u),u.v&&(o.clearTimeout(u.v),u.v=null),Rd(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&o.clearTimeout(u.m),u.m=null)}function Ad(u){if(!F0(u.h)&&!u.m){u.m=!0;var g=u.Ea;D||S(),M||(D(),M=!0),b.add(g,u),u.D=0}}function AD(u,g){return U0(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=g.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Qi(c(u.Ea,u,g),cx(u,u.D)),u.D++,!0)}t.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new ks(this,this.j,u);let F=this.o;if(this.U&&(F?(F=H(F),ae(F,this.U)):F=this.U),this.u!==null||this.R||(L.J=F,F=null),this.S)e:{for(var g=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(g+=A,g>4096){g=E;break e}if(g===4096||E===this.i.length-1){g=E+1;break e}}g=1e3}else g=1e3;g=ix(this,L,g),E=Sr(this.J),Ke(E,"RID",u),Ke(E,"CVER",22),this.G&&Ke(E,"X-HTTP-Session-Id",this.G),oc(this,E),F&&(this.R?g="headers="+Yl(X0(F))+"&"+g:this.u&&Lm(E,this.u,F)),Om(this.h,L),this.Ra&&Ke(E,"TYPE","init"),this.S?(Ke(E,"$req",g),Ke(E,"SID","null"),L.U=!0,Pm(L,E,null)):Pm(L,E,g),this.I=2}}else this.I==3&&(u?sx(this,u):this.i.length==0||F0(this.h)||sx(this))};function sx(u,g){var E;g?E=g.l:E=u.V++;const A=Sr(u.J);Ke(A,"SID",u.M),Ke(A,"RID",E),Ke(A,"AID",u.K),oc(u,A),u.u&&u.o&&Lm(A,u.u,u.o),E=new ks(u,u.j,E,u.D+1),u.u===null&&(E.J=u.o),g&&(u.i=g.G.concat(u.i)),g=ix(u,E,1e3),E.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Om(u.h,E),Pm(E,A,g)}function oc(u,g){u.H&&$(u.H,function(E,A){Ke(g,A,E)}),u.l&&$({},function(E,A){Ke(g,A,E)})}function ix(u,g,E){E=Math.min(u.i.length,E);const A=u.l?c(u.l.Ka,u.l,u):null;e:{var L=u.i;let ge=-1;for(;;){const It=["count="+E];ge==-1?E>0?(ge=L[0].g,It.push("ofs="+ge)):ge=0:It.push("ofs="+ge);let Be=!0;for(let kt=0;kt<E;kt++){var F=L[kt].g;const Cr=L[kt].map;if(F-=ge,F<0)ge=Math.max(0,L[kt].g-100),Be=!1;else try{F="req"+F+"_"||"";try{var Q=Cr instanceof Map?Cr:Object.entries(Cr);for(const[Zi,Ms]of Q){let Vs=Ms;a(Ms)&&(Vs=Kl(Ms)),It.push(F+Zi+"="+encodeURIComponent(Vs))}}catch(Zi){throw It.push(F+"type="+encodeURIComponent("_badmap")),Zi}}catch{A&&A(Cr)}}if(Be){Q=It.join("&");break e}}Q=void 0}return u=u.i.splice(0,E),g.G=u,Q}function ox(u){if(!u.g&&!u.v){u.Y=1;var g=u.Da;D||S(),M||(D(),M=!0),b.add(g,u),u.A=0}}function Fm(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Qi(c(u.Da,u),cx(u,u.A)),u.A++,!0)}t.Da=function(){if(this.v=null,ax(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Qi(c(this.Wa,this),u)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Tt(10),Cd(this),ax(this))};function Um(u){u.B!=null&&(o.clearTimeout(u.B),u.B=null)}function ax(u){u.g=new ks(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var g=Sr(u.na);Ke(g,"RID","rpc"),Ke(g,"SID",u.M),Ke(g,"AID",u.K),Ke(g,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ke(g,"TO",u.ia),Ke(g,"TYPE","xmlhttp"),oc(u,g),u.u&&u.o&&Lm(g,u.u,u.o),u.O&&(u.g.H=u.O);var E=u.g;u=u.ba,E.M=1,E.A=Id(Sr(g)),E.u=null,E.R=!0,M0(E,u)}t.Va=function(){this.C!=null&&(this.C=null,Cd(this),Fm(this),Tt(19))};function Rd(u){u.C!=null&&(o.clearTimeout(u.C),u.C=null)}function lx(u,g){var E=null;if(u.g==g){Rd(u),Um(u),u.g=null;var A=2}else if(Dm(u.h,g))E=g.G,B0(u.h,g),A=1;else return;if(u.I!=0){if(g.o)if(A==1){E=g.u?g.u.length:0,g=Date.now()-g.F;var L=u.D;A=aa(),Rt(A,new tr(A,E)),Ad(u)}else ox(u);else if(L=g.m,L==3||L==0&&g.X>0||!(A==1&&AD(u,g)||A==2&&Fm(u)))switch(E&&E.length>0&&(g=u.h,g.i=g.i.concat(E)),L){case 1:Ji(u,5);break;case 4:Ji(u,10);break;case 3:Ji(u,6);break;default:Ji(u,2)}}}function cx(u,g){let E=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(E*=2),E*g}function Ji(u,g){if(u.j.info("Error code "+g),g==2){var E=c(u.bb,u),A=u.Ua;const L=!A;A=new Ns(A||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Jl(A,"https"),Id(A),L?ED(A.toString(),E):TD(A.toString(),E)}else Tt(2);u.I=0,u.l&&u.l.pa(g),ux(u),rx(u)}t.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function ux(u){if(u.I=0,u.ja=[],u.l){const g=$0(u.h);(g.length!=0||u.i.length!=0)&&(I(u.ja,g),I(u.ja,u.i),u.h.i.length=0,m(u.i),u.i.length=0),u.l.oa()}}function dx(u,g,E){var A=E instanceof Ns?Sr(E):new Ns(E);if(A.g!="")g&&(A.g=g+"."+A.g),Zl(A,A.u);else{var L=o.location;A=L.protocol,g=g?g+"."+L.hostname:L.hostname,L=+L.port;const F=new Ns(null);A&&Jl(F,A),g&&(F.g=g),L&&Zl(F,L),E&&(F.h=E),A=F}return E=u.G,g=u.wa,E&&g&&Ke(A,E,g),Ke(A,"VER",u.ka),oc(u,A),A}function hx(u,g,E){if(g&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Aa&&!u.ma?new ct(new Vm({ab:E})):new ct(u.ma),g.Fa(u.L),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function fx(){}t=fx.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Pd(){}Pd.prototype.g=function(u,g){return new Sn(u,g)};function Sn(u,g){nt.call(this),this.g=new nx(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(u?u["X-WebChannel-Client-Profile"]=g.sa:u={"X-WebChannel-Client-Profile":g.sa}),this.g.U=u,(u=g&&g.Qb)&&!k(u)&&(this.g.u=u),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!k(g)&&(this.g.G=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new ca(this)}f(Sn,nt),Sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Sn.prototype.close=function(){jm(this.g)},Sn.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var E={};E.__data__=u,u=E}else this.v&&(E={},E.__data__=Kl(u),u=E);g.i.push(new pD(g.Ya++,u)),g.I==3&&Ad(g)},Sn.prototype.N=function(){this.g.l=null,delete this.j,jm(this.g),delete this.g,Sn.Z.N.call(this)};function px(u){Ir.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const E in g){u=E;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}f(px,Ir);function mx(){oa.call(this),this.status=1}f(mx,oa);function ca(u){this.g=u}f(ca,fx),ca.prototype.ra=function(){Rt(this.g,"a")},ca.prototype.qa=function(u){Rt(this.g,new px(u))},ca.prototype.pa=function(u){Rt(this.g,new mx)},ca.prototype.oa=function(){Rt(this.g,"b")},Pd.prototype.createWebChannel=Pd.prototype.g,Sn.prototype.send=Sn.prototype.o,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,NR=function(){return new Pd},kR=function(){return aa()},PR=dn,uv={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Bn.NO_ERROR=0,Bn.TIMEOUT=8,Bn.HTTP_ERROR=6,jh=Bn,hn.COMPLETE="complete",RR=hn,Gl.EventType=es,es.OPEN="a",es.CLOSE="b",es.ERROR="c",es.MESSAGE="d",nt.prototype.listen=nt.prototype.J,Pc=Gl,ct.prototype.listenOnce=ct.prototype.K,ct.prototype.getLastError=ct.prototype.Ha,ct.prototype.getLastErrorCode=ct.prototype.ya,ct.prototype.getStatus=ct.prototype.ca,ct.prototype.getResponseJson=ct.prototype.La,ct.prototype.getResponseText=ct.prototype.la,ct.prototype.send=ct.prototype.ea,ct.prototype.setWithCredentials=ct.prototype.Fa,AR=ct}).apply(typeof nh<"u"?nh:typeof self<"u"?self:typeof window<"u"?window:{});const TT="@firebase/firestore",IT="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vt.UNAUTHENTICATED=new Vt(null),Vt.GOOGLE_CREDENTIALS=new Vt("google-credentials-uid"),Vt.FIRST_PARTY=new Vt("first-party-uid"),Vt.MOCK_USER=new Vt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ul="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo=new zp("@firebase/firestore");function xa(){return Mo.logLevel}function W(t,...e){if(Mo.logLevel<=Ee.DEBUG){const n=e.map(w_);Mo.debug(`Firestore (${Ul}): ${t}`,...n)}}function sn(t,...e){if(Mo.logLevel<=Ee.ERROR){const n=e.map(w_);Mo.error(`Firestore (${Ul}): ${t}`,...n)}}function Vo(t,...e){if(Mo.logLevel<=Ee.WARN){const n=e.map(w_);Mo.warn(`Firestore (${Ul}): ${t}`,...n)}}function w_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ne(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,DR(t,r,n)}function DR(t,e,n){let r=`FIRESTORE (${Ul}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw sn(r),new Error(r)}function se(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||DR(e,s,r)}function fe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Y extends In{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class WU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Vt.UNAUTHENTICATED))}shutdown(){}}class KU{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class GU{constructor(e){this.t=e,this.currentUser=Vt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){se(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Ti;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ti,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{W("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(W("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ti)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(W("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(se(typeof r.accessToken=="string",31837,{l:r}),new OR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return se(e===null||typeof e=="string",2055,{h:e}),new Vt(e)}}class QU{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Vt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class YU{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new QU(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Vt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class bT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class XU{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Hn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){se(this.o===void 0,3512);const r=i=>{i.error!=null&&W("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,W("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{W("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):W("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new bT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(se(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new bT(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JU(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=JU(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function he(t,e){return t<e?-1:t>e?1:0}function dv(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return Rg(s)===Rg(i)?he(s,i):Rg(s)?1:-1}return he(t.length,e.length)}const ZU=55296,e5=57343;function Rg(t){const e=t.charCodeAt(0);return e>=ZU&&e<=e5}function gl(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}function MR(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST="__name__";class Pr{constructor(e,n,r){n===void 0?n=0:n>e.length&&ne(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ne(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Pr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Pr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Pr.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return he(e.length,n.length)}static compareSegments(e,n){const r=Pr.isNumericId(e),s=Pr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Pr.extractNumericId(e).compare(Pr.extractNumericId(n)):dv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ei.fromString(e.substring(4,e.length-2))}}class Oe extends Pr{construct(e,n,r){return new Oe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Y(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Oe(n)}static emptyPath(){return new Oe([])}}const t5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class it extends Pr{construct(e,n,r){return new it(e,n,r)}static isValidIdentifier(e){return t5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),it.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ST}static keyField(){return new it([ST])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Y(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new Y(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Y(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new Y(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new it(n)}static emptyPath(){return new it([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.path=e}static fromPath(e){return new Z(Oe.fromString(e))}static fromName(e){return new Z(Oe.fromString(e).popFirst(5))}static empty(){return new Z(Oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Oe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Oe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Z(new Oe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VR(t,e,n){if(!n)throw new Y(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function n5(t,e,n,r){if(e===!0&&r===!0)throw new Y(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function CT(t){if(!Z.isDocumentKey(t))throw new Y(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function AT(t){if(Z.isDocumentKey(t))throw new Y(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function LR(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Hp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ne(12329,{type:typeof t})}function Ii(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Y(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Hp(t);throw new Y(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(t,e){const n={typeString:t};return e&&(n.value=e),n}function ad(t,e){if(!LR(t))throw new Y(B.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new Y(B.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT=-62135596800,PT=1e6;class Ve{static now(){return Ve.fromMillis(Date.now())}static fromDate(e){return Ve.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*PT);return new Ve(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Y(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Y(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<RT)throw new Y(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/PT}_compareTo(e){return this.seconds===e.seconds?he(this.nanoseconds,e.nanoseconds):he(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ve._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ad(e,Ve._jsonSchema))return new Ve(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-RT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ve._jsonSchemaVersion="firestore/timestamp/1.0",Ve._jsonSchema={type:wt("string",Ve._jsonSchemaVersion),seconds:wt("number"),nanoseconds:wt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{static fromTimestamp(e){return new oe(e)}static min(){return new oe(new Ve(0,0))}static max(){return new oe(new Ve(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Du=-1;class Ff{constructor(e,n,r,s){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=s}}function hv(t){return t.fields.find(e=>e.kind===2)}function so(t){return t.fields.filter(e=>e.kind!==2)}Ff.UNKNOWN_ID=-1;class Fh{constructor(e,n){this.fieldPath=e,this.kind=n}}class Ou{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Ou(0,Ln.min())}}function r5(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=oe.fromTimestamp(r===1e9?new Ve(n+1,0):new Ve(n,r));return new Ln(s,Z.empty(),e)}function jR(t){return new Ln(t.readTime,t.key,Du)}class Ln{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ln(oe.min(),Z.empty(),Du)}static max(){return new Ln(oe.max(),Z.empty(),Du)}}function x_(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Z.comparator(t.documentKey,e.documentKey),n!==0?n:he(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class UR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ta(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==FR)throw t;W("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new V((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof V?n:V.resolve(n)}catch(n){return V.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):V.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):V.reject(n)}static resolve(e){return new V((n,r)=>{n(e)})}static reject(e){return new V((n,r)=>{r(e)})}static waitFor(e){return new V((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=V.resolve(!1);for(const r of e)n=n.next(s=>s?V.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new V((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new V((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const An="SimpleDb";class Wp{static open(e,n,r,s){try{return new Wp(n,e.transaction(s,r))}catch(i){throw new Xc(n,i)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new Ti,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new Xc(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const s=E_(r.target.error);this.S.reject(new Xc(e,s))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(W(An,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new i5(n)}}class bi{static delete(e){return W(An,"Removing database:",e),oo(dR().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!$p())return!1;if(bi.F())return!0;const e=Ct(),n=bi.M(e),r=0<n&&n<10,s=BR(e),i=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||i)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)==null?void 0:e.__PRIVATE_USE_MOCK_PERSISTENCE)==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,bi.M(Ct())===12.2&&sn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(W(An,"Opening database:",this.name),this.db=await new Promise((n,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=i=>{const o=i.target.result;n(o)},s.onblocked=()=>{r(new Xc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=i=>{const o=i.target.error;o.name==="VersionError"?r(new Y(B.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new Y(B.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Xc(e,o))},s.onupgradeneeded=i=>{W(An,'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const o=i.target.result;this.N.k(o,s.transaction,i.oldVersion,this.version).next(()=>{W(An,"Database upgrade to version "+this.version+" complete")})}})),this.q&&(this.db.onversionchange=n=>this.q(n)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,s){const i=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.L(e);const a=Wp.open(this.db,e,i?"readonly":"readwrite",r),l=s(a).next(c=>(a.C(),c)).catch(c=>(a.abort(c),V.reject(c))).toPromise();return l.catch(()=>{}),await a.D,l}catch(a){const l=a,c=l.name!=="FirebaseError"&&o<3;if(W(An,"Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}function BR(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class s5{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return oo(this.U.delete())}}class Xc extends Y{constructor(e,n){super(B.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function zi(t){return t.name==="IndexedDbTransactionError"}class i5{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(W(An,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(W(An,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),oo(r)}add(e){return W(An,"ADD",this.store.name,e,e),oo(this.store.add(e))}get(e){return oo(this.store.get(e)).next(n=>(n===void 0&&(n=null),W(An,"GET",this.store.name,e,n),n))}delete(e){return W(An,"DELETE",this.store.name,e),oo(this.store.delete(e))}count(){return W(An,"COUNT",this.store.name),oo(this.store.count())}J(e,n){const r=this.options(e,n),s=r.index?this.store.index(r.index):this.store;if(typeof s.getAll=="function"){const i=s.getAll(r.range);return new V((o,a)=>{i.onerror=l=>{a(l.target.error)},i.onsuccess=l=>{o(l.target.result)}})}{const i=this.cursor(r),o=[];return this.H(i,(a,l)=>{o.push(l)}).next(()=>o)}}Y(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new V((s,i)=>{r.onerror=o=>{i(o.target.error)},r.onsuccess=o=>{s(o.target.result)}})}Z(e,n){W(An,"DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const s=this.cursor(r);return this.H(s,(i,o,a)=>a.delete())}ee(e,n){let r;n?r=e:(r={},n=e);const s=this.cursor(r);return this.H(s,n)}te(e){const n=this.cursor({});return new V((r,s)=>{n.onerror=i=>{const o=E_(i.target.error);s(o)},n.onsuccess=i=>{const o=i.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}H(e,n){const r=[];return new V((s,i)=>{e.onerror=o=>{i(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void s();const l=new s5(a),c=n(a.primaryKey,a.value,l);if(c instanceof V){const d=c.catch(f=>(l.done(),V.reject(f)));r.push(d)}l.isDone?s():l.G===null?a.continue():a.continue(l.G)}}).next(()=>V.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function oo(t){return new V((e,n)=>{t.onsuccess=r=>{const s=r.target.result;e(s)},t.onerror=r=>{const s=E_(r.target.error);n(s)}})}let kT=!1;function E_(t){const e=bi.M(Ct());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new Y("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return kT||(kT=!0,setTimeout(()=>{throw r},0)),r}}return t}const Jc="IndexBackfiller";class o5{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){W(Jc,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const n=await this.ne.ie();W(Jc,`Documents written: ${n}`)}catch(n){zi(n)?W(Jc,"Ignoring IndexedDB error during index backfill: ",n):await ta(n)}await this.re(6e4)})}}class a5{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.se(n,e))}se(e,n){const r=new Set;let s=n,i=!0;return V.doWhile(()=>i===!0&&s>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return W(Jc,`Processing collection: ${o}`),this.oe(e,o,s).next(a=>{s-=a,r.add(o)});i=!1})).next(()=>n-s)}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(s=>this.localStore.localDocuments.getNextDocuments(e,n,s,r).next(i=>{const o=i.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this._e(s,i)).next(a=>(W(Jc,`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}_e(e,n){let r=e;return n.changes.forEach((s,i)=>{const o=jR(i);x_(o,r)>0&&(r=o)}),new Ln(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Gn.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io=-1;function Kp(t){return t==null}function Mu(t){return t===0&&1/t==-1/0}function l5(t){return typeof t=="number"&&Number.isInteger(t)&&!Mu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uf="";function Qt(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=NT(e)),e=c5(t.get(n),e);return NT(e)}function c5(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case Uf:n+="";break;default:n+=i}}return n}function NT(t){return t+Uf+""}function Lr(t){const e=t.length;if(se(e>=2,64408,{path:t}),e===2)return se(t.charAt(0)===Uf&&t.charAt(1)==="",56145,{path:t}),Oe.emptyPath();const n=e-2,r=[];let s="";for(let i=0;i<e;){const o=t.indexOf(Uf,i);switch((o<0||o>n)&&ne(50515,{path:t}),t.charAt(o+1)){case"":const a=t.substring(i,o);let l;s.length===0?l=a:(s+=a,l=s,s=""),r.push(l);break;case"":s+=t.substring(i,o),s+="\0";break;case"":s+=t.substring(i,o+1);break;default:ne(61167,{path:t})}i=o+2}return new Oe(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io="remoteDocuments",ld="owner",da="owner",Vu="mutationQueues",u5="userId",dr="mutations",DT="batchId",po="userMutationsIndex",OT=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uh(t,e){return[t,Qt(e)]}function $R(t,e,n){return[t,Qt(e),n]}const d5={},yl="documentMutations",Bf="remoteDocumentsV14",h5=["prefixPath","collectionGroup","readTime","documentId"],Bh="documentKeyIndex",f5=["prefixPath","collectionGroup","documentId"],zR="collectionGroupIndex",p5=["collectionGroup","readTime","prefixPath","documentId"],Lu="remoteDocumentGlobal",fv="remoteDocumentGlobalKey",vl="targets",qR="queryTargetsIndex",m5=["canonicalId","targetId"],wl="targetDocuments",g5=["targetId","path"],T_="documentTargetsIndex",y5=["path","targetId"],$f="targetGlobalKey",bo="targetGlobal",ju="collectionParents",v5=["collectionId","parent"],_l="clientMetadata",w5="clientId",Gp="bundles",_5="bundleId",Qp="namedQueries",x5="name",I_="indexConfiguration",E5="indexId",pv="collectionGroupIndex",T5="collectionGroup",Zc="indexState",I5=["indexId","uid"],HR="sequenceNumberIndex",b5=["uid","sequenceNumber"],eu="indexEntries",S5=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],WR="documentKeyIndex",C5=["indexId","uid","orderedDocumentKey"],Yp="documentOverlays",A5=["userId","collectionPath","documentId"],mv="collectionPathOverlayIndex",R5=["userId","collectionPath","largestBatchId"],KR="collectionGroupOverlayIndex",P5=["userId","collectionGroup","largestBatchId"],b_="globals",k5="name",GR=[Vu,dr,yl,io,vl,ld,bo,wl,_l,Lu,ju,Gp,Qp],N5=[...GR,Yp],QR=[Vu,dr,yl,Bf,vl,ld,bo,wl,_l,Lu,ju,Gp,Qp,Yp],YR=QR,S_=[...YR,I_,Zc,eu],D5=S_,XR=[...S_,b_],O5=XR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv extends UR{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function At(t,e){const n=fe(t);return bi.O(n.le,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function qi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function JR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e,n){this.comparator=e,this.root=n||Lt.EMPTY}insert(e,n){return new tt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Lt.BLACK,null,null))}remove(e){return new tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rh(this.root,e,this.comparator,!1)}getReverseIterator(){return new rh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rh(this.root,e,this.comparator,!0)}}class rh{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Lt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Lt.RED,this.left=s??Lt.EMPTY,this.right=i??Lt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Lt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Lt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Lt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ne(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ne(27949);return e+(this.isRed()?0:1)}}Lt.EMPTY=null,Lt.RED=!0,Lt.BLACK=!1;Lt.EMPTY=new class{constructor(){this.size=0}get key(){throw ne(57766)}get value(){throw ne(16141)}get color(){throw ne(16727)}get left(){throw ne(29726)}get right(){throw ne(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new Lt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.comparator=e,this.data=new tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new VT(this.data.getIterator())}getIteratorFrom(e){return new VT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Fe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Fe(this.comparator);return n.data=e,n}}class VT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ha(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.fields=e,e.sort(it.comparator)}static empty(){return new yn([])}unionWith(e){let n=new Fe(it.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new yn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return gl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new ZR("Invalid base64 string: "+i):i}}(e);return new xt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return he(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xt.EMPTY_BYTE_STRING=new xt("");const M5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xs(t){if(se(!!t,39018),typeof t=="string"){let e=0;const n=M5.exec(t);if(se(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Je(t.seconds),nanos:Je(t.nanos)}}function Je(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Es(t){return typeof t=="string"?xt.fromBase64String(t):xt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP="server_timestamp",tP="__type__",nP="__previous_value__",rP="__local_write_time__";function C_(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[tP])==null?void 0:r.stringValue)===eP}function Xp(t){const e=t.mapValue.fields[nP];return C_(e)?Xp(e):e}function Fu(t){const e=xs(t.mapValue.fields[rP].timestampValue);return new Ve(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V5{constructor(e,n,r,s,i,o,a,l,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=d}}const zf="(default)";class Lo{constructor(e,n){this.projectId=e,this.database=n||zf}static empty(){return new Lo("","")}get isDefaultDatabase(){return this.database===zf}isEqual(e){return e instanceof Lo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_="__type__",sP="__max__",ui={mapValue:{fields:{__type__:{stringValue:sP}}}},R_="__vector__",xl="value",$h={nullValue:"NULL_VALUE"};function Oi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?C_(t)?4:iP(t)?9007199254740991:Jp(t)?10:11:ne(28295,{value:t})}function Qr(t,e){if(t===e)return!0;const n=Oi(t);if(n!==Oi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Fu(t).isEqual(Fu(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=xs(s.timestampValue),a=xs(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Es(s.bytesValue).isEqual(Es(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Je(s.geoPointValue.latitude)===Je(i.geoPointValue.latitude)&&Je(s.geoPointValue.longitude)===Je(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Je(s.integerValue)===Je(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Je(s.doubleValue),a=Je(i.doubleValue);return o===a?Mu(o)===Mu(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return gl(t.arrayValue.values||[],e.arrayValue.values||[],Qr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(MT(o)!==MT(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Qr(o[l],a[l])))return!1;return!0}(t,e);default:return ne(52216,{left:t})}}function Uu(t,e){return(t.values||[]).find(n=>Qr(n,e))!==void 0}function Mi(t,e){if(t===e)return 0;const n=Oi(t),r=Oi(e);if(n!==r)return he(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return he(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Je(i.integerValue||i.doubleValue),l=Je(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return LT(t.timestampValue,e.timestampValue);case 4:return LT(Fu(t),Fu(e));case 5:return dv(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Es(i),l=Es(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=he(a[c],l[c]);if(d!==0)return d}return he(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=he(Je(i.latitude),Je(o.latitude));return a!==0?a:he(Je(i.longitude),Je(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return jT(t.arrayValue,e.arrayValue);case 10:return function(i,o){var p,m,I,y;const a=i.fields||{},l=o.fields||{},c=(p=a[xl])==null?void 0:p.arrayValue,d=(m=l[xl])==null?void 0:m.arrayValue,f=he(((I=c==null?void 0:c.values)==null?void 0:I.length)||0,((y=d==null?void 0:d.values)==null?void 0:y.length)||0);return f!==0?f:jT(c,d)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===ui.mapValue&&o===ui.mapValue)return 0;if(i===ui.mapValue)return 1;if(o===ui.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const p=dv(l[f],d[f]);if(p!==0)return p;const m=Mi(a[l[f]],c[d[f]]);if(m!==0)return m}return he(l.length,d.length)}(t.mapValue,e.mapValue);default:throw ne(23264,{he:n})}}function LT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return he(t,e);const n=xs(t),r=xs(e),s=he(n.seconds,r.seconds);return s!==0?s:he(n.nanos,r.nanos)}function jT(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Mi(n[s],r[s]);if(i)return i}return he(n.length,r.length)}function El(t){return yv(t)}function yv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=xs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Es(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Z.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=yv(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${yv(n.fields[o])}`;return s+"}"}(t.mapValue):ne(61005,{value:t})}function zh(t){switch(Oi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Xp(t);return e?16+zh(e):16;case 5:return 2*t.stringValue.length;case 6:return Es(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+zh(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return qi(r.fields,(i,o)=>{s+=i.length+zh(o)}),s}(t.mapValue);default:throw ne(13486,{value:t})}}function Bu(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function vv(t){return!!t&&"integerValue"in t}function $u(t){return!!t&&"arrayValue"in t}function FT(t){return!!t&&"nullValue"in t}function UT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function qh(t){return!!t&&"mapValue"in t}function Jp(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[A_])==null?void 0:r.stringValue)===R_}function tu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return qi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=tu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=tu(t.arrayValue.values[n]);return e}return{...t}}function iP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===sP}const oP={mapValue:{fields:{[A_]:{stringValue:R_},[xl]:{arrayValue:{}}}}};function L5(t){return"nullValue"in t?$h:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Bu(Lo.empty(),Z.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?Jp(t)?oP:{mapValue:{}}:ne(35942,{value:t})}function j5(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Bu(Lo.empty(),Z.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?oP:"mapValue"in t?Jp(t)?{mapValue:{}}:ui:ne(61959,{value:t})}function BT(t,e){const n=Mi(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function $T(t,e){const n=Mi(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.value=e}static empty(){return new Gt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!qh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=tu(n)}setAll(e){let n=it.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=tu(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());qh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Qr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];qh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){qi(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Gt(tu(this.value))}}function aP(t){const e=[];return qi(t.fields,(n,r)=>{const s=new it([n]);if(qh(r)){const i=aP(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new yn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new ht(e,0,oe.min(),oe.min(),oe.min(),Gt.empty(),0)}static newFoundDocument(e,n,r,s){return new ht(e,1,n,oe.min(),r,s,0)}static newNoDocument(e,n){return new ht(e,2,n,oe.min(),oe.min(),Gt.empty(),0)}static newUnknownDocument(e,n){return new ht(e,3,n,oe.min(),oe.min(),Gt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ht&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ht(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e,n){this.position=e,this.inclusive=n}}function zT(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=Z.comparator(Z.fromName(o.referenceValue),n.key):r=Mi(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function qT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Qr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,n="asc"){this.field=e,this.dir=n}}function F5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{}class Te extends lP{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new U5(e,n,r):n==="array-contains"?new z5(e,r):n==="in"?new pP(e,r):n==="not-in"?new q5(e,r):n==="array-contains-any"?new H5(e,r):new Te(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new B5(e,r):new $5(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Mi(n,this.value)):n!==null&&Oi(this.value)===Oi(n)&&this.matchesComparison(Mi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Le extends lP{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Le(e,n)}matches(e){return Il(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Il(t){return t.op==="and"}function wv(t){return t.op==="or"}function P_(t){return cP(t)&&Il(t)}function cP(t){for(const e of t.filters)if(e instanceof Le)return!1;return!0}function _v(t){if(t instanceof Te)return t.field.canonicalString()+t.op.toString()+El(t.value);if(P_(t))return t.filters.map(e=>_v(e)).join(",");{const e=t.filters.map(n=>_v(n)).join(",");return`${t.op}(${e})`}}function uP(t,e){return t instanceof Te?function(r,s){return s instanceof Te&&r.op===s.op&&r.field.isEqual(s.field)&&Qr(r.value,s.value)}(t,e):t instanceof Le?function(r,s){return s instanceof Le&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&uP(o,s.filters[a]),!0):!1}(t,e):void ne(19439)}function dP(t,e){const n=t.filters.concat(e);return Le.create(n,t.op)}function hP(t){return t instanceof Te?function(n){return`${n.field.canonicalString()} ${n.op} ${El(n.value)}`}(t):t instanceof Le?function(n){return n.op.toString()+" {"+n.getFilters().map(hP).join(" ,")+"}"}(t):"Filter"}class U5 extends Te{constructor(e,n,r){super(e,n,r),this.key=Z.fromName(r.referenceValue)}matches(e){const n=Z.comparator(e.key,this.key);return this.matchesComparison(n)}}class B5 extends Te{constructor(e,n){super(e,"in",n),this.keys=fP("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class $5 extends Te{constructor(e,n){super(e,"not-in",n),this.keys=fP("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function fP(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>Z.fromName(r.referenceValue))}class z5 extends Te{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return $u(n)&&Uu(n.arrayValue,this.value)}}class pP extends Te{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Uu(this.value.arrayValue,n)}}class q5 extends Te{constructor(e,n){super(e,"not-in",n)}matches(e){if(Uu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Uu(this.value.arrayValue,n)}}class H5 extends Te{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!$u(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Uu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W5{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function xv(t,e=null,n=[],r=[],s=null,i=null,o=null){return new W5(t,e,n,r,s,i,o)}function jo(t){const e=fe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>_v(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Kp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>El(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>El(r)).join(",")),e.Te=n}return e.Te}function cd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!F5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!uP(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!qT(t.startAt,e.startAt)&&qT(t.endAt,e.endAt)}function qf(t){return Z.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Hf(t,e){return t.filters.filter(n=>n instanceof Te&&n.field.isEqual(e))}function HT(t,e,n){let r=$h,s=!0;for(const i of Hf(t,e)){let o=$h,a=!0;switch(i.op){case"<":case"<=":o=L5(i.value);break;case"==":case"in":case">=":o=i.value;break;case">":o=i.value,a=!1;break;case"!=":case"not-in":o=$h}BT({value:r,inclusive:s},{value:o,inclusive:a})<0&&(r=o,s=a)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const o=n.position[i];BT({value:r,inclusive:s},{value:o,inclusive:n.inclusive})<0&&(r=o,s=n.inclusive);break}}return{value:r,inclusive:s}}function WT(t,e,n){let r=ui,s=!0;for(const i of Hf(t,e)){let o=ui,a=!0;switch(i.op){case">=":case">":o=j5(i.value),a=!1;break;case"==":case"in":case"<=":o=i.value;break;case"<":o=i.value,a=!1;break;case"!=":case"not-in":o=ui}$T({value:r,inclusive:s},{value:o,inclusive:a})>0&&(r=o,s=a)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const o=n.position[i];$T({value:r,inclusive:s},{value:o,inclusive:n.inclusive})>0&&(r=o,s=n.inclusive);break}}return{value:r,inclusive:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function K5(t,e,n,r,s,i,o,a){return new Bl(t,e,n,r,s,i,o,a)}function Zp(t){return new Bl(t)}function KT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function mP(t){return t.collectionGroup!==null}function nu(t){const e=fe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Fe(it.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new zu(i,r))}),n.has(it.keyField().canonicalString())||e.Ie.push(new zu(it.keyField(),r))}return e.Ie}function Yn(t){const e=fe(t);return e.Ee||(e.Ee=G5(e,nu(t))),e.Ee}function G5(t,e){if(t.limitType==="F")return xv(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new zu(s.field,i)});const n=t.endAt?new Tl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Tl(t.startAt.position,t.startAt.inclusive):null;return xv(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ev(t,e){const n=t.filters.concat([e]);return new Bl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Tv(t,e,n){return new Bl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function em(t,e){return cd(Yn(t),Yn(e))&&t.limitType===e.limitType}function gP(t){return`${jo(Yn(t))}|lt:${t.limitType}`}function Ea(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>hP(s)).join(", ")}]`),Kp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>El(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>El(s)).join(",")),`Target(${r})`}(Yn(t))}; limitType=${t.limitType})`}function ud(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Z.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of nu(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=zT(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,nu(r),s)||r.endAt&&!function(o,a,l){const c=zT(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,nu(r),s))}(t,e)}function Q5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function yP(t){return(e,n)=>{let r=!1;for(const s of nu(t)){const i=Y5(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function Y5(t,e,n){const r=t.field.isKeyField()?Z.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?Mi(l,c):ne(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ne(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){qi(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return JR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X5=new tt(Z.comparator);function kn(){return X5}const vP=new tt(Z.comparator);function kc(...t){let e=vP;for(const n of t)e=e.insert(n.key,n);return e}function wP(t){let e=vP;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function jr(){return ru()}function _P(){return ru()}function ru(){return new Cs(t=>t.toString(),(t,e)=>t.isEqual(e))}const J5=new tt(Z.comparator),Z5=new Fe(Z.comparator);function ye(...t){let e=Z5;for(const n of t)e=e.add(n);return e}const eB=new Fe(he);function tB(){return eB}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mu(e)?"-0":e}}function xP(t){return{integerValue:""+t}}function nB(t,e){return l5(e)?xP(e):k_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(){this._=void 0}}function rB(t,e,n){return t instanceof bl?function(s,i){const o={fields:{[tP]:{stringValue:eP},[rP]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&C_(i)&&(i=Xp(i)),i&&(o.fields[nP]=i),{mapValue:o}}(n,e):t instanceof Sl?TP(t,e):t instanceof Cl?IP(t,e):function(s,i){const o=EP(s,i),a=GT(o)+GT(s.Ae);return vv(o)&&vv(s.Ae)?xP(a):k_(s.serializer,a)}(t,e)}function sB(t,e,n){return t instanceof Sl?TP(t,e):t instanceof Cl?IP(t,e):n}function EP(t,e){return t instanceof qu?function(r){return vv(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class bl extends tm{}class Sl extends tm{constructor(e){super(),this.elements=e}}function TP(t,e){const n=bP(e);for(const r of t.elements)n.some(s=>Qr(s,r))||n.push(r);return{arrayValue:{values:n}}}class Cl extends tm{constructor(e){super(),this.elements=e}}function IP(t,e){let n=bP(e);for(const r of t.elements)n=n.filter(s=>!Qr(s,r));return{arrayValue:{values:n}}}class qu extends tm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function GT(t){return Je(t.integerValue||t.doubleValue)}function bP(t){return $u(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(e,n){this.field=e,this.transform=n}}function iB(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Sl&&s instanceof Sl||r instanceof Cl&&s instanceof Cl?gl(r.elements,s.elements,Qr):r instanceof qu&&s instanceof qu?Qr(r.Ae,s.Ae):r instanceof bl&&s instanceof bl}(t.transform,e.transform)}class oB{constructor(e,n){this.version=e,this.transformResults=n}}class vn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new vn}static exists(e){return new vn(void 0,e)}static updateTime(e){return new vn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class nm{}function CP(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new N_(t.key,vn.none()):new $l(t.key,t.data,vn.none());{const n=t.data,r=Gt.empty();let s=new Fe(it.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new As(t.key,r,new yn(s.toArray()),vn.none())}}function aB(t,e,n){t instanceof $l?function(s,i,o){const a=s.value.clone(),l=YT(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof As?function(s,i,o){if(!Hh(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=YT(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(AP(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function su(t,e,n,r){return t instanceof $l?function(i,o,a,l){if(!Hh(i.precondition,o))return a;const c=i.value.clone(),d=XT(i.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof As?function(i,o,a,l){if(!Hh(i.precondition,o))return a;const c=XT(i.fieldTransforms,l,o),d=o.data;return d.setAll(AP(i)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return Hh(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function lB(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=EP(r.transform,s||null);i!=null&&(n===null&&(n=Gt.empty()),n.set(r.field,i))}return n||null}function QT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&gl(r,s,(i,o)=>iB(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class $l extends nm{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class As extends nm{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function AP(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function YT(t,e,n){const r=new Map;se(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,sB(o,a,n[s]))}return r}function XT(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,rB(i,o,e))}return r}class N_ extends nm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class RP extends nm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&aB(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=su(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=su(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=_P();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=CP(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(oe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ye())}isEqual(e){return this.batchId===e.batchId&&gl(this.mutations,e.mutations,(n,r)=>QT(n,r))&&gl(this.baseMutations,e.baseMutations,(n,r)=>QT(n,r))}}class O_{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){se(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return J5}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new O_(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cB{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt,be;function uB(t){switch(t){case B.OK:return ne(64938);case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0;default:return ne(15467,{code:t})}}function PP(t){if(t===void 0)return sn("GRPC error has no .code"),B.UNKNOWN;switch(t){case yt.OK:return B.OK;case yt.CANCELLED:return B.CANCELLED;case yt.UNKNOWN:return B.UNKNOWN;case yt.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case yt.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case yt.INTERNAL:return B.INTERNAL;case yt.UNAVAILABLE:return B.UNAVAILABLE;case yt.UNAUTHENTICATED:return B.UNAUTHENTICATED;case yt.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case yt.NOT_FOUND:return B.NOT_FOUND;case yt.ALREADY_EXISTS:return B.ALREADY_EXISTS;case yt.PERMISSION_DENIED:return B.PERMISSION_DENIED;case yt.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case yt.ABORTED:return B.ABORTED;case yt.OUT_OF_RANGE:return B.OUT_OF_RANGE;case yt.UNIMPLEMENTED:return B.UNIMPLEMENTED;case yt.DATA_LOSS:return B.DATA_LOSS;default:return ne(39323,{code:t})}}(be=yt||(yt={}))[be.OK=0]="OK",be[be.CANCELLED=1]="CANCELLED",be[be.UNKNOWN=2]="UNKNOWN",be[be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",be[be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",be[be.NOT_FOUND=5]="NOT_FOUND",be[be.ALREADY_EXISTS=6]="ALREADY_EXISTS",be[be.PERMISSION_DENIED=7]="PERMISSION_DENIED",be[be.UNAUTHENTICATED=16]="UNAUTHENTICATED",be[be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",be[be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",be[be.ABORTED=10]="ABORTED",be[be.OUT_OF_RANGE=11]="OUT_OF_RANGE",be[be.UNIMPLEMENTED=12]="UNIMPLEMENTED",be[be.INTERNAL=13]="INTERNAL",be[be.UNAVAILABLE=14]="UNAVAILABLE",be[be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dB(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hB=new Ei([4294967295,4294967295],0);function JT(t){const e=dB().encode(t),n=new CR;return n.update(e),new Uint8Array(n.digest())}function ZT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Ei([n,r],0),new Ei([s,i],0)]}class V_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Nc(`Invalid padding: ${n}`);if(r<0)throw new Nc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Nc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Nc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ei.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Ei.fromNumber(r)));return s.compare(hB)===1&&(s=new Ei([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=JT(e),[r,s]=ZT(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new V_(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=JT(e),[r,s]=ZT(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Nc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,dd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new rm(oe.min(),s,new tt(he),kn(),ye())}}class dd{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new dd(r,n,ye(),ye(),ye())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class kP{constructor(e,n){this.targetId=e,this.Ce=n}}class NP{constructor(e,n,r=xt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class eI{constructor(){this.ve=0,this.Fe=tI(),this.Me=xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ye(),n=ye(),r=ye();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ne(38017,{changeType:i})}}),new dd(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=tI()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,se(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class fB{constructor(e){this.Ge=e,this.ze=new Map,this.je=kn(),this.Je=sh(),this.He=sh(),this.Ye=new tt(he)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ne(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(qf(i))if(r===0){const o=new Z(i.path);this.et(n,o,ht.newNoDocument(o,oe.min()))}else se(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Es(r).toUint8Array()}catch(l){if(l instanceof ZR)return Vo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new V_(o,s,i)}catch(l){return Vo(l instanceof Nc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&qf(a.target)){const l=new Z(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,ht.newNoDocument(l,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=ye();this.He.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new rm(e,n,this.Ye,this.je,r);return this.je=kn(),this.Je=sh(),this.He=sh(),this.Ye=new tt(he),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new eI,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Fe(he),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Fe(he),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||W("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new eI),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function sh(){return new tt(Z.comparator)}function tI(){return new tt(Z.comparator)}const pB={asc:"ASCENDING",desc:"DESCENDING"},mB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gB={and:"AND",or:"OR"};class yB{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Iv(t,e){return t.useProto3Json||Kp(e)?e:{value:e}}function Al(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function DP(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function vB(t,e){return Al(t,e.toTimestamp())}function ln(t){return se(!!t,49232),oe.fromTimestamp(function(n){const r=xs(n);return new Ve(r.seconds,r.nanos)}(t))}function L_(t,e){return bv(t,e).canonicalString()}function bv(t,e){const n=function(s){return new Oe(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function OP(t){const e=Oe.fromString(t);return se(zP(e),10190,{key:e.toString()}),e}function Wf(t,e){return L_(t.databaseId,e.path)}function So(t,e){const n=OP(e);if(n.get(1)!==t.databaseId.projectId)throw new Y(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Y(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Z(LP(n))}function MP(t,e){return L_(t.databaseId,e)}function VP(t){const e=OP(t);return e.length===4?Oe.emptyPath():LP(e)}function Sv(t){return new Oe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function LP(t){return se(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function nI(t,e,n){return{name:Wf(t,e),fields:n.value.mapValue.fields}}function wB(t,e,n){const r=So(t,e.name),s=ln(e.updateTime),i=e.createTime?ln(e.createTime):oe.min(),o=new Gt({mapValue:{fields:e.fields}}),a=ht.newFoundDocument(r,s,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function _B(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ne(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,d){return c.useProto3Json?(se(d===void 0||typeof d=="string",58123),xt.fromBase64String(d||"")):(se(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),xt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?B.UNKNOWN:PP(c.code);return new Y(d,c.message||"")}(o);n=new NP(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=So(t,r.document.name),i=ln(r.document.updateTime),o=r.document.createTime?ln(r.document.createTime):oe.min(),a=new Gt({mapValue:{fields:r.document.fields}}),l=ht.newFoundDocument(s,i,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new Wh(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=So(t,r.document),i=r.readTime?ln(r.readTime):oe.min(),o=ht.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Wh([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=So(t,r.document),i=r.removedTargetIds||[];n=new Wh([],i,s,null)}else{if(!("filter"in e))return ne(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new cB(s,i),a=r.targetId;n=new kP(a,o)}}return n}function Kf(t,e){let n;if(e instanceof $l)n={update:nI(t,e.key,e.value)};else if(e instanceof N_)n={delete:Wf(t,e.key)};else if(e instanceof As)n={update:nI(t,e.key,e.data),updateMask:SB(e.fieldMask)};else{if(!(e instanceof RP))return ne(16599,{Vt:e.type});n={verify:Wf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof bl)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Sl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Cl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof qu)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw ne(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:vB(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ne(27497)}(t,e.precondition)),n}function Cv(t,e){const n=e.currentDocument?function(i){return i.updateTime!==void 0?vn.updateTime(ln(i.updateTime)):i.exists!==void 0?vn.exists(i.exists):vn.none()}(e.currentDocument):vn.none(),r=e.updateTransforms?e.updateTransforms.map(s=>function(o,a){let l=null;if("setToServerValue"in a)se(a.setToServerValue==="REQUEST_TIME",16630,{proto:a}),l=new bl;else if("appendMissingElements"in a){const d=a.appendMissingElements.values||[];l=new Sl(d)}else if("removeAllFromArray"in a){const d=a.removeAllFromArray.values||[];l=new Cl(d)}else"increment"in a?l=new qu(o,a.increment):ne(16584,{proto:a});const c=it.fromServerFormat(a.fieldPath);return new SP(c,l)}(t,s)):[];if(e.update){e.update.name;const s=So(t,e.update.name),i=new Gt({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(l){const c=l.fieldPaths||[];return new yn(c.map(d=>it.fromServerFormat(d)))}(e.updateMask);return new As(s,i,o,n,r)}return new $l(s,i,n,r)}if(e.delete){const s=So(t,e.delete);return new N_(s,n)}if(e.verify){const s=So(t,e.verify);return new RP(s,n)}return ne(1463,{proto:e})}function xB(t,e){return t&&t.length>0?(se(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?ln(s.updateTime):ln(i);return o.isEqual(oe.min())&&(o=ln(i)),new oB(o,s.transformResults||[])}(n,e))):[]}function jP(t,e){return{documents:[MP(t,e.path)]}}function FP(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=MP(t,s);const i=function(c){if(c.length!==0)return $P(Le.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(d=>function(p){return{field:Ta(p.field),direction:TB(p.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Iv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:s}}function UP(t){let e=VP(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){se(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(f){const p=BP(f);return p instanceof Le&&P_(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(I){return new zu(Ia(I.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,Kp(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(f){const p=!!f.before,m=f.values||[];return new Tl(m,p)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const p=!f.before,m=f.values||[];return new Tl(m,p)}(n.endAt)),K5(e,s,o,i,a,"F",l,c)}function EB(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ne(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function BP(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ia(n.unaryFilter.field);return Te.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ia(n.unaryFilter.field);return Te.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ia(n.unaryFilter.field);return Te.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ia(n.unaryFilter.field);return Te.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ne(61313);default:return ne(60726)}}(t):t.fieldFilter!==void 0?function(n){return Te.create(Ia(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ne(58110);default:return ne(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Le.create(n.compositeFilter.filters.map(r=>BP(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ne(1026)}}(n.compositeFilter.op))}(t):ne(30097,{filter:t})}function TB(t){return pB[t]}function IB(t){return mB[t]}function bB(t){return gB[t]}function Ta(t){return{fieldPath:t.canonicalString()}}function Ia(t){return it.fromServerFormat(t.fieldPath)}function $P(t){return t instanceof Te?function(n){if(n.op==="=="){if(UT(n.value))return{unaryFilter:{field:Ta(n.field),op:"IS_NAN"}};if(FT(n.value))return{unaryFilter:{field:Ta(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(UT(n.value))return{unaryFilter:{field:Ta(n.field),op:"IS_NOT_NAN"}};if(FT(n.value))return{unaryFilter:{field:Ta(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ta(n.field),op:IB(n.op),value:n.value}}}(t):t instanceof Le?function(n){const r=n.getFilters().map(s=>$P(s));return r.length===1?r[0]:{compositeFilter:{op:bB(n.op),filters:r}}}(t):ne(54877,{filter:t})}function SB(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function zP(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e,n,r,s,i=oe.min(),o=oe.min(),a=xt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ls(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(e){this.yt=e}}function CB(t,e){let n;if(e.document)n=wB(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Z.fromSegments(e.noDocument.path),s=Uo(e.noDocument.readTime);n=ht.newNoDocument(r,s),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return ne(56709);{const r=Z.fromSegments(e.unknownDocument.path),s=Uo(e.unknownDocument.version);n=ht.newUnknownDocument(r,s)}}return e.readTime&&n.setReadTime(function(s){const i=new Ve(s[0],s[1]);return oe.fromTimestamp(i)}(e.readTime)),n}function rI(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Gf(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(i,o){return{name:Wf(i,o.key),fields:o.data.value.mapValue.fields,updateTime:Al(i,o.version.toTimestamp()),createTime:Al(i,o.createTime.toTimestamp())}}(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Fo(e.version)};else{if(!e.isUnknownDocument())return ne(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:Fo(e.version)}}return r}function Gf(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Fo(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Uo(t){const e=new Ve(t.seconds,t.nanoseconds);return oe.fromTimestamp(e)}function ao(t,e){const n=(e.baseMutations||[]).map(i=>Cv(t.yt,i));for(let i=0;i<e.mutations.length-1;++i){const o=e.mutations[i];if(i+1<e.mutations.length&&e.mutations[i+1].transform!==void 0){const a=e.mutations[i+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(i+1,1),++i}}const r=e.mutations.map(i=>Cv(t.yt,i)),s=Ve.fromMillis(e.localWriteTimeMs);return new D_(e.batchId,s,n,r)}function Dc(t){const e=Uo(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Uo(t.lastLimboFreeSnapshotVersion):oe.min();let r;return r=function(i){return i.documents!==void 0}(t.query)?function(i){const o=i.documents.length;return se(o===1,1966,{count:o}),Yn(Zp(VP(i.documents[0])))}(t.query):function(i){return Yn(UP(i))}(t.query),new ls(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,xt.fromBase64String(t.resumeToken))}function HP(t,e){const n=Fo(e.snapshotVersion),r=Fo(e.lastLimboFreeSnapshotVersion);let s;s=qf(e.target)?jP(t.yt,e.target):FP(t.yt,e.target).ft;const i=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:jo(e.target),readTime:n,resumeToken:i,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function WP(t){const e=UP({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Tv(e,e.limit,"L"):e}function Pg(t,e){return new M_(e.largestBatchId,Cv(t.yt,e.overlayMutation))}function sI(t,e){const n=e.path.lastSegment();return[t,Qt(e.path.popLast()),n]}function iI(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Fo(r.readTime),documentKey:Qt(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AB{getBundleMetadata(e,n){return oI(e).get(n).next(r=>{if(r)return function(i){return{id:i.bundleId,createTime:Uo(i.createTime),version:i.version}}(r)})}saveBundleMetadata(e,n){return oI(e).put(function(s){return{bundleId:s.id,createTime:Fo(ln(s.createTime)),version:s.version}}(n))}getNamedQuery(e,n){return aI(e).get(n).next(r=>{if(r)return function(i){return{name:i.name,query:WP(i.bundledQuery),readTime:Uo(i.readTime)}}(r)})}saveNamedQuery(e,n){return aI(e).put(function(s){return{name:s.name,readTime:Fo(ln(s.readTime)),bundledQuery:s.bundledQuery}}(n))}}function oI(t){return At(t,Gp)}function aI(t){return At(t,Qp)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new sm(e,r)}getOverlay(e,n){return vc(e).get(sI(this.userId,n)).next(r=>r?Pg(this.serializer,r):null)}getOverlays(e,n){const r=jr();return V.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){const s=[];return r.forEach((i,o)=>{const a=new M_(n,o);s.push(this.St(e,a))}),V.waitFor(s)}removeOverlaysForBatchId(e,n,r){const s=new Set;n.forEach(o=>s.add(Qt(o.getCollectionPath())));const i=[];return s.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);i.push(vc(e).Z(mv,a))}),V.waitFor(i)}getOverlaysForCollection(e,n,r){const s=jr(),i=Qt(n),o=IDBKeyRange.bound([this.userId,i,r],[this.userId,i,Number.POSITIVE_INFINITY],!0);return vc(e).J(mv,o).next(a=>{for(const l of a){const c=Pg(this.serializer,l);s.set(c.getKey(),c)}return s})}getOverlaysForCollectionGroup(e,n,r,s){const i=jr();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return vc(e).ee({index:KR,range:a},(l,c,d)=>{const f=Pg(this.serializer,c);i.size()<s||f.largestBatchId===o?(i.set(f.getKey(),f),o=f.largestBatchId):d.done()}).next(()=>i)}St(e,n){return vc(e).put(function(s,i,o){const[a,l,c]=sI(i,o.mutation.key);return{userId:i,collectionPath:l,documentId:c,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Kf(s.yt,o.mutation)}}(this.serializer,this.userId,n))}}function vc(t){return At(t,Yp)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RB{bt(e){return At(e,b_)}getSessionToken(e){return this.bt(e).get("sessionToken").next(n=>{const r=n==null?void 0:n.value;return r?xt.fromUint8Array(r):xt.EMPTY_BYTE_STRING})}setSessionToken(e,n){return this.bt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(Je(e.integerValue));else if("doubleValue"in e){const r=Je(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),Mu(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=xs(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(Es(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?iP(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):Jp(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):ne(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){const r=e.fields||{};this.Ft(n,55);for(const s of Object.keys(r))this.Ot(s,n),this.Ct(r[s],n)}kt(e,n){var o,a;const r=e.fields||{};this.Ft(n,53);const s=xl,i=((a=(o=r[s].arrayValue)==null?void 0:o.values)==null?void 0:a.length)||0;this.Ft(n,15),n.Mt(Je(i)),this.Ot(s,n),this.Ct(r[s],n)}Qt(e,n){const r=e.values||[];this.Ft(n,50);for(const s of r)this.Ct(s,n)}Lt(e,n){this.Ft(n,37),Z.fromName(e).path.forEach(r=>{this.Ft(n,60),this.Ut(r,n)})}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}lo.Kt=new lo;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa=255;function PB(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function lI(t){const e=64-function(r){let s=0;for(let i=0;i<8;++i){const o=PB(255&r[i]);if(s+=o,o!==8)break}return s}(t);return Math.ceil(e/8)}class kB{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Ht()}Yt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const s=n.codePointAt(0);this.Gt(240|s>>>18),this.Gt(128|63&s>>>12),this.Gt(128|63&s>>>6),this.Gt(128|63&s)}}this.zt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const s=n.codePointAt(0);this.Jt(240|s>>>18),this.Jt(128|63&s>>>12),this.Jt(128|63&s>>>6),this.Jt(128|63&s)}}this.Ht()}Xt(e){const n=this.en(e),r=lI(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=255&n[s]}nn(e){const n=this.en(e),r=lI(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let s=n.length-r;s<n.length;++s)this.buffer[this.position++]=~(255&n[s])}rn(){this.sn(fa),this.sn(255)}_n(){this.an(fa),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=function(i){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,i,!1),new Uint8Array(o.buffer)}(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let s=1;s<n.length;++s)n[s]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===fa?(this.sn(fa),this.sn(0)):this.sn(n)}Jt(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===fa?(this.an(fa),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class NB{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class DB{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class wc{constructor(){this.cn=new kB,this.ln=new NB(this.cn),this.hn=new DB(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,n,r,s){this.Tn=e,this.In=n,this.En=r,this.dn=s}An(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.dn,0),n!==e?r.set([0],this.dn.length):++r[r.length-1],new co(this.Tn,this.In,this.En,r)}Rn(e,n,r){return{indexId:this.Tn,uid:e,arrayValue:Kh(this.En),directionalValue:Kh(this.dn),orderedDocumentKey:Kh(n),documentKey:r.path.toArray()}}Vn(e,n,r){const s=this.Rn(e,n,r);return[s.indexId,s.uid,s.arrayValue,s.directionalValue,s.orderedDocumentKey,s.documentKey]}}function Us(t,e){let n=t.Tn-e.Tn;return n!==0?n:(n=cI(t.En,e.En),n!==0?n:(n=cI(t.dn,e.dn),n!==0?n:Z.comparator(t.In,e.In)))}function cI(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function Kh(t){return wR()?function(n){let r="";for(let s=0;s<n.length;s++)r+=String.fromCharCode(n[s]);return r}(t):t}function uI(t){return typeof t!="string"?t:function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(t)}class dI{constructor(e){this.mn=new Fe((n,r)=>it.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const n of e.filters){const r=n;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(se(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const n=hv(e);if(n!==void 0&&!this.wn(n))return!1;const r=so(e);let s=new Set,i=0,o=0;for(;i<r.length&&this.wn(r[i]);++i)s=s.add(r[i].fieldPath.canonicalString());if(i===r.length)return!0;if(this.mn.size>0){const a=this.mn.getIterator().getNext();if(!s.has(a.field.canonicalString())){const l=r[i];if(!this.Sn(a,l)||!this.bn(this.fn[o++],l))return!1}++i}for(;i<r.length;++i){const a=r[i];if(o>=this.fn.length||!this.bn(this.fn[o++],a))return!1}return!0}Dn(){if(this.pn)return null;let e=new Fe(it.comparator);const n=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Fh(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Fh(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Fh(r.field,r.dir==="asc"?0:1)));return new Ff(Ff.UNKNOWN_ID,this.collectionId,n,Ou.empty())}wn(e){for(const n of this.gn)if(this.Sn(n,e))return!0;return!1}Sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}bn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KP(t){var n,r;if(se(t instanceof Te||t instanceof Le,20012),t instanceof Te){if(t instanceof pP){const s=((r=(n=t.value.arrayValue)==null?void 0:n.values)==null?void 0:r.map(i=>Te.create(t.field,"==",i)))||[];return Le.create(s,"or")}return t}const e=t.filters.map(s=>KP(s));return Le.create(e,t.op)}function OB(t){if(t.getFilters().length===0)return[];const e=Pv(KP(t));return se(GP(e),7391),Av(e)||Rv(e)?[e]:e.getFilters()}function Av(t){return t instanceof Te}function Rv(t){return t instanceof Le&&P_(t)}function GP(t){return Av(t)||Rv(t)||function(n){if(n instanceof Le&&wv(n)){for(const r of n.getFilters())if(!Av(r)&&!Rv(r))return!1;return!0}return!1}(t)}function Pv(t){if(se(t instanceof Te||t instanceof Le,34018),t instanceof Te)return t;if(t.filters.length===1)return Pv(t.filters[0]);const e=t.filters.map(r=>Pv(r));let n=Le.create(e,t.op);return n=Qf(n),GP(n)?n:(se(n instanceof Le,64498),se(Il(n),40251),se(n.filters.length>1,57927),n.filters.reduce((r,s)=>j_(r,s)))}function j_(t,e){let n;return se(t instanceof Te||t instanceof Le,38388),se(e instanceof Te||e instanceof Le,25473),n=t instanceof Te?e instanceof Te?function(s,i){return Le.create([s,i],"and")}(t,e):hI(t,e):e instanceof Te?hI(e,t):function(s,i){if(se(s.filters.length>0&&i.filters.length>0,48005),Il(s)&&Il(i))return dP(s,i.getFilters());const o=wv(s)?s:i,a=wv(s)?i:s,l=o.filters.map(c=>j_(c,a));return Le.create(l,"or")}(t,e),Qf(n)}function hI(t,e){if(Il(e))return dP(e,t.getFilters());{const n=e.filters.map(r=>j_(t,r));return Le.create(n,"or")}}function Qf(t){if(se(t instanceof Te||t instanceof Le,11850),t instanceof Te)return t;const e=t.getFilters();if(e.length===1)return Qf(e[0]);if(cP(t))return t;const n=e.map(s=>Qf(s)),r=[];return n.forEach(s=>{s instanceof Te?r.push(s):s instanceof Le&&(s.op===t.op?r.push(...s.filters):r.push(s))}),r.length===1?r[0]:Le.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MB{constructor(){this.Cn=new F_}addToCollectionParentIndex(e,n){return this.Cn.add(n),V.resolve()}getCollectionParents(e,n){return V.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return V.resolve()}deleteFieldIndex(e,n){return V.resolve()}deleteAllFieldIndexes(e){return V.resolve()}createTargetIndexes(e,n){return V.resolve()}getDocumentsMatchingTarget(e,n){return V.resolve(null)}getIndexType(e,n){return V.resolve(0)}getFieldIndexes(e,n){return V.resolve([])}getNextCollectionGroupToUpdate(e){return V.resolve(null)}getMinOffset(e,n){return V.resolve(Ln.min())}getMinOffsetFromCollectionGroup(e,n){return V.resolve(Ln.min())}updateCollectionGroup(e,n,r){return V.resolve()}updateIndexEntries(e,n){return V.resolve()}}class F_{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Fe(Oe.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Fe(Oe.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI="IndexedDbIndexManager",ih=new Uint8Array(0);class VB{constructor(e,n){this.databaseId=n,this.vn=new F_,this.Fn=new Cs(r=>jo(r),(r,s)=>cd(r,s)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const r=n.lastSegment(),s=n.popLast();e.addOnCommittedListener(()=>{this.vn.add(n)});const i={collectionId:r,parent:Qt(s)};return pI(e).put(i)}return V.resolve()}getCollectionParents(e,n){const r=[],s=IDBKeyRange.bound([n,""],[MR(n),""],!1,!0);return pI(e).J(s).next(i=>{for(const o of i){if(o.collectionId!==n)break;r.push(Lr(o.parent))}return r})}addFieldIndex(e,n){const r=_c(e),s=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete s.indexId;const i=r.add(s);if(n.indexState){const o=ma(e);return i.next(a=>{o.put(iI(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return i.next()}deleteFieldIndex(e,n){const r=_c(e),s=ma(e),i=pa(e);return r.delete(n.indexId).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=_c(e),r=pa(e),s=ma(e);return n.Z().next(()=>r.Z()).next(()=>s.Z())}createTargetIndexes(e,n){return V.forEach(this.Mn(n),r=>this.getIndexType(e,r).next(s=>{if(s===0||s===1){const i=new dI(r).Dn();if(i!=null)return this.addFieldIndex(e,i)}}))}getDocumentsMatchingTarget(e,n){const r=pa(e);let s=!0;const i=new Map;return V.forEach(this.Mn(n),o=>this.xn(e,o).next(a=>{s&&(s=!!a),i.set(o,a)})).next(()=>{if(s){let o=ye();const a=[];return V.forEach(i,(l,c)=>{W(fI,`Using index ${function(w){return`id=${w.indexId}|cg=${w.collectionGroup}|f=${w.fields.map(C=>`${C.fieldPath}:${C.kind}`).join(",")}`}(l)} to execute ${jo(n)}`);const d=function(w,C){const D=hv(C);if(D===void 0)return null;for(const M of Hf(w,D.fieldPath))switch(M.op){case"array-contains-any":return M.value.arrayValue.values||[];case"array-contains":return[M.value]}return null}(c,l),f=function(w,C){const D=new Map;for(const M of so(C))for(const b of Hf(w,M.fieldPath))switch(b.op){case"==":case"in":D.set(M.fieldPath.canonicalString(),b.value);break;case"not-in":case"!=":return D.set(M.fieldPath.canonicalString(),b.value),Array.from(D.values())}return null}(c,l),p=function(w,C){const D=[];let M=!0;for(const b of so(C)){const S=b.kind===0?HT(w,b.fieldPath,w.startAt):WT(w,b.fieldPath,w.startAt);D.push(S.value),M&&(M=S.inclusive)}return new Tl(D,M)}(c,l),m=function(w,C){const D=[];let M=!0;for(const b of so(C)){const S=b.kind===0?WT(w,b.fieldPath,w.endAt):HT(w,b.fieldPath,w.endAt);D.push(S.value),M&&(M=S.inclusive)}return new Tl(D,M)}(c,l),I=this.On(l,c,p),y=this.On(l,c,m),T=this.Nn(l,c,f),x=this.Bn(l.indexId,d,I,p.inclusive,y,m.inclusive,T);return V.forEach(x,v=>r.Y(v,n.limit).next(w=>{w.forEach(C=>{const D=Z.fromSegments(C.documentKey);o.has(D)||(o=o.add(D),a.push(D))})}))}).next(()=>a)}return V.resolve(null)})}Mn(e){let n=this.Fn.get(e);return n||(e.filters.length===0?n=[e]:n=OB(Le.create(e.filters,"and")).map(r=>xv(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Fn.set(e,n),n)}Bn(e,n,r,s,i,o,a){const l=(n!=null?n.length:1)*Math.max(r.length,i.length),c=l/(n!=null?n.length:1),d=[];for(let f=0;f<l;++f){const p=n?this.Ln(n[f/c]):ih,m=this.kn(e,p,r[f%c],s),I=this.qn(e,p,i[f%c],o),y=a.map(T=>this.kn(e,p,T,!0));d.push(...this.createRange(m,I,y))}return d}kn(e,n,r,s){const i=new co(e,Z.empty(),n,r);return s?i:i.An()}qn(e,n,r,s){const i=new co(e,Z.empty(),n,r);return s?i.An():i}xn(e,n){const r=new dI(n),s=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,s).next(i=>{let o=null;for(const a of i)r.yn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const s=this.Mn(n);return V.forEach(s,i=>this.xn(e,i).next(o=>{o?r!==0&&o.fields.length<function(l){let c=new Fe(it.comparator),d=!1;for(const f of l.filters)for(const p of f.getFlattenedFilters())p.field.isKeyField()||(p.op==="array-contains"||p.op==="array-contains-any"?d=!0:c=c.add(p.field));for(const f of l.orderBy)f.field.isKeyField()||(c=c.add(f.field));return c.size+(d?1:0)}(i)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&s.length>1&&r===2?1:r)}Qn(e,n){const r=new wc;for(const s of so(e)){const i=n.data.field(s.fieldPath);if(i==null)return null;const o=r.Pn(s.kind);lo.Kt.Dt(i,o)}return r.un()}Ln(e){const n=new wc;return lo.Kt.Dt(e,n.Pn(0)),n.un()}$n(e,n){const r=new wc;return lo.Kt.Dt(Bu(this.databaseId,n),r.Pn(function(i){const o=so(i);return o.length===0?0:o[o.length-1].kind}(e))),r.un()}Nn(e,n,r){if(r===null)return[];let s=[];s.push(new wc);let i=0;for(const o of so(e)){const a=r[i++];for(const l of s)if(this.Un(n,o.fieldPath)&&$u(a))s=this.Kn(s,o,a);else{const c=l.Pn(o.kind);lo.Kt.Dt(a,c)}}return this.Wn(s)}On(e,n,r){return this.Nn(e,n,r.position)}Wn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Kn(e,n,r){const s=[...e],i=[];for(const o of r.arrayValue.values||[])for(const a of s){const l=new wc;l.seed(a.un()),lo.Kt.Dt(o,l.Pn(n.kind)),i.push(l)}return i}Un(e,n){return!!e.filters.find(r=>r instanceof Te&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=_c(e),s=ma(e);return(n?r.J(pv,IDBKeyRange.bound(n,n)):r.J()).next(i=>{const o=[];return V.forEach(i,a=>s.get([a.indexId,this.uid]).next(l=>{o.push(function(d,f){const p=f?new Ou(f.sequenceNumber,new Ln(Uo(f.readTime),new Z(Lr(f.documentKey)),f.largestBatchId)):Ou.empty(),m=d.fields.map(([I,y])=>new Fh(it.fromServerFormat(I),y));return new Ff(d.indexId,d.collectionGroup,m,p)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,s)=>{const i=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return i!==0?i:he(r.collectionGroup,s.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const s=_c(e),i=ma(e);return this.Gn(e).next(o=>s.J(pv,IDBKeyRange.bound(n,n)).next(a=>V.forEach(a,l=>i.put(iI(l.indexId,this.uid,o,r)))))}updateIndexEntries(e,n){const r=new Map;return V.forEach(n,(s,i)=>{const o=r.get(s.collectionGroup);return(o?V.resolve(o):this.getFieldIndexes(e,s.collectionGroup)).next(a=>(r.set(s.collectionGroup,a),V.forEach(a,l=>this.zn(e,s,l).next(c=>{const d=this.jn(i,l);return c.isEqual(d)?V.resolve():this.Jn(e,i,l,c,d)}))))})}Hn(e,n,r,s){return pa(e).put(s.Rn(this.uid,this.$n(r,n.key),n.key))}Yn(e,n,r,s){return pa(e).delete(s.Vn(this.uid,this.$n(r,n.key),n.key))}zn(e,n,r){const s=pa(e);let i=new Fe(Us);return s.ee({index:WR,range:IDBKeyRange.only([r.indexId,this.uid,Kh(this.$n(r,n))])},(o,a)=>{i=i.add(new co(r.indexId,n,uI(a.arrayValue),uI(a.directionalValue)))}).next(()=>i)}jn(e,n){let r=new Fe(Us);const s=this.Qn(n,e);if(s==null)return r;const i=hv(n);if(i!=null){const o=e.data.field(i.fieldPath);if($u(o))for(const a of o.arrayValue.values||[])r=r.add(new co(n.indexId,e.key,this.Ln(a),s))}else r=r.add(new co(n.indexId,e.key,ih,s));return r}Jn(e,n,r,s,i){W(fI,"Updating index entries for document '%s'",n.key);const o=[];return function(l,c,d,f,p){const m=l.getIterator(),I=c.getIterator();let y=ha(m),T=ha(I);for(;y||T;){let x=!1,v=!1;if(y&&T){const w=d(y,T);w<0?v=!0:w>0&&(x=!0)}else y!=null?v=!0:x=!0;x?(f(T),T=ha(I)):v?(p(y),y=ha(m)):(y=ha(m),T=ha(I))}}(s,i,Us,a=>{o.push(this.Hn(e,n,r,a))},a=>{o.push(this.Yn(e,n,r,a))}),V.waitFor(o)}Gn(e){let n=1;return ma(e).ee({index:HR,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,s,i)=>{i.done(),n=s.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>Us(o,a)).filter((o,a,l)=>!a||Us(o,l[a-1])!==0);const s=[];s.push(e);for(const o of r){const a=Us(o,e),l=Us(o,n);if(a===0)s[0]=e.An();else if(a>0&&l<0)s.push(o),s.push(o.An());else if(l>0)break}s.push(n);const i=[];for(let o=0;o<s.length;o+=2){if(this.Zn(s[o],s[o+1]))return[];const a=s[o].Vn(this.uid,ih,Z.empty()),l=s[o+1].Vn(this.uid,ih,Z.empty());i.push(IDBKeyRange.bound(a,l))}return i}Zn(e,n){return Us(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(mI)}getMinOffset(e,n){return V.mapArray(this.Mn(n),r=>this.xn(e,r).next(s=>s||ne(44426))).next(mI)}}function pI(t){return At(t,ju)}function pa(t){return At(t,eu)}function _c(t){return At(t,I_)}function ma(t){return At(t,Zc)}function mI(t){se(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const s=t[r].indexState.offset;x_(s,e)<0&&(e=s),n<s.largestBatchId&&(n=s.largestBatchId)}return new Ln(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},QP=41943040;class Wt{static withCacheSize(e){return new Wt(e,Wt.DEFAULT_COLLECTION_PERCENTILE,Wt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YP(t,e,n){const r=t.store(dr),s=t.store(yl),i=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.ee({range:o},(d,f,p)=>(a++,p.delete()));i.push(l.next(()=>{se(a===1,47070,{batchId:n.batchId})}));const c=[];for(const d of n.mutations){const f=$R(e,d.key.path,n.batchId);i.push(s.delete(f)),c.push(d.key)}return V.waitFor(i).next(()=>c)}function Yf(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ne(14731);e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wt.DEFAULT_COLLECTION_PERCENTILE=10,Wt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wt.DEFAULT=new Wt(QP,Wt.DEFAULT_COLLECTION_PERCENTILE,Wt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wt.DISABLED=new Wt(-1,0,0);class im{constructor(e,n,r,s){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=s,this.Xn={}}static wt(e,n,r,s){se(e.uid!=="",64387);const i=e.isAuthenticated()?e.uid:"";return new im(i,n,r,s)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Bs(e).ee({index:po,range:r},(s,i,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,s){const i=ba(e),o=Bs(e);return o.add({}).next(a=>{se(typeof a=="number",49019);const l=new D_(a,n,r,s),c=function(m,I,y){const T=y.baseMutations.map(v=>Kf(m.yt,v)),x=y.mutations.map(v=>Kf(m.yt,v));return{userId:I,batchId:y.batchId,localWriteTimeMs:y.localWriteTime.toMillis(),baseMutations:T,mutations:x}}(this.serializer,this.userId,l),d=[];let f=new Fe((p,m)=>he(p.canonicalString(),m.canonicalString()));for(const p of s){const m=$R(this.userId,p.key.path,a);f=f.add(p.key.path.popLast()),d.push(o.put(c)),d.push(i.put(m,d5))}return f.forEach(p=>{d.push(this.indexManager.addToCollectionParentIndex(e,p))}),e.addOnCommittedListener(()=>{this.Xn[a]=l.keys()}),V.waitFor(d).next(()=>l)})}lookupMutationBatch(e,n){return Bs(e).get(n).next(r=>r?(se(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),ao(this.serializer,r)):null)}er(e,n){return this.Xn[n]?V.resolve(this.Xn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const s=r.keys();return this.Xn[n]=s,s}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=IDBKeyRange.lowerBound([this.userId,r]);let i=null;return Bs(e).ee({index:po,range:s},(o,a,l)=>{a.userId===this.userId&&(se(a.batchId>=r,47524,{tr:r}),i=ao(this.serializer,a)),l.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Io;return Bs(e).ee({index:po,range:n,reverse:!0},(s,i,o)=>{r=i.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,Io],[this.userId,Number.POSITIVE_INFINITY]);return Bs(e).J(po,n).next(r=>r.map(s=>ao(this.serializer,s)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Uh(this.userId,n.path),s=IDBKeyRange.lowerBound(r),i=[];return ba(e).ee({range:s},(o,a,l)=>{const[c,d,f]=o,p=Lr(d);if(c===this.userId&&n.path.isEqual(p))return Bs(e).get(f).next(m=>{if(!m)throw ne(61480,{nr:o,batchId:f});se(m.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:m.userId,batchId:f}),i.push(ao(this.serializer,m))});l.done()}).next(()=>i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Fe(he);const s=[];return n.forEach(i=>{const o=Uh(this.userId,i.path),a=IDBKeyRange.lowerBound(o),l=ba(e).ee({range:a},(c,d,f)=>{const[p,m,I]=c,y=Lr(m);p===this.userId&&i.path.isEqual(y)?r=r.add(I):f.done()});s.push(l)}),V.waitFor(s).next(()=>this.rr(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1,i=Uh(this.userId,r),o=IDBKeyRange.lowerBound(i);let a=new Fe(he);return ba(e).ee({range:o},(l,c,d)=>{const[f,p,m]=l,I=Lr(p);f===this.userId&&r.isPrefixOf(I)?I.length===s&&(a=a.add(m)):d.done()}).next(()=>this.rr(e,a))}rr(e,n){const r=[],s=[];return n.forEach(i=>{s.push(Bs(e).get(i).next(o=>{if(o===null)throw ne(35274,{batchId:i});se(o.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:o.userId,batchId:i}),r.push(ao(this.serializer,o))}))}),V.waitFor(s).next(()=>r)}removeMutationBatch(e,n){return YP(e.le,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.ir(n.batchId)}),V.forEach(r,s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return V.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),s=[];return ba(e).ee({range:r},(i,o,a)=>{if(i[0]===this.userId){const l=Lr(i[1]);s.push(l)}else a.done()}).next(()=>{se(s.length===0,56720,{sr:s.map(i=>i.canonicalString())})})})}containsKey(e,n){return XP(e,this.userId,n)}_r(e){return JP(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:Io,lastStreamToken:""})}}function XP(t,e,n){const r=Uh(e,n.path),s=r[1],i=IDBKeyRange.lowerBound(r);let o=!1;return ba(t).ee({range:i,X:!0},(a,l,c)=>{const[d,f,p]=a;d===e&&f===s&&(o=!0),c.done()}).next(()=>o)}function Bs(t){return At(t,dr)}function ba(t){return At(t,yl)}function JP(t){return At(t,Vu)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Bo(0)}static cr(){return new Bo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LB{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.lr(e).next(n=>{const r=new Bo(n.highestTargetId);return n.highestTargetId=r.next(),this.hr(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.lr(e).next(n=>oe.fromTimestamp(new Ve(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.lr(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.lr(e).next(s=>(s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),this.hr(e,s)))}addTargetData(e,n){return this.Pr(e,n).next(()=>this.lr(e).next(r=>(r.targetCount+=1,this.Tr(n,r),this.hr(e,r))))}updateTargetData(e,n){return this.Pr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>ga(e).delete(n.targetId)).next(()=>this.lr(e)).next(r=>(se(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r)))}removeTargets(e,n,r){let s=0;const i=[];return ga(e).ee((o,a)=>{const l=Dc(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(s++,i.push(this.removeTargetData(e,l)))}).next(()=>V.waitFor(i)).next(()=>s)}forEachTarget(e,n){return ga(e).ee((r,s)=>{const i=Dc(s);n(i)})}lr(e){return yI(e).get($f).next(n=>(se(n!==null,2888),n))}hr(e,n){return yI(e).put($f,n)}Pr(e,n){return ga(e).put(HP(this.serializer,n))}Tr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next(n=>n.targetCount)}getTargetData(e,n){const r=jo(n),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let i=null;return ga(e).ee({range:s,index:qR},(o,a,l)=>{const c=Dc(a);cd(n,c.target)&&(i=c,l.done())}).next(()=>i)}addMatchingKeys(e,n,r){const s=[],i=Xs(e);return n.forEach(o=>{const a=Qt(o.path);s.push(i.put({targetId:r,path:a})),s.push(this.referenceDelegate.addReference(e,r,o))}),V.waitFor(s)}removeMatchingKeys(e,n,r){const s=Xs(e);return V.forEach(n,i=>{const o=Qt(i.path);return V.waitFor([s.delete([r,o]),this.referenceDelegate.removeReference(e,r,i)])})}removeMatchingKeysForTargetId(e,n){const r=Xs(e),s=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),s=Xs(e);let i=ye();return s.ee({range:r,X:!0},(o,a,l)=>{const c=Lr(o[1]),d=new Z(c);i=i.add(d)}).next(()=>i)}containsKey(e,n){const r=Qt(n.path),s=IDBKeyRange.bound([r],[MR(r)],!1,!0);let i=0;return Xs(e).ee({index:T_,X:!0,range:s},([o,a],l,c)=>{o!==0&&(i++,c.done())}).next(()=>i>0)}At(e,n){return ga(e).get(n).next(r=>r?Dc(r):null)}}function ga(t){return At(t,vl)}function yI(t){return At(t,bo)}function Xs(t){return At(t,wl)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI="LruGarbageCollector",jB=1048576;function wI([t,e],[n,r]){const s=he(t,n);return s===0?he(e,r):s}class FB{constructor(e){this.Ir=e,this.buffer=new Fe(wI),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();wI(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class ZP{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){W(vI,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){zi(n)?W(vI,"Ignoring IndexedDB error during garbage collection: ",n):await ta(n)}await this.Vr(3e5)})}}class UB{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return V.resolve(Gn.ce);const r=new FB(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(W("LruGarbageCollector","Garbage collection skipped; disabled"),V.resolve(gI)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(W("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gI):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,l,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(W("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),xa()<=Ee.DEBUG&&W("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),V.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function ek(t,e){return new UB(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BB{constructor(e,n){this.db=e,this.garbageCollector=ek(this,n)}gr(e){const n=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}pr(e,n){return this.Sr(e,(r,s)=>n(s))}addReference(e,n,r){return oh(e,r)}removeReference(e,n,r){return oh(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return oh(e,n)}br(e,n){return function(s,i){let o=!1;return JP(s).te(a=>XP(s,a,i).next(l=>(l&&(o=!0),V.resolve(!l)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let i=0;return this.Sr(e,(o,a)=>{if(a<=n){const l=this.br(e,o).next(c=>{if(!c)return i++,r.getEntry(e,o).next(()=>(r.removeEntry(o,oe.min()),Xs(e).delete(function(f){return[0,Qt(f.path)]}(o))))});s.push(l)}}).next(()=>V.waitFor(s)).next(()=>r.apply(e)).next(()=>i)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return oh(e,n)}Sr(e,n){const r=Xs(e);let s,i=Gn.ce;return r.ee({index:T_},([o,a],{path:l,sequenceNumber:c})=>{o===0?(i!==Gn.ce&&n(new Z(Lr(s)),i),i=c,s=l):i=Gn.ce}).next(()=>{i!==Gn.ce&&n(new Z(Lr(s)),i)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function oh(t,e){return Xs(t).put(function(r,s){return{targetId:0,path:Qt(r.path),sequenceNumber:s}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(){this.changes=new Cs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ht.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?V.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $B{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return eo(e).put(r)}removeEntry(e,n,r){return eo(e).delete(function(i,o){const a=i.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],Gf(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.Dr(e,r)))}getEntry(e,n){let r=ht.newInvalidDocument(n);return eo(e).ee({index:Bh,range:IDBKeyRange.only(xc(n))},(s,i)=>{r=this.Cr(n,i)}).next(()=>r)}vr(e,n){let r={size:0,document:ht.newInvalidDocument(n)};return eo(e).ee({index:Bh,range:IDBKeyRange.only(xc(n))},(s,i)=>{r={document:this.Cr(n,i),size:Yf(i)}}).next(()=>r)}getEntries(e,n){let r=kn();return this.Fr(e,n,(s,i)=>{const o=this.Cr(s,i);r=r.insert(s,o)}).next(()=>r)}Mr(e,n){let r=kn(),s=new tt(Z.comparator);return this.Fr(e,n,(i,o)=>{const a=this.Cr(i,o);r=r.insert(i,a),s=s.insert(i,Yf(o))}).next(()=>({documents:r,Or:s}))}Fr(e,n,r){if(n.isEmpty())return V.resolve();let s=new Fe(EI);n.forEach(l=>s=s.add(l));const i=IDBKeyRange.bound(xc(s.first()),xc(s.last())),o=s.getIterator();let a=o.getNext();return eo(e).ee({index:Bh,range:i},(l,c,d)=>{const f=Z.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&EI(a,f)<0;)r(a,null),a=o.getNext();a&&a.isEqual(f)&&(r(a,c),a=o.hasNext()?o.getNext():null),a?d.j(xc(a)):d.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,s,i){const o=n.path,a=[o.popLast().toArray(),o.lastSegment(),Gf(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return eo(e).J(IDBKeyRange.bound(a,l,!0)).next(c=>{i==null||i.incrementDocumentReadCount(c.length);let d=kn();for(const f of c){const p=this.Cr(Z.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);p.isFoundDocument()&&(ud(n,p)||s.has(p.key))&&(d=d.insert(p.key,p))}return d})}getAllFromCollectionGroup(e,n,r,s){let i=kn();const o=xI(n,r),a=xI(n,Ln.max());return eo(e).ee({index:zR,range:IDBKeyRange.bound(o,a,!0)},(l,c,d)=>{const f=this.Cr(Z.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);i=i.insert(f.key,f),i.size===s&&d.done()}).next(()=>i)}newChangeBuffer(e){return new zB(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return _I(e).get(fv).next(n=>(se(!!n,20021),n))}Dr(e,n){return _I(e).put(fv,n)}Cr(e,n){if(n){const r=CB(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(oe.min())))return r}return ht.newInvalidDocument(e)}}function nk(t){return new $B(t)}class zB extends tk{constructor(e,n){super(),this.Nr=e,this.trackRemovals=n,this.Br=new Cs(r=>r.toString(),(r,s)=>r.isEqual(s))}applyChanges(e){const n=[];let r=0,s=new Fe((i,o)=>he(i.canonicalString(),o.canonicalString()));return this.changes.forEach((i,o)=>{const a=this.Br.get(i);if(n.push(this.Nr.removeEntry(e,i,a.readTime)),o.isValidDocument()){const l=rI(this.Nr.serializer,o);s=s.add(i.path.popLast());const c=Yf(l);r+=c-a.size,n.push(this.Nr.addEntry(e,i,l))}else if(r-=a.size,this.trackRemovals){const l=rI(this.Nr.serializer,o.convertToNoDocument(oe.min()));n.push(this.Nr.addEntry(e,i,l))}}),s.forEach(i=>{n.push(this.Nr.indexManager.addToCollectionParentIndex(e,i))}),n.push(this.Nr.updateMetadata(e,r)),V.waitFor(n)}getFromCache(e,n){return this.Nr.vr(e,n).next(r=>(this.Br.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.Nr.Mr(e,n).next(({documents:r,Or:s})=>(s.forEach((i,o)=>{this.Br.set(i,{size:o,readTime:r.get(i).readTime})}),r))}}function _I(t){return At(t,Lu)}function eo(t){return At(t,Bf)}function xc(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function xI(t,e){const n=e.documentKey.path.toArray();return[t,Gf(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function EI(t,e){const n=t.path.toArray(),r=e.path.toArray();let s=0;for(let i=0;i<n.length-2&&i<r.length-2;++i)if(s=he(n[i],r[i]),s)return s;return s=he(n.length,r.length),s||(s=he(n[n.length-2],r[r.length-2]),s||he(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qB{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&su(r.mutation,s,yn.empty(),Ve.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ye()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ye()){const s=jr();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=kc();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=jr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ye()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=kn();const o=ru(),a=function(){return ru()}();return n.forEach((l,c)=>{const d=r.get(c.key);s.has(c.key)&&(d===void 0||d.mutation instanceof As)?i=i.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),su(d.mutation,c,d.mutation.getFieldMask(),Ve.now())):o.set(c.key,yn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>a.set(c,new qB(d,o.get(c)??null))),a))}recalculateAndSaveOverlays(e,n){const r=ru();let s=new tt((o,a)=>o-a),i=ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||yn.empty();d=a.applyToLocalView(c,d),r.set(l,d);const f=(s.get(a.batchId)||ye()).add(l);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,f=_P();d.forEach(p=>{if(!i.has(p)){const m=CP(n.get(p),r.get(p));m!==null&&f.set(p,m),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return V.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return Z.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):mP(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):V.resolve(jr());let a=Du,l=i;return o.next(c=>V.forEach(c,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(d)?V.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,ye())).next(d=>({batchId:a,changes:wP(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Z(n)).next(r=>{let s=kc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=kc();return this.indexManager.getCollectionParents(e,i).next(a=>V.forEach(a,l=>{const c=function(f,p){return new Bl(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(d=>{d.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,ht.newInvalidDocument(d)))});let a=kc();return o.forEach((l,c)=>{const d=i.get(l);d!==void 0&&su(d.mutation,c,yn.empty(),Ve.now()),ud(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HB{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return V.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:ln(s.createTime)}}(n)),V.resolve()}getNamedQuery(e,n){return V.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:WP(s.bundledQuery),readTime:ln(s.readTime)}}(n)),V.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WB{constructor(){this.overlays=new tt(Z.comparator),this.qr=new Map}getOverlay(e,n){return V.resolve(this.overlays.get(n))}getOverlays(e,n){const r=jr();return V.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),V.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),V.resolve()}getOverlaysForCollection(e,n,r){const s=jr(),i=n.length+1,o=new Z(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return V.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new tt((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=i.get(c.largestBatchId);d===null&&(d=jr(),i=i.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=jr(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=s)););return V.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new M_(n,r));let i=this.qr.get(n);i===void 0&&(i=ye(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KB{constructor(){this.sessionToken=xt.EMPTY_BYTE_STRING}getSessionToken(e){return V.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,V.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(){this.Qr=new Fe(Nt.$r),this.Ur=new Fe(Nt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Nt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Nt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new Z(new Oe([])),r=new Nt(n,e),s=new Nt(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Z(new Oe([])),r=new Nt(n,e),s=new Nt(n,e+1);let i=ye();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Nt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Nt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Z.comparator(e.key,n.key)||he(e.Yr,n.Yr)}static Kr(e,n){return he(e.Yr,n.Yr)||Z.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GB{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Fe(Nt.$r)}checkEmpty(e){return V.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new D_(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new Nt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return V.resolve(o)}lookupMutationBatch(e,n){return V.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return V.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return V.resolve(this.mutationQueue.length===0?Io:this.tr-1)}getAllMutationBatches(e){return V.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Nt(n,0),s=new Nt(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const a=this.Xr(o.Yr);i.push(a)}),V.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Fe(he);return n.forEach(s=>{const i=new Nt(s,0),o=new Nt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],a=>{r=r.add(a.Yr)})}),V.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;Z.isDocumentKey(i)||(i=i.child(""));const o=new Nt(new Z(i),0);let a=new Fe(he);return this.Zr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.Yr)),!0)},o),V.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){se(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return V.forEach(n.mutations,s=>{const i=new Nt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Nt(n,0),s=this.Zr.firstAfterOrEqual(r);return V.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,V.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QB{constructor(e){this.ri=e,this.docs=function(){return new tt(Z.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return V.resolve(r?r.document.mutableCopy():ht.newInvalidDocument(n))}getEntries(e,n){let r=kn();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():ht.newInvalidDocument(s))}),V.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=kn();const o=n.path,a=new Z(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||x_(jR(d),r)<=0||(s.has(d.key)||ud(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return V.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ne(9500)}ii(e,n){return V.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new YB(this)}getSize(e){return V.resolve(this.size)}}class YB extends tk{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),V.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XB{constructor(e){this.persistence=e,this.si=new Cs(n=>jo(n),cd),this.lastRemoteSnapshotVersion=oe.min(),this.highestTargetId=0,this.oi=0,this._i=new U_,this.targetCount=0,this.ai=Bo.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),V.resolve()}getLastRemoteSnapshotVersion(e){return V.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return V.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),V.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),V.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Bo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,V.resolve()}updateTargetData(e,n){return this.Pr(n),V.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,V.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),V.waitFor(i).next(()=>s)}getTargetCount(e){return V.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return V.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),V.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),V.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),V.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return V.resolve(r)}containsKey(e,n){return V.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{constructor(e,n){this.ui={},this.overlays={},this.ci=new Gn(0),this.li=!1,this.li=!0,this.hi=new KB,this.referenceDelegate=e(this),this.Pi=new XB(this),this.indexManager=new MB,this.remoteDocumentCache=function(s){return new QB(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new qP(n),this.Ii=new HB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new WB,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new GB(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){W("MemoryPersistence","Starting transaction:",e);const s=new JB(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return V.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class JB extends UR{constructor(e){super(),this.currentSequenceNumber=e}}class om{constructor(e){this.persistence=e,this.Ri=new U_,this.Vi=null}static mi(e){return new om(e)}get fi(){if(this.Vi)return this.Vi;throw ne(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),V.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),V.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),V.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.fi,r=>{const s=Z.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,oe.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return V.or([()=>V.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Xf{constructor(e,n){this.persistence=e,this.pi=new Cs(r=>Qt(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=ek(this,n)}static mi(e,n){return new Xf(e,n)}Ei(){}di(e){return V.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return V.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?V.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,i.removeEntry(o,oe.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),V.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),V.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),V.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),V.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=zh(e.data.value)),n}br(e,n,r){return V.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return V.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZB{constructor(e){this.serializer=e}k(e,n,r,s){const i=new Wp("createOrUpgrade",n);r<1&&s>=1&&(function(l){l.createObjectStore(ld)}(e),function(l){l.createObjectStore(Vu,{keyPath:u5}),l.createObjectStore(dr,{keyPath:DT,autoIncrement:!0}).createIndex(po,OT,{unique:!0}),l.createObjectStore(yl)}(e),TI(e),function(l){l.createObjectStore(io)}(e));let o=V.resolve();return r<3&&s>=3&&(r!==0&&(function(l){l.deleteObjectStore(wl),l.deleteObjectStore(vl),l.deleteObjectStore(bo)}(e),TI(e)),o=o.next(()=>function(l){const c=l.store(bo),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:oe.min().toTimestamp(),targetCount:0};return c.put($f,d)}(i))),r<4&&s>=4&&(r!==0&&(o=o.next(()=>function(l,c){return c.store(dr).J().next(f=>{l.deleteObjectStore(dr),l.createObjectStore(dr,{keyPath:DT,autoIncrement:!0}).createIndex(po,OT,{unique:!0});const p=c.store(dr),m=f.map(I=>p.put(I));return V.waitFor(m)})}(e,i))),o=o.next(()=>{(function(l){l.createObjectStore(_l,{keyPath:w5})})(e)})),r<5&&s>=5&&(o=o.next(()=>this.yi(i))),r<6&&s>=6&&(o=o.next(()=>(function(l){l.createObjectStore(Lu)}(e),this.wi(i)))),r<7&&s>=7&&(o=o.next(()=>this.Si(i))),r<8&&s>=8&&(o=o.next(()=>this.bi(e,i))),r<9&&s>=9&&(o=o.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&s>=10&&(o=o.next(()=>this.Di(i))),r<11&&s>=11&&(o=o.next(()=>{(function(l){l.createObjectStore(Gp,{keyPath:_5})})(e),function(l){l.createObjectStore(Qp,{keyPath:x5})}(e)})),r<12&&s>=12&&(o=o.next(()=>{(function(l){const c=l.createObjectStore(Yp,{keyPath:A5});c.createIndex(mv,R5,{unique:!1}),c.createIndex(KR,P5,{unique:!1})})(e)})),r<13&&s>=13&&(o=o.next(()=>function(l){const c=l.createObjectStore(Bf,{keyPath:h5});c.createIndex(Bh,f5),c.createIndex(zR,p5)}(e)).next(()=>this.Ci(e,i)).next(()=>e.deleteObjectStore(io))),r<14&&s>=14&&(o=o.next(()=>this.Fi(e,i))),r<15&&s>=15&&(o=o.next(()=>function(l){l.createObjectStore(I_,{keyPath:E5,autoIncrement:!0}).createIndex(pv,T5,{unique:!1}),l.createObjectStore(Zc,{keyPath:I5}).createIndex(HR,b5,{unique:!1}),l.createObjectStore(eu,{keyPath:S5}).createIndex(WR,C5,{unique:!1})}(e))),r<16&&s>=16&&(o=o.next(()=>{n.objectStore(Zc).clear()}).next(()=>{n.objectStore(eu).clear()})),r<17&&s>=17&&(o=o.next(()=>{(function(l){l.createObjectStore(b_,{keyPath:k5})})(e)})),r<18&&s>=18&&wR()&&(o=o.next(()=>{n.objectStore(Zc).clear()}).next(()=>{n.objectStore(eu).clear()})),o}wi(e){let n=0;return e.store(io).ee((r,s)=>{n+=Yf(s)}).next(()=>{const r={byteSize:n};return e.store(Lu).put(fv,r)})}yi(e){const n=e.store(Vu),r=e.store(dr);return n.J().next(s=>V.forEach(s,i=>{const o=IDBKeyRange.bound([i.userId,Io],[i.userId,i.lastAcknowledgedBatchId]);return r.J(po,o).next(a=>V.forEach(a,l=>{se(l.userId===i.userId,18650,"Cannot process batch from unexpected user",{batchId:l.batchId});const c=ao(this.serializer,l);return YP(e,i.userId,c).next(()=>{})}))}))}Si(e){const n=e.store(wl),r=e.store(io);return e.store(bo).get($f).next(s=>{const i=[];return r.ee((o,a)=>{const l=new Oe(o),c=function(f){return[0,Qt(f)]}(l);i.push(n.get(c).next(d=>d?V.resolve():(f=>n.put({targetId:0,path:Qt(f),sequenceNumber:s.highestListenSequenceNumber}))(l)))}).next(()=>V.waitFor(i))})}bi(e,n){e.createObjectStore(ju,{keyPath:v5});const r=n.store(ju),s=new F_,i=o=>{if(s.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:Qt(l)})}};return n.store(io).ee({X:!0},(o,a)=>{const l=new Oe(o);return i(l.popLast())}).next(()=>n.store(yl).ee({X:!0},([o,a,l],c)=>{const d=Lr(a);return i(d.popLast())}))}Di(e){const n=e.store(vl);return n.ee((r,s)=>{const i=Dc(s),o=HP(this.serializer,i);return n.put(o)})}Ci(e,n){const r=n.store(io),s=[];return r.ee((i,o)=>{const a=n.store(Bf),l=function(f){return f.document?new Z(Oe.fromString(f.document.name).popFirst(5)):f.noDocument?Z.fromSegments(f.noDocument.path):f.unknownDocument?Z.fromSegments(f.unknownDocument.path):ne(36783)}(o).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};s.push(a.put(c))}).next(()=>V.waitFor(s))}Fi(e,n){const r=n.store(dr),s=nk(this.serializer),i=new B_(om.mi,this.serializer.yt);return r.J().next(o=>{const a=new Map;return o.forEach(l=>{let c=a.get(l.userId)??ye();ao(this.serializer,l).keys().forEach(d=>c=c.add(d)),a.set(l.userId,c)}),V.forEach(a,(l,c)=>{const d=new Vt(c),f=sm.wt(this.serializer,d),p=i.getIndexManager(d),m=im.wt(d,this.serializer,p,i.referenceDelegate);return new rk(s,m,f,p).recalculateAndSaveOverlaysForDocumentKeys(new gv(n,Gn.ce),l).next()})})}}function TI(t){t.createObjectStore(wl,{keyPath:g5}).createIndex(T_,y5,{unique:!0}),t.createObjectStore(vl,{keyPath:"targetId"}).createIndex(qR,m5,{unique:!0}),t.createObjectStore(bo)}const $s="IndexedDbPersistence",kg=18e5,Ng=5e3,Dg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",e$="main";class $_{constructor(e,n,r,s,i,o,a,l,c,d,f=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Mi=i,this.window=o,this.document=a,this.xi=c,this.Oi=d,this.Ni=f,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=p=>Promise.resolve(),!$_.v())throw new Y(B.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new BB(this,s),this.$i=n+e$,this.serializer=new qP(l),this.Ui=new bi(this.$i,this.Ni,new ZB(this.serializer)),this.hi=new RB,this.Pi=new LB(this.referenceDelegate,this.serializer),this.remoteDocumentCache=nk(this.serializer),this.Ii=new AB,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,d===!1&&sn($s,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Y(B.FAILED_PRECONDITION,Dg);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Pi.getHighestSequenceNumber(e))}).then(e=>{this.ci=new Gn(e,this.xi)}).then(()=>{this.li=!0}).catch(e=>(this.Ui&&this.Ui.close(),Promise.reject(e)))}Ji(e){return this.Qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget(async()=>{this.started&&await this.Wi()}))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>ah(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Hi(e).next(n=>{n||(this.isPrimary=!1,this.Mi.enqueueRetryable(()=>this.Qi(!1)))})}).next(()=>this.Yi(e)).next(n=>this.isPrimary&&!n?this.Zi(e).next(()=>!1):!!n&&this.Xi(e).next(()=>!0))).catch(e=>{if(zi(e))return W($s,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return W($s,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable(()=>this.Qi(e)),this.isPrimary=e})}Hi(e){return Ec(e).get(da).next(n=>V.resolve(this.es(n)))}ts(e){return ah(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,kg)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=At(n,_l);return r.J().next(s=>{const i=this.ss(s,kg),o=s.filter(a=>i.indexOf(a)===-1);return V.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.Ki)for(const n of e)this.Ki.removeItem(this._s(n.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Wi().then(()=>this.ns()).then(()=>this.ji()))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?V.resolve(!0):Ec(e).get(da).next(n=>{if(n!==null&&this.rs(n.leaseTimestampMs,Ng)&&!this.us(n.ownerId)){if(this.es(n)&&this.networkEnabled)return!0;if(!this.es(n)){if(!n.allowTabSynchronization)throw new Y(B.FAILED_PRECONDITION,Dg);return!1}}return!(!this.networkEnabled||!this.inForeground)||ah(e).J().next(r=>this.ss(r,Ng).find(s=>{if(this.clientId!==s.clientId){const i=!this.networkEnabled&&s.networkEnabled,o=!this.inForeground&&s.inForeground,a=this.networkEnabled===s.networkEnabled;if(i||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&W($s,`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[ld,_l],e=>{const n=new gv(e,Gn.ce);return this.Zi(n).next(()=>this.ts(n))}),this.Ui.close(),this.Ps()}ss(e,n){return e.filter(r=>this.rs(r.updateTimeMs,n)&&!this.us(r.clientId))}Ts(){return this.runTransaction("getActiveClients","readonly",e=>ah(e).J().next(n=>this.ss(n,kg).map(r=>r.clientId)))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,n){return im.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new VB(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return sm.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,n,r){W($s,"Starting transaction:",e);const s=n==="readonly"?"readonly":"readwrite",i=function(l){return l===18?O5:l===17?XR:l===16?D5:l===15?S_:l===14?YR:l===13?QR:l===12?N5:l===11?GR:void ne(60245)}(this.Ni);let o;return this.Ui.runTransaction(e,s,i,a=>(o=new gv(a,this.ci?this.ci.next():Gn.ce),n==="readwrite-primary"?this.Hi(o).next(l=>!!l||this.Yi(o)).next(l=>{if(!l)throw sn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable(()=>this.Qi(!1)),new Y(B.FAILED_PRECONDITION,FR);return r(o)}).next(l=>this.Xi(o).next(()=>l)):this.Is(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}Is(e){return Ec(e).get(da).next(n=>{if(n!==null&&this.rs(n.leaseTimestampMs,Ng)&&!this.us(n.ownerId)&&!this.es(n)&&!(this.Oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new Y(B.FAILED_PRECONDITION,Dg)})}Xi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ec(e).put(da,n)}static v(){return bi.v()}Zi(e){const n=Ec(e);return n.get(da).next(r=>this.es(r)?(W($s,"Releasing primary lease."),n.delete(da)):V.resolve())}rs(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(sn(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi()))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){var e;typeof((e=this.window)==null?void 0:e.addEventListener)=="function"&&(this.Bi=()=>{this.cs();const n=/(?:Version|Mobile)\/1[456]/;vR()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){var n;try{const r=((n=this.Ki)==null?void 0:n.getItem(this._s(e)))!==null;return W($s,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return sn($s,"Failed to get zombied client id.",r),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){sn("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Ec(t){return At(t,ld)}function ah(t){return At(t,_l)}function t$(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=ye(),s=ye();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new z_(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n${constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return vR()?8:BR(Ct())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new n$;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(xa()<=Ee.DEBUG&&W("QueryEngine","SDK will not create cache indexes for query:",Ea(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),V.resolve()):(xa()<=Ee.DEBUG&&W("QueryEngine","Query:",Ea(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(xa()<=Ee.DEBUG&&W("QueryEngine","The SDK decides to create cache indexes for query:",Ea(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yn(n))):V.resolve())}ys(e,n){if(KT(n))return V.resolve(null);let r=Yn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Tv(n,null,"F"),r=Yn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=ye(...i);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Ds(n,a);return this.Cs(n,c,o,l.readTime)?this.ys(e,Tv(n,null,"F")):this.vs(e,c,n,l)}))})))}ws(e,n,r,s){return KT(n)||s.isEqual(oe.min())?V.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?V.resolve(null):(xa()<=Ee.DEBUG&&W("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ea(n)),this.vs(e,o,n,r5(s,Du)).next(a=>a))})}Ds(e,n){let r=new Fe(yP(e));return n.forEach((s,i)=>{ud(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return xa()<=Ee.DEBUG&&W("QueryEngine","Using full collection scan to execute query:",Ea(n)),this.ps.getDocumentsMatchingQuery(e,n,Ln.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_="LocalStore",r$=3e8;class s${constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new tt(he),this.xs=new Cs(i=>jo(i),cd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rk(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function ik(t,e,n,r){return new s$(t,e,n,r)}async function ok(t,e){const n=fe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=ye();for(const c of s){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of i){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ls:c,removedBatchIds:o,addedBatchIds:a}))})})}function i$(t,e){const n=fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const f=c.batch,p=f.keys();let m=V.resolve();return p.forEach(I=>{m=m.next(()=>d.getEntry(l,I)).next(y=>{const T=c.docVersions.get(I);se(T!==null,48541),y.version.compareTo(T)<0&&(f.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),d.addEntry(y)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ye();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function ak(t){const e=fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function o$(t,e){const n=fe(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach((d,f)=>{const p=s.get(f);if(!p)return;a.push(n.Pi.removeMatchingKeys(i,d.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(i,d.addedDocuments,f)));let m=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(xt.EMPTY_BYTE_STRING,oe.min()).withLastLimboFreeSnapshotVersion(oe.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),s=s.insert(f,m),function(y,T,x){return y.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=r$?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(p,m,d)&&a.push(n.Pi.updateTargetData(i,m))});let l=kn(),c=ye();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(a$(i,o,e.documentUpdates).next(d=>{l=d.ks,c=d.qs})),!r.isEqual(oe.min())){const d=n.Pi.getLastRemoteSnapshotVersion(i).next(f=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return V.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.Ms=s,i))}function a$(t,e,n){let r=ye(),s=ye();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=kn();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(oe.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):W(q_,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{ks:o,qs:s}})}function l$(t,e){const n=fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Io),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function c$(t,e){const n=fe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,V.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new ls(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function kv(t,e,n){const r=fe(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!zi(o))throw o;W(q_,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function II(t,e,n){const r=fe(t);let s=oe.min(),i=ye();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const f=fe(l),p=f.xs.get(d);return p!==void 0?V.resolve(f.Ms.get(p)):f.Pi.getTargetData(c,d)}(r,o,Yn(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:oe.min(),n?i:ye())).next(a=>(u$(r,Q5(e),a),{documents:a,Qs:i})))}function u$(t,e,n){let r=t.Os.get(e)||oe.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class bI{constructor(){this.activeTargetIds=tB()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lk{constructor(){this.Mo=new bI,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new bI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d${Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI="ConnectivityMonitor";class CI{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){W(SI,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){W(SI,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lh=null;function Nv(){return lh===null?lh=function(){return 268435456+Math.round(2147483648*Math.random())}():lh++,"0x"+lh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Og="RestConnection",h$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class f${get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===zf?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=Nv(),a=this.zo(e,n.toUriEncodedString());W(Og,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,s,i);const{host:c}=new URL(a),d=Bi(c);return this.Jo(e,a,l,r,d).then(f=>(W(Og,`Received RPC '${e}' ${o}: `,f),f),f=>{throw Vo(Og,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ul}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=h$[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p${constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qt="WebChannelConnection";class m$ extends f${constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=Nv();return new Promise((a,l)=>{const c=new AR;c.setWithCredentials(!0),c.listenOnce(RR.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case jh.NO_ERROR:const f=c.getResponseJson();W(qt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case jh.TIMEOUT:W(qt,`RPC '${e}' ${o} timed out`),l(new Y(B.DEADLINE_EXCEEDED,"Request time out"));break;case jh.HTTP_ERROR:const p=c.getStatus();if(W(qt,`RPC '${e}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);const I=m==null?void 0:m.error;if(I&&I.status&&I.message){const y=function(x){const v=x.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(v)>=0?v:B.UNKNOWN}(I.status);l(new Y(y,I.message))}else l(new Y(B.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Y(B.UNAVAILABLE,"Connection failed."));break;default:ne(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{W(qt,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(s);W(qt,`RPC '${e}' ${o} sending request:`,s),c.send(n,"POST",d,r,15)})}T_(e,n,r){const s=Nv(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=NR(),a=kR(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=i.join("");W(qt,`Creating RPC '${e}' stream ${s}: ${d}`,l);const f=o.createWebChannel(d,l);this.I_(f);let p=!1,m=!1;const I=new p$({Yo:T=>{m?W(qt,`Not sending because RPC '${e}' stream ${s} is closed:`,T):(p||(W(qt,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),W(qt,`RPC '${e}' stream ${s} sending:`,T),f.send(T))},Zo:()=>f.close()}),y=(T,x,v)=>{T.listen(x,w=>{try{v(w)}catch(C){setTimeout(()=>{throw C},0)}})};return y(f,Pc.EventType.OPEN,()=>{m||(W(qt,`RPC '${e}' stream ${s} transport opened.`),I.o_())}),y(f,Pc.EventType.CLOSE,()=>{m||(m=!0,W(qt,`RPC '${e}' stream ${s} transport closed`),I.a_(),this.E_(f))}),y(f,Pc.EventType.ERROR,T=>{m||(m=!0,Vo(qt,`RPC '${e}' stream ${s} transport errored. Name:`,T.name,"Message:",T.message),I.a_(new Y(B.UNAVAILABLE,"The operation could not be completed")))}),y(f,Pc.EventType.MESSAGE,T=>{var x;if(!m){const v=T.data[0];se(!!v,16349);const w=v,C=(w==null?void 0:w.error)||((x=w[0])==null?void 0:x.error);if(C){W(qt,`RPC '${e}' stream ${s} received error:`,C);const D=C.status;let M=function(R){const P=yt[R];if(P!==void 0)return PP(P)}(D),b=C.message;M===void 0&&(M=B.INTERNAL,b="Unknown error status: "+D+" with message "+C.message),m=!0,I.a_(new Y(M,b)),f.close()}else W(qt,`RPC '${e}' stream ${s} received:`,v),I.u_(v)}}),y(a,PR.STAT_EVENT,T=>{T.stat===uv.PROXY?W(qt,`RPC '${e}' stream ${s} detected buffering proxy`):T.stat===uv.NOPROXY&&W(qt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{I.__()},0),I}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g$(){return typeof window<"u"?window:null}function Gh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function am(t){return new yB(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&W("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI="PersistentStream";class uk{constructor(e,n,r,s,i,o,a,l){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ck(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(sn(n.toString()),sn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new Y(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return W(AI,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(W(AI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class y$ extends uk{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=_B(this.serializer,e),r=function(i){if(!("targetChange"in i))return oe.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?oe.min():o.readTime?ln(o.readTime):oe.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Sv(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=qf(l)?{documents:jP(i,l)}:{query:FP(i,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=DP(i,o.resumeToken);const c=Iv(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(oe.min())>0){a.readTime=Al(i,o.snapshotVersion.toTimestamp());const c=Iv(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=EB(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Sv(this.serializer),n.removeTarget=e,this.q_(n)}}class v$ extends uk{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return se(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,se(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){se(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=xB(e.writeResults,e.commitTime),r=ln(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Sv(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Kf(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w${}class _$ extends w${constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Y(B.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,bv(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Y(B.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,bv(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Y(B.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class x${constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(sn(n),this.aa=!1):W("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o="RemoteStore";class E${constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{na(this)&&(W($o,"Restarting streams for network reachability change."),await async function(l){const c=fe(l);c.Ea.add(4),await hd(c),c.Ra.set("Unknown"),c.Ea.delete(4),await lm(c)}(this))})}),this.Ra=new x$(r,s)}}async function lm(t){if(na(t))for(const e of t.da)await e(!0)}async function hd(t){for(const e of t.da)await e(!1)}function dk(t,e){const n=fe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),G_(n)?K_(n):zl(n).O_()&&W_(n,e))}function H_(t,e){const n=fe(t),r=zl(n);n.Ia.delete(e),r.O_()&&hk(n,e),n.Ia.size===0&&(r.O_()?r.L_():na(n)&&n.Ra.set("Unknown"))}function W_(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(oe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}zl(t).Y_(e)}function hk(t,e){t.Va.Ue(e),zl(t).Z_(e)}function K_(t){t.Va=new fB({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),zl(t).start(),t.Ra.ua()}function G_(t){return na(t)&&!zl(t).x_()&&t.Ia.size>0}function na(t){return fe(t).Ea.size===0}function fk(t){t.Va=void 0}async function T$(t){t.Ra.set("Online")}async function I$(t){t.Ia.forEach((e,n)=>{W_(t,e)})}async function b$(t,e){fk(t),G_(t)?(t.Ra.ha(e),K_(t)):t.Ra.set("Unknown")}async function S$(t,e,n){if(t.Ra.set("Online"),e instanceof NP&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))}(t,e)}catch(r){W($o,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Jf(t,r)}else if(e instanceof Wh?t.Va.Ze(e):e instanceof kP?t.Va.st(e):t.Va.tt(e),!n.isEqual(oe.min()))try{const r=await ak(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=i.Ia.get(c);d&&i.Ia.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=i.Ia.get(l);if(!d)return;i.Ia.set(l,d.withResumeToken(xt.EMPTY_BYTE_STRING,d.snapshotVersion)),hk(i,l);const f=new ls(d.target,l,c,d.sequenceNumber);W_(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){W($o,"Failed to raise snapshot:",r),await Jf(t,r)}}async function Jf(t,e,n){if(!zi(e))throw e;t.Ea.add(1),await hd(t),t.Ra.set("Offline"),n||(n=()=>ak(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{W($o,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await lm(t)})}function pk(t,e){return e().catch(n=>Jf(t,n,e))}async function fd(t){const e=fe(t),n=Vi(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Io;for(;C$(e);)try{const s=await l$(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,A$(e,s)}catch(s){await Jf(e,s)}mk(e)&&gk(e)}function C$(t){return na(t)&&t.Ta.length<10}function A$(t,e){t.Ta.push(e);const n=Vi(t);n.O_()&&n.X_&&n.ea(e.mutations)}function mk(t){return na(t)&&!Vi(t).x_()&&t.Ta.length>0}function gk(t){Vi(t).start()}async function R$(t){Vi(t).ra()}async function P$(t){const e=Vi(t);for(const n of t.Ta)e.ea(n.mutations)}async function k$(t,e,n){const r=t.Ta.shift(),s=O_.from(r,e,n);await pk(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await fd(t)}async function N$(t,e){e&&Vi(t).X_&&await async function(r,s){if(function(o){return uB(o)&&o!==B.ABORTED}(s.code)){const i=r.Ta.shift();Vi(r).B_(),await pk(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await fd(r)}}(t,e),mk(t)&&gk(t)}async function RI(t,e){const n=fe(t);n.asyncQueue.verifyOperationInProgress(),W($o,"RemoteStore received new credentials");const r=na(n);n.Ea.add(3),await hd(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await lm(n)}async function D$(t,e){const n=fe(t);e?(n.Ea.delete(2),await lm(n)):e||(n.Ea.add(2),await hd(n),n.Ra.set("Unknown"))}function zl(t){return t.ma||(t.ma=function(n,r,s){const i=fe(n);return i.sa(),new y$(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:T$.bind(null,t),t_:I$.bind(null,t),r_:b$.bind(null,t),H_:S$.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),G_(t)?K_(t):t.Ra.set("Unknown")):(await t.ma.stop(),fk(t))})),t.ma}function Vi(t){return t.fa||(t.fa=function(n,r,s){const i=fe(n);return i.sa(),new v$(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:R$.bind(null,t),r_:N$.bind(null,t),ta:P$.bind(null,t),na:k$.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await fd(t)):(await t.fa.stop(),t.Ta.length>0&&(W($o,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Ti,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Q_(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Y_(t,e){if(sn("AsyncQueue",`${e}: ${t}`),zi(t))return new Y(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{static emptySet(e){return new Ka(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Z.comparator(n.key,r.key):(n,r)=>Z.comparator(n.key,r.key),this.keyedMap=kc(),this.sortedSet=new tt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ka)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ka;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(){this.ga=new tt(Z.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ne(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Rl{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Rl(e,n,Ka.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&em(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O${constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class M${constructor(){this.queries=kI(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=fe(n),i=s.queries;s.queries=kI(),i.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new Y(B.ABORTED,"Firestore shutting down"))}}function kI(){return new Cs(t=>gP(t),em)}async function V$(t,e){const n=fe(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new O$,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Y_(o,`Initialization of query '${Ea(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&X_(n)}async function L$(t,e){const n=fe(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function j$(t,e){const n=fe(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&X_(n)}function F$(t,e,n){const r=fe(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function X_(t){t.Ca.forEach(e=>{e.next()})}var Dv,NI;(NI=Dv||(Dv={})).Ma="default",NI.Cache="cache";class U${constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Rl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Rl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Dv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e){this.key=e}}class vk{constructor(e){this.key=e}}class B${constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ye(),this.mutatedKeys=ye(),this.eu=yP(e),this.tu=new Ka(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new PI,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,f)=>{const p=s.get(d),m=ud(this.query,f)?f:null,I=!!p&&this.mutatedKeys.has(p.key),y=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let T=!1;p&&m?p.data.isEqual(m.data)?I!==y&&(r.track({type:3,doc:m}),T=!0):this.su(p,m)||(r.track({type:2,doc:m}),T=!0,(l&&this.eu(m,l)>0||c&&this.eu(m,c)<0)&&(a=!0)):!p&&m?(r.track({type:0,doc:m}),T=!0):p&&!m&&(r.track({type:1,doc:p}),T=!0,(l||c)&&(a=!0)),T&&(m?(o=o.add(m),i=y?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((d,f)=>function(m,I){const y=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ne(20277,{Rt:T})}};return y(m)-y(I)}(d.type,f.type)||this.eu(d.doc,f.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],l=this.Xa.size===0&&this.current&&!s?1:0,c=l!==this.Za;return this.Za=l,o.length!==0||c?{snapshot:new Rl(this.query,e.tu,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new PI,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ye(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new vk(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new yk(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=ye();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Rl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const J_="SyncEngine";class $${constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class z${constructor(e){this.key=e,this.hu=!1}}class q${constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Cs(a=>gP(a),em),this.Iu=new Map,this.Eu=new Set,this.du=new tt(Z.comparator),this.Au=new Map,this.Ru=new U_,this.Vu={},this.mu=new Map,this.fu=Bo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function H$(t,e,n=!0){const r=Ik(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await wk(r,e,n,!0),s}async function W$(t,e){const n=Ik(t);await wk(n,e,!0,!1)}async function wk(t,e,n,r){const s=await c$(t.localStore,Yn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await K$(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&dk(t.remoteStore,s),a}async function K$(t,e,n,r,s){t.pu=(f,p,m)=>async function(y,T,x,v){let w=T.view.ru(x);w.Cs&&(w=await II(y.localStore,T.query,!1).then(({documents:b})=>T.view.ru(b,w)));const C=v&&v.targetChanges.get(T.targetId),D=v&&v.targetMismatches.get(T.targetId)!=null,M=T.view.applyChanges(w,y.isPrimaryClient,C,D);return OI(y,T.targetId,M.au),M.snapshot}(t,f,p,m);const i=await II(t.localStore,e,!0),o=new B$(e,i.Qs),a=o.ru(i.documents),l=dd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);OI(t,n,c.au);const d=new $$(e,n,o);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function G$(t,e,n){const r=fe(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!em(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await kv(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&H_(r.remoteStore,s.targetId),Ov(r,s.targetId)}).catch(ta)):(Ov(r,s.targetId),await kv(r.localStore,s.targetId,!0))}async function Q$(t,e){const n=fe(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),H_(n.remoteStore,r.targetId))}async function Y$(t,e,n){const r=bk(t);try{const s=await function(o,a){const l=fe(o),c=Ve.now(),d=a.reduce((m,I)=>m.add(I.key),ye());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let I=kn(),y=ye();return l.Ns.getEntries(m,d).next(T=>{I=T,I.forEach((x,v)=>{v.isValidDocument()||(y=y.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,I)).next(T=>{f=T;const x=[];for(const v of a){const w=lB(v,f.get(v.key).overlayedDocument);w!=null&&x.push(new As(v.key,w,aP(w.value.mapValue),vn.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,x,a)}).next(T=>{p=T;const x=T.applyToLocalDocumentSet(f,y);return l.documentOverlayCache.saveOverlays(m,T.batchId,x)})}).then(()=>({batchId:p.batchId,changes:wP(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Vu[o.currentUser.toKey()];c||(c=new tt(he)),c=c.insert(a,l),o.Vu[o.currentUser.toKey()]=c}(r,s.batchId,n),await pd(r,s.changes),await fd(r.remoteStore)}catch(s){const i=Y_(s,"Failed to persist write");n.reject(i)}}async function _k(t,e){const n=fe(t);try{const r=await o$(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(se(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?se(o.hu,14607):s.removedDocuments.size>0&&(se(o.hu,42227),o.hu=!1))}),await pd(n,r,e)}catch(r){await ta(r)}}function DI(t,e,n){const r=fe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=fe(o);l.onlineState=a;let c=!1;l.queries.forEach((d,f)=>{for(const p of f.Sa)p.va(a)&&(c=!0)}),c&&X_(l)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function X$(t,e,n){const r=fe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new tt(Z.comparator);o=o.insert(i,ht.newNoDocument(i,oe.min()));const a=ye().add(i),l=new rm(oe.min(),new Map,new tt(he),o,a);await _k(r,l),r.du=r.du.remove(i),r.Au.delete(e),Z_(r)}else await kv(r.localStore,e,!1).then(()=>Ov(r,e,n)).catch(ta)}async function J$(t,e){const n=fe(t),r=e.batch.batchId;try{const s=await i$(n.localStore,e);Ek(n,r,null),xk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await pd(n,s)}catch(s){await ta(s)}}async function Z$(t,e,n){const r=fe(t);try{const s=await function(o,a){const l=fe(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(se(f!==null,37113),d=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);Ek(r,e,n),xk(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await pd(r,s)}catch(s){await ta(s)}}function xk(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function Ek(t,e,n){const r=fe(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Ov(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||Tk(t,r)})}function Tk(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(H_(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Z_(t))}function OI(t,e,n){for(const r of n)r instanceof yk?(t.Ru.addReference(r.key,e),e9(t,r)):r instanceof vk?(W(J_,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||Tk(t,r.key)):ne(19791,{wu:r})}function e9(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(W(J_,"New document in limbo: "+n),t.Eu.add(r),Z_(t))}function Z_(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Z(Oe.fromString(e)),r=t.fu.next();t.Au.set(r,new z$(n)),t.du=t.du.insert(n,r),dk(t.remoteStore,new ls(Yn(Zp(n.path)),r,"TargetPurposeLimboResolution",Gn.ce))}}async function pd(t,e,n){const r=fe(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){s.push(c);const f=z_.As(l.targetId,c);i.push(f)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(l,c){const d=fe(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>V.forEach(c,p=>V.forEach(p.Es,m=>d.persistence.referenceDelegate.addReference(f,p.targetId,m)).next(()=>V.forEach(p.ds,m=>d.persistence.referenceDelegate.removeReference(f,p.targetId,m)))))}catch(f){if(!zi(f))throw f;W(q_,"Failed to update sequence numbers: "+f)}for(const f of c){const p=f.targetId;if(!f.fromCache){const m=d.Ms.get(p),I=m.snapshotVersion,y=m.withLastLimboFreeSnapshotVersion(I);d.Ms=d.Ms.insert(p,y)}}}(r.localStore,i))}async function t9(t,e){const n=fe(t);if(!n.currentUser.isEqual(e)){W(J_,"User change. New user:",e.toKey());const r=await ok(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(l=>{l.reject(new Y(B.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await pd(n,r.Ls)}}function n9(t,e){const n=fe(t),r=n.Au.get(e);if(r&&r.hu)return ye().add(r.key);{let s=ye();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function Ik(t){const e=fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=_k.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=n9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=X$.bind(null,e),e.Pu.H_=j$.bind(null,e.eventManager),e.Pu.yu=F$.bind(null,e.eventManager),e}function bk(t){const e=fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=J$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Z$.bind(null,e),e}class Hu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=am(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return ik(this.persistence,new sk,e.initialUser,this.serializer)}Cu(e){return new B_(om.mi,this.serializer)}Du(e){return new lk}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hu.provider={build:()=>new Hu};class r9 extends Hu{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){se(this.persistence.referenceDelegate instanceof Xf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new ZP(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Wt.withCacheSize(this.cacheSizeBytes):Wt.DEFAULT;return new B_(r=>Xf.mi(r,n),this.serializer)}}class s9 extends Hu{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await bk(this.xu.syncEngine),await fd(this.xu.remoteStore),await this.persistence.Ji(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}vu(e){return ik(this.persistence,new sk,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new ZP(r,e.asyncQueue,n)}Mu(e,n){const r=new a5(n,this.persistence);return new o5(e.asyncQueue,r)}Cu(e){const n=t$(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Wt.withCacheSize(this.cacheSizeBytes):Wt.DEFAULT;return new $_(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,g$(),Gh(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new lk}}class Zf{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>DI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=t9.bind(null,this.syncEngine),await D$(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new M$}()}createDatastore(e){const n=am(e.databaseInfo.databaseId),r=function(i){return new m$(i)}(e.databaseInfo);return function(i,o,a,l){return new _$(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new E$(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>DI(this.syncEngine,n,0),function(){return CI.v()?new CI:new d$}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,d){const f=new q$(s,i,o,a,l,c);return d&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=fe(s);W($o,"RemoteStore shutting down."),i.Ea.add(5),await hd(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Zf.provider={build:()=>new Zf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):sn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li="FirestoreClient";class o9{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Vt.UNAUTHENTICATED,this.clientId=__.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{W(Li,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(W(Li,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ti;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Y_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Mg(t,e){t.asyncQueue.verifyOperationInProgress(),W(Li,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await ok(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function MI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await a9(t);W(Li,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>RI(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>RI(e.remoteStore,s)),t._onlineComponents=e}async function a9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){W(Li,"Using user provided OfflineComponentProvider");try{await Mg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===B.FAILED_PRECONDITION||s.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Vo("Error using user provided cache. Falling back to memory cache: "+n),await Mg(t,new Hu)}}else W(Li,"Using default OfflineComponentProvider"),await Mg(t,new r9(void 0));return t._offlineComponents}async function Sk(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(W(Li,"Using user provided OnlineComponentProvider"),await MI(t,t._uninitializedComponentsProvider._online)):(W(Li,"Using default OnlineComponentProvider"),await MI(t,new Zf))),t._onlineComponents}function l9(t){return Sk(t).then(e=>e.syncEngine)}async function VI(t){const e=await Sk(t),n=e.eventManager;return n.onListen=H$.bind(null,e.syncEngine),n.onUnlisten=G$.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=W$.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Q$.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ck(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak="firestore.googleapis.com",jI=!0;class FI{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Y(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ak,this.ssl=jI}else this.host=e.host,this.ssl=e.ssl??jI;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=QP;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<jB)throw new Y(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}n5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ck(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Y(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Y(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Y(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cm{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FI({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Y(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Y(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FI(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new WU;switch(r.type){case"firstParty":return new YU(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Y(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=LI.get(n);r&&(W("ComponentProvider","Removing Datastore"),LI.delete(n),r.terminate())}(this),Promise.resolve()}}function c9(t,e,n,r={}){var c;t=Ii(t,cm);const s=Bi(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(p_(`https://${a}`),m_("Firestore",!0)),i.host!==Ak&&i.host!==a&&Vo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:a,ssl:s,emulatorOptions:r};if(!Di(l,o)&&(t._setSettings(l),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=Vt.MOCK_USER;else{d=gR(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Y(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Vt(p)}t._authCredentials=new KU(new OR(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ra(this.firestore,e,this._query)}}class _t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Si(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _t(this.firestore,e,this._key)}toJSON(){return{type:_t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(ad(n,_t._jsonSchema))return new _t(e,r||null,new Z(Oe.fromString(n.referencePath)))}}_t._jsonSchemaVersion="firestore/documentReference/1.0",_t._jsonSchema={type:wt("string",_t._jsonSchemaVersion),referencePath:wt("string")};class Si extends ra{constructor(e,n,r){super(e,n,Zp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _t(this.firestore,null,new Z(e))}withConverter(e){return new Si(this.firestore,e,this._path)}}function UI(t,e,...n){if(t=He(t),VR("collection","path",e),t instanceof cm){const r=Oe.fromString(e,...n);return AT(r),new Si(t,null,r)}{if(!(t instanceof _t||t instanceof Si))throw new Y(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Oe.fromString(e,...n));return AT(r),new Si(t.firestore,null,r)}}function Mv(t,e,...n){if(t=He(t),arguments.length===1&&(e=__.newId()),VR("doc","path",e),t instanceof cm){const r=Oe.fromString(e,...n);return CT(r),new _t(t,null,new Z(r))}{if(!(t instanceof _t||t instanceof Si))throw new Y(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Oe.fromString(e,...n));return CT(r),new _t(t.firestore,t instanceof Si?t.converter:null,new Z(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI="AsyncQueue";class $I{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ck(this,"async_queue_retry"),this._c=()=>{const r=Gh();r&&W(BI,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Gh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Gh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Ti;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!zi(e))throw e;W(BI,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,sn("INTERNAL UNHANDLED ERROR: ",zI(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Q_.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&ne(47125,{Pc:zI(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function zI(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Pl extends cm{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new $I,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $I(e),this._firestoreClient=void 0,await e}}}function u9(t,e){const n=typeof t=="object"?t:qp(),r=typeof t=="string"?t:zf,s=$i(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=fR("firestore");i&&c9(s,...i)}return s}function Rk(t){if(t._terminated)throw new Y(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Pk(t),t._firestoreClient}function Pk(t){var r,s,i;const e=t._freezeSettings(),n=function(a,l,c,d){return new V5(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Ck(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new o9(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}function d9(t,e){Vo("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return h9(t,Zf.provider,{build:r=>new s9(r,n.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}function h9(t,e,n){if((t=Ii(t,Pl))._firestoreClient||t._terminated)throw new Y(B.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new Y(B.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},Pk(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wn(xt.fromBase64String(e))}catch(n){throw new Y(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Wn(xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Wn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ad(e,Wn._jsonSchema))return Wn.fromBase64String(e.bytes)}}Wn._jsonSchemaVersion="firestore/bytes/1.0",Wn._jsonSchema={type:wt("string",Wn._jsonSchemaVersion),bytes:wt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Y(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new it(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Y(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Y(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return he(this._lat,e._lat)||he(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:zr._jsonSchemaVersion}}static fromJSON(e){if(ad(e,zr._jsonSchema))return new zr(e.latitude,e.longitude)}}zr._jsonSchemaVersion="firestore/geoPoint/1.0",zr._jsonSchema={type:wt("string",zr._jsonSchemaVersion),latitude:wt("number"),longitude:wt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:qr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ad(e,qr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new qr(e.vectorValues);throw new Y(B.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}qr._jsonSchemaVersion="firestore/vectorValue/1.0",qr._jsonSchema={type:wt("string",qr._jsonSchemaVersion),vectorValues:wt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f9=/^__.*__$/;class p9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new As(e,this.data,this.fieldMask,n,this.fieldTransforms):new $l(e,this.data,n,this.fieldTransforms)}}class kk{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new As(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Nk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ne(40011,{Ac:t})}}class e0{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new e0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ep(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Nk(this.Ac)&&f9.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class m9{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||am(e)}Cc(e,n,r,s=!1){return new e0({Ac:e,methodName:n,Dc:r,path:it.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function t0(t){const e=t._freezeSettings(),n=am(t._databaseId);return new m9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function g9(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);r0("Data must be an object, but it was:",o,r);const a=Dk(r,o);let l,c;if(i.merge)l=new yn(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const f of i.mergeFields){const p=Vv(e,f,n);if(!o.contains(p))throw new Y(B.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);Mk(d,p)||d.push(p)}l=new yn(d),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new p9(new Gt(a),l,c)}class hm extends dm{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof hm}}class n0 extends dm{_toFieldTransform(e){return new SP(e.path,new bl)}isEqual(e){return e instanceof n0}}function y9(t,e,n,r){const s=t.Cc(1,e,n);r0("Data must be an object, but it was:",s,r);const i=[],o=Gt.empty();qi(r,(l,c)=>{const d=s0(e,l,n);c=He(c);const f=s.yc(d);if(c instanceof hm)i.push(d);else{const p=md(c,f);p!=null&&(i.push(d),o.set(d,p))}});const a=new yn(i);return new kk(o,a,s.fieldTransforms)}function v9(t,e,n,r,s,i){const o=t.Cc(1,e,n),a=[Vv(e,r,n)],l=[s];if(i.length%2!=0)throw new Y(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)a.push(Vv(e,i[p])),l.push(i[p+1]);const c=[],d=Gt.empty();for(let p=a.length-1;p>=0;--p)if(!Mk(c,a[p])){const m=a[p];let I=l[p];I=He(I);const y=o.yc(m);if(I instanceof hm)c.push(m);else{const T=md(I,y);T!=null&&(c.push(m),d.set(m,T))}}const f=new yn(c);return new kk(d,f,o.fieldTransforms)}function w9(t,e,n,r=!1){return md(n,t.Cc(r?4:3,e))}function md(t,e){if(Ok(t=He(t)))return r0("Unsupported field value:",e,t),Dk(t,e);if(t instanceof dm)return function(r,s){if(!Nk(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=md(a,s.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=He(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return nB(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ve.fromDate(r);return{timestampValue:Al(s.serializer,i)}}if(r instanceof Ve){const i=new Ve(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Al(s.serializer,i)}}if(r instanceof zr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Wn)return{bytesValue:DP(s.serializer,r._byteString)};if(r instanceof _t){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:L_(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof qr)return function(o,a){return{mapValue:{fields:{[A_]:{stringValue:R_},[xl]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Sc("VectorValues must only contain numeric values.");return k_(a.serializer,c)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${Hp(r)}`)}(t,e)}function Dk(t,e){const n={};return JR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qi(t,(r,s)=>{const i=md(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function Ok(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ve||t instanceof zr||t instanceof Wn||t instanceof _t||t instanceof dm||t instanceof qr)}function r0(t,e,n){if(!Ok(n)||!LR(n)){const r=Hp(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Vv(t,e,n){if((e=He(e))instanceof um)return e._internalPath;if(typeof e=="string")return s0(t,e);throw ep("Field path arguments must be of type string or ",t,!1,void 0,n)}const _9=new RegExp("[~\\*/\\[\\]]");function s0(t,e,n){if(e.search(_9)>=0)throw ep(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new um(...e.split("."))._internalPath}catch{throw ep(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ep(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new Y(B.INVALID_ARGUMENT,a+t+l)}function Mk(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new _t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new x9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(i0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class x9 extends Vk{data(){return super.data()}}function i0(t,e){return typeof e=="string"?s0(t,e):e instanceof um?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E9(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Y(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class o0{}class Lk extends o0{}function T9(t,e,...n){let r=[];e instanceof o0&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof l0).length,a=i.filter(l=>l instanceof a0).length;if(o>1||o>0&&a>0)throw new Y(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class a0 extends Lk{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new a0(e,n,r)}_apply(e){const n=this._parse(e);return jk(e._query,n),new ra(e.firestore,e.converter,Ev(e._query,n))}_parse(e){const n=t0(e.firestore);return function(i,o,a,l,c,d,f){let p;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Y(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){WI(f,d);const I=[];for(const y of f)I.push(HI(l,i,y));p={arrayValue:{values:I}}}else p=HI(l,i,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||WI(f,d),p=w9(a,o,f,d==="in"||d==="not-in");return Te.create(c,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class l0 extends o0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new l0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Le.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)jk(o,l),o=Ev(o,l)}(e._query,n),new ra(e.firestore,e.converter,Ev(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class c0 extends Lk{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new c0(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new Y(B.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Y(B.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new zu(i,o)}(e._query,this._field,this._direction);return new ra(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new Bl(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function I9(t,e="asc"){const n=e,r=i0("orderBy",t);return c0._create(r,n)}function HI(t,e,n){if(typeof(n=He(n))=="string"){if(n==="")throw new Y(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mP(e)&&n.indexOf("/")!==-1)throw new Y(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Oe.fromString(n));if(!Z.isDocumentKey(r))throw new Y(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Bu(t,new Z(r))}if(n instanceof _t)return Bu(t,n._key);throw new Y(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hp(n)}.`)}function WI(t,e){if(!Array.isArray(t)||t.length===0)throw new Y(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function jk(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Y(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Y(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class b9{convertValue(e,n="none"){switch(Oi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Je(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Es(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ne(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return qi(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[xl].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>Je(o.doubleValue));return new qr(n)}convertGeoPoint(e){return new zr(Je(e.latitude),Je(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Xp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Fu(e));default:return null}}convertTimestamp(e){const n=xs(e);return new Ve(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Oe.fromString(e);se(zP(r),9688,{name:e});const s=new Lo(r.get(1),r.get(3)),i=new Z(r.popFirst(5));return s.isEqual(n)||sn(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S9(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Oc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Co extends Vk{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Qh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(i0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Y(B.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Co._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Co._jsonSchemaVersion="firestore/documentSnapshot/1.0",Co._jsonSchema={type:wt("string",Co._jsonSchemaVersion),bundleSource:wt("string","DocumentSnapshot"),bundleName:wt("string"),bundle:wt("string")};class Qh extends Co{data(e={}){return super.data(e)}}class Ga{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Oc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Qh(this._firestore,this._userDataWriter,r.key,r,new Oc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Y(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Qh(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Oc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Qh(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Oc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:C9(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Y(B.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ga._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=__.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function C9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ne(61501,{type:t})}}Ga._jsonSchemaVersion="firestore/querySnapshot/1.0",Ga._jsonSchema={type:wt("string",Ga._jsonSchemaVersion),bundleSource:wt("string","QuerySnapshot"),bundleName:wt("string"),bundle:wt("string")};class Fk extends b9{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _t(this.firestore,null,n)}}function Vg(t,e,n,...r){t=Ii(t,_t);const s=Ii(t.firestore,Pl),i=t0(s);let o;return o=typeof(e=He(e))=="string"||e instanceof um?v9(i,"updateDoc",t._key,e,n,r):y9(i,"updateDoc",t._key,e),Uk(s,[o.toMutation(t._key,vn.exists(!0))])}function A9(t,e){const n=Ii(t.firestore,Pl),r=Mv(t),s=S9(t.converter,e);return Uk(n,[g9(t0(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,vn.exists(!1))]).then(()=>r)}function R9(t,...e){var l,c,d;t=He(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||qI(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(qI(e[r])){const f=e[r];e[r]=(l=f.next)==null?void 0:l.bind(f),e[r+1]=(c=f.error)==null?void 0:c.bind(f),e[r+2]=(d=f.complete)==null?void 0:d.bind(f)}let i,o,a;if(t instanceof _t)o=Ii(t.firestore,Pl),a=Zp(t._key.path),i={next:f=>{e[r]&&e[r](P9(o,t,f))},error:e[r+1],complete:e[r+2]};else{const f=Ii(t,ra);o=Ii(f.firestore,Pl),a=f._query;const p=new Fk(o);i={next:m=>{e[r]&&e[r](new Ga(o,p,f,m))},error:e[r+1],complete:e[r+2]},E9(t._query)}return function(p,m,I,y){const T=new i9(y),x=new U$(m,T,I);return p.asyncQueue.enqueueAndForget(async()=>V$(await VI(p),x)),()=>{T.Nu(),p.asyncQueue.enqueueAndForget(async()=>L$(await VI(p),x))}}(Rk(o),a,s,i)}function Uk(t,e){return function(r,s){const i=new Ti;return r.asyncQueue.enqueueAndForget(async()=>Y$(await l9(r),s,i)),i.promise}(Rk(t),e)}function P9(t,e,n){const r=n.docs.get(e._key),s=new Fk(t);return new Co(t,s,e._key,r,new Oc(n.hasPendingWrites,n.fromCache),e.converter)}function KI(){return new n0("serverTimestamp")}(function(e,n=!0){(function(s){Ul=s})(ea),_r(new Zn("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Pl(new GU(r.getProvider("auth-internal")),new XU(o,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Y(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lo(c.options.projectId,d)}(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),En(TT,IT,e),En(TT,IT,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bk="firebasestorage.googleapis.com",$k="storageBucket",k9=2*60*1e3,N9=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt extends In{constructor(e,n,r=0){super(Lg(e),`Firebase Storage: ${n} (${Lg(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,pt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Lg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ft;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ft||(ft={}));function Lg(t){return"storage/"+t}function u0(){const t="An unknown error occurred, please check the error payload for server response.";return new pt(ft.UNKNOWN,t)}function D9(t){return new pt(ft.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function O9(t){return new pt(ft.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function M9(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new pt(ft.UNAUTHENTICATED,t)}function V9(){return new pt(ft.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function L9(t){return new pt(ft.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function j9(){return new pt(ft.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function F9(){return new pt(ft.CANCELED,"User canceled the upload/download.")}function U9(t){return new pt(ft.INVALID_URL,"Invalid URL '"+t+"'.")}function B9(t){return new pt(ft.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function $9(){return new pt(ft.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+$k+"' property when initializing the app?")}function z9(){return new pt(ft.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function q9(){return new pt(ft.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function H9(t){return new pt(ft.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Lv(t){return new pt(ft.INVALID_ARGUMENT,t)}function zk(){return new pt(ft.APP_DELETED,"The Firebase app was deleted.")}function W9(t){return new pt(ft.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function iu(t,e){return new pt(ft.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Tc(t){throw new pt(ft.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Nn.makeFromUrl(e,n)}catch{return new Nn(e,"")}if(r.path==="")return r;throw B9(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(C){C.path.charAt(C.path.length-1)==="/"&&(C.path_=C.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function c(C){C.path_=decodeURIComponent(C.path)}const d="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",m=new RegExp(`^https?://${f}/${d}/b/${s}/o${p}`,"i"),I={bucket:1,path:3},y=n===Bk?"(?:storage.googleapis.com|storage.cloud.google.com)":n,T="([^?#]*)",x=new RegExp(`^https?://${y}/${s}/${T}`,"i"),w=[{regex:a,indices:l,postModify:i},{regex:m,indices:I,postModify:c},{regex:x,indices:{bucket:1,path:2},postModify:c}];for(let C=0;C<w.length;C++){const D=w[C],M=D.regex.exec(e);if(M){const b=M[D.indices.bucket];let S=M[D.indices.path];S||(S=""),r=new Nn(b,S),D.postModify(r);break}}if(r==null)throw U9(e);return r}}class K9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G9(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let c=!1;function d(...T){c||(c=!0,e.apply(null,T))}function f(T){s=setTimeout(()=>{s=null,t(m,l())},T)}function p(){i&&clearTimeout(i)}function m(T,...x){if(c){p();return}if(T){p(),d.call(null,T,...x);return}if(l()||o){p(),d.call(null,T,...x);return}r<64&&(r*=2);let w;a===1?(a=2,w=0):w=(r+Math.random())*1e3,f(w)}let I=!1;function y(T){I||(I=!0,p(),!c&&(s!==null?(T||(a=2),clearTimeout(s),f(0)):T||(a=1)))}return f(0),i=setTimeout(()=>{o=!0,y(!0)},n),y}function Q9(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y9(t){return t!==void 0}function X9(t){return typeof t=="object"&&!Array.isArray(t)}function d0(t){return typeof t=="string"||t instanceof String}function GI(t){return h0()&&t instanceof Blob}function h0(){return typeof Blob<"u"}function QI(t,e,n,r){if(r<e)throw Lv(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Lv(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fm(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function qk(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Ao;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ao||(Ao={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J9(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z9{constructor(e,n,r,s,i,o,a,l,c,d,f,p=!0,m=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=f,this.retry=p,this.isUsingEmulator=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((I,y)=>{this.resolve_=I,this.reject_=y,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new ch(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===Ao.NO_ERROR,l=i.getStatus();if(!a||J9(l,this.additionalRetryCodes_)&&this.retry){const d=i.getErrorCode()===Ao.ABORT;r(!1,new ch(!1,null,d));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new ch(c,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());Y9(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=u0();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?zk():F9();o(l)}else{const l=j9();o(l)}};this.canceled_?n(!1,new ch(!1,null,!0)):this.backoffId_=G9(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Q9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ch{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function ez(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function tz(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function nz(t,e){e&&(t["X-Firebase-GMPID"]=e)}function rz(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function sz(t,e,n,r,s,i,o=!0,a=!1){const l=qk(t.urlParams),c=t.url+l,d=Object.assign({},t.headers);return nz(d,e),ez(d,n),tz(d,i),rz(d,r),new Z9(c,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iz(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function oz(...t){const e=iz();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(h0())return new Blob(t);throw new pt(ft.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function az(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lz(t){if(typeof atob>"u")throw H9("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class jg{constructor(e,n){this.data=e,this.contentType=n||null}}function cz(t,e){switch(t){case Fr.RAW:return new jg(Hk(e));case Fr.BASE64:case Fr.BASE64URL:return new jg(Wk(t,e));case Fr.DATA_URL:return new jg(dz(e),hz(e))}throw u0()}function Hk(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function uz(t){let e;try{e=decodeURIComponent(t)}catch{throw iu(Fr.DATA_URL,"Malformed data URL.")}return Hk(e)}function Wk(t,e){switch(t){case Fr.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw iu(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Fr.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw iu(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=lz(e)}catch(s){throw s.message.includes("polyfill")?s:iu(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class Kk{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw iu(Fr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=fz(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function dz(t){const e=new Kk(t);return e.base64?Wk(Fr.BASE64,e.rest):uz(e.rest)}function hz(t){return new Kk(t).contentType}function fz(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e,n){let r=0,s="";GI(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(GI(this.data_)){const r=this.data_,s=az(r,e,n);return s===null?null:new Js(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Js(r,!0)}}static getBlob(...e){if(h0()){const n=e.map(r=>r instanceof Js?r.data_:r);return new Js(oz.apply(null,n))}else{const n=e.map(o=>d0(o)?cz(Fr.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)s[i++]=o[a]}),new Js(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gk(t){let e;try{e=JSON.parse(t)}catch{return null}return X9(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pz(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function mz(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function Qk(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gz(t,e){return e}class Zt{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||gz}}let uh=null;function yz(t){return!d0(t)||t.length<2?t:Qk(t)}function Yk(){if(uh)return uh;const t=[];t.push(new Zt("bucket")),t.push(new Zt("generation")),t.push(new Zt("metageneration")),t.push(new Zt("name","fullPath",!0));function e(i,o){return yz(o)}const n=new Zt("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new Zt("size");return s.xform=r,t.push(s),t.push(new Zt("timeCreated")),t.push(new Zt("updated")),t.push(new Zt("md5Hash",null,!0)),t.push(new Zt("cacheControl",null,!0)),t.push(new Zt("contentDisposition",null,!0)),t.push(new Zt("contentEncoding",null,!0)),t.push(new Zt("contentLanguage",null,!0)),t.push(new Zt("contentType",null,!0)),t.push(new Zt("metadata","customMetadata",!0)),uh=t,uh}function vz(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new Nn(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function wz(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return vz(r,t),r}function Xk(t,e,n){const r=Gk(e);return r===null?null:wz(t,r,n)}function _z(t,e,n,r){const s=Gk(e);if(s===null||!d0(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(c=>{const d=t.bucket,f=t.fullPath,p="/b/"+o(d)+"/o/"+o(f),m=fm(p,n,r),I=qk({alt:"media",token:c});return m+I})[0]}function xz(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class f0{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jk(t){if(!t)throw u0()}function Ez(t,e){function n(r,s){const i=Xk(t,s,e);return Jk(i!==null),i}return n}function Tz(t,e){function n(r,s){const i=Xk(t,s,e);return Jk(i!==null),_z(i,s,t.host,t._protocol)}return n}function Zk(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=V9():s=M9():n.getStatus()===402?s=O9(t.bucket):n.getStatus()===403?s=L9(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function eN(t){const e=Zk(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=D9(t.path)),i.serverResponse=s.serverResponse,i}return n}function Iz(t,e,n){const r=e.fullServerUrl(),s=fm(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new f0(s,i,Tz(t,n),o);return a.errorHandler=eN(e),a}function bz(t,e){const n=e.fullServerUrl(),r=fm(n,t.host,t._protocol),s="DELETE",i=t.maxOperationRetryTime;function o(l,c){}const a=new f0(r,s,o,i);return a.successCodes=[200,204],a.errorHandler=eN(e),a}function Sz(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Cz(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Sz(null,e)),r}function Az(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let w="";for(let C=0;C<2;C++)w=w+Math.random().toString().slice(2);return w}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=Cz(e,r,s),d=xz(c,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,p=`\r
--`+l+"--",m=Js.getBlob(f,r,p);if(m===null)throw z9();const I={name:c.fullPath},y=fm(i,t.host,t._protocol),T="POST",x=t.maxUploadRetryTime,v=new f0(y,T,Ez(t,n),x);return v.urlParams=I,v.headers=o,v.body=m.uploadData(),v.errorHandler=Zk(e),v}class Rz{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ao.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ao.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ao.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s,i){if(this.sent_)throw Tc("cannot .send() more than once");if(Bi(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Tc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Tc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Tc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Tc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Pz extends Rz{initXhr(){this.xhr_.responseType="text"}}function p0(){return new Pz}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e,n){this._service=e,n instanceof Nn?this._location=n:this._location=Nn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new zo(e,n)}get root(){const e=new Nn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Qk(this._location.path)}get storage(){return this._service}get parent(){const e=pz(this._location.path);if(e===null)return null;const n=new Nn(this._location.bucket,e);return new zo(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw W9(e)}}function kz(t,e,n){t._throwIfRoot("uploadBytes");const r=Az(t.storage,t._location,Yk(),new Js(e,!0),n);return t.storage.makeRequestWithTokens(r,p0).then(s=>({metadata:s,ref:t}))}function Nz(t){t._throwIfRoot("getDownloadURL");const e=Iz(t.storage,t._location,Yk());return t.storage.makeRequestWithTokens(e,p0).then(n=>{if(n===null)throw q9();return n})}function Dz(t){t._throwIfRoot("deleteObject");const e=bz(t.storage,t._location);return t.storage.makeRequestWithTokens(e,p0)}function Oz(t,e){const n=mz(t._location.path,e),r=new Nn(t._location.bucket,n);return new zo(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mz(t){return/^[A-Za-z]+:\/\//.test(t)}function Vz(t,e){return new zo(t,e)}function tN(t,e){if(t instanceof m0){const n=t;if(n._bucket==null)throw $9();const r=new zo(n,n._bucket);return e!=null?tN(r,e):r}else return e!==void 0?Oz(t,e):t}function Lz(t,e){if(e&&Mz(e)){if(t instanceof m0)return Vz(t,e);throw Lv("To use ref(service, url), the first argument must be a Storage instance.")}else return tN(t,e)}function YI(t,e){const n=e==null?void 0:e[$k];return n==null?null:Nn.makeFromBucketSpec(n,t)}function jz(t,e,n,r={}){t.host=`${e}:${n}`;const s=Bi(e);s&&(p_(`https://${t.host}/b`),m_("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:gR(i,t.app.options.projectId))}class m0{constructor(e,n,r,s,i,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._isUsingEmulator=o,this._bucket=null,this._host=Bk,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=k9,this._maxUploadRetryTime=N9,this._requests=new Set,s!=null?this._bucket=Nn.makeFromBucketSpec(s,this._host):this._bucket=YI(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Nn.makeFromBucketSpec(this._url,e):this._bucket=YI(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){QI("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){QI("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new zo(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new K9(zk());{const o=sz(e,this._appId,r,s,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const XI="@firebase/storage",JI="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN="storage";function Fz(t,e,n){return t=He(t),kz(t,e,n)}function Uz(t){return t=He(t),Nz(t)}function Bz(t){return t=He(t),Dz(t)}function $z(t,e){return t=He(t),Lz(t,e)}function zz(t=qp(),e){t=He(t);const r=$i(t,nN).getImmediate({identifier:e}),s=fR("storage");return s&&qz(r,...s),r}function qz(t,e,n,r={}){jz(t,e,n,r)}function Hz(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new m0(n,r,s,e,ea)}function Wz(){_r(new Zn(nN,Hz,"PUBLIC").setMultipleInstances(!0)),En(XI,JI,""),En(XI,JI,"esm2020")}Wz();var Kz="firebase",Gz="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */En(Kz,Gz,"app");function rN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Qz=rN,sN=new Zo("auth","Firebase",rN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp=new zp("@firebase/auth");function Yz(t,...e){tp.logLevel<=Ee.WARN&&tp.warn(`Auth (${ea}): ${t}`,...e)}function Yh(t,...e){tp.logLevel<=Ee.ERROR&&tp.error(`Auth (${ea}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(t,...e){throw g0(t,...e)}function Hr(t,...e){return g0(t,...e)}function iN(t,e,n){const r={...Qz(),[e]:n};return new Zo("auth","Firebase",r).create(e,{appName:t.name})}function Ci(t){return iN(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function g0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return sN.create(t,...e)}function de(t,e,...n){if(!t)throw g0(e,...n)}function cs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Yh(e),new Error(e)}function Ts(t,e){t||cs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jv(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function Xz(){return ZI()==="http:"||ZI()==="https:"}function ZI(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jz(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Xz()||g_()||"connection"in navigator)?navigator.onLine:!0}function Zz(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ts(n>e,"Short delay should be less than long delay!"),this.isMobile=I6()||S6()}get(){return Jz()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(t,e){Ts(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;cs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;cs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;cs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e8={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t8=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],n8=new gd(3e4,6e4);function sa(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Hi(t,e,n,r,s={}){return aN(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=od({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...i};return b6()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Bi(t.emulatorConfig.host)&&(c.credentials="include"),oN.fetch()(await lN(t,t.config.apiHost,n,a),c)})}async function aN(t,e,n){t._canInitEmulator=!1;const r={...e8,...e};try{const s=new s8(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw dh(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw dh(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw dh(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw dh(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw iN(t,d,c);xr(t,d)}}catch(s){if(s instanceof In)throw s;xr(t,"network-request-failed",{message:String(s)})}}async function pm(t,e,n,r,s={}){const i=await Hi(t,e,n,r,s);return"mfaPendingCredential"in i&&xr(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function lN(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?y0(t.config,s):`${t.config.apiScheme}://${s}`;return t8.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function r8(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class s8{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Hr(this.auth,"network-request-failed")),n8.get())})}}function dh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Hr(t,e,r);return s.customData._tokenResponse=n,s}function e1(t){return t!==void 0&&t.enterprise!==void 0}class i8{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return r8(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function o8(t,e){return Hi(t,"GET","/v2/recaptchaConfig",sa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a8(t,e){return Hi(t,"POST","/v1/accounts:delete",e)}async function np(t,e){return Hi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function l8(t,e=!1){const n=He(t),r=await n.getIdToken(e),s=v0(r);de(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:ou(Fg(s.auth_time)),issuedAtTime:ou(Fg(s.iat)),expirationTime:ou(Fg(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Fg(t){return Number(t)*1e3}function v0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Yh("JWT malformed, contained fewer than 3 sections"),null;try{const s=uR(n);return s?JSON.parse(s):(Yh("Failed to decode base64 JWT payload"),null)}catch(s){return Yh("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function t1(t){const e=v0(t);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof In&&c8(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function c8({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u8{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ou(this.lastLoginAt),this.creationTime=ou(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rp(t){var f;const e=t.auth,n=await t.getIdToken(),r=await Wu(t,np(e,{idToken:n}));de(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(f=s.providerUserInfo)!=null&&f.length?cN(s.providerUserInfo):[],o=h8(t.providerData,i),a=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),c=a?l:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Fv(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function d8(t){const e=He(t);await rp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function h8(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function cN(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f8(t,e){const n=await aN(t,{},async()=>{const r=od({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await lN(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Bi(t.emulatorConfig.host)&&(l.credentials="include"),oN.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function p8(t,e){return Hi(t,"POST","/v2/accounts:revokeToken",sa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):t1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){de(e.length!==0,"internal-error");const n=t1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(de(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await f8(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Qa;return r&&(de(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(de(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(de(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qa,this.toJSON())}_performRefresh(){return cs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zs(t,e){de(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class fr{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new u8(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Fv(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Wu(this,this.stsTokenManager.getToken(this.auth,e));return de(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return l8(this,e)}reload(){return d8(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new fr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await rp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Hn(this.auth.app))return Promise.reject(Ci(this.auth));const e=await this.getIdToken();return await Wu(this,a8(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:f,emailVerified:p,isAnonymous:m,providerData:I,stsTokenManager:y}=n;de(f&&y,e,"internal-error");const T=Qa.fromJSON(this.name,y);de(typeof f=="string",e,"internal-error"),zs(r,e.name),zs(s,e.name),de(typeof p=="boolean",e,"internal-error"),de(typeof m=="boolean",e,"internal-error"),zs(i,e.name),zs(o,e.name),zs(a,e.name),zs(l,e.name),zs(c,e.name),zs(d,e.name);const x=new fr({uid:f,auth:e,email:s,emailVerified:p,displayName:r,isAnonymous:m,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:T,createdAt:c,lastLoginAt:d});return I&&Array.isArray(I)&&(x.providerData=I.map(v=>({...v}))),l&&(x._redirectEventId=l),x}static async _fromIdTokenResponse(e,n,r=!1){const s=new Qa;s.updateFromServerResponse(n);const i=new fr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await rp(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];de(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?cN(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Qa;a.updateFromIdToken(r);const l=new fr({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Fv(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1=new Map;function us(t){Ts(t instanceof Function,"Expected a class definition");let e=n1.get(t);return e?(Ts(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,n1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}uN.type="NONE";const r1=uN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xh(t,e,n){return`firebase:${t}:${e}:${n}`}class Ya{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Xh(this.userKey,s.apiKey,i),this.fullPersistenceKey=Xh("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await np(this.auth,{idToken:e}).catch(()=>{});return n?fr._fromGetAccountInfoResponse(this.auth,n,e):null}return fr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ya(us(r1),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||us(r1);const o=Xh(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){let f;if(typeof d=="string"){const p=await np(e,{idToken:d}).catch(()=>{});if(!p)break;f=await fr._fromGetAccountInfoResponse(e,p,d)}else f=fr._fromJSON(e,d);c!==i&&(a=f),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Ya(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new Ya(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(pN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(dN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(gN(e))return"Blackberry";if(yN(e))return"Webos";if(hN(e))return"Safari";if((e.includes("chrome/")||fN(e))&&!e.includes("edge/"))return"Chrome";if(mN(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function dN(t=Ct()){return/firefox\//i.test(t)}function hN(t=Ct()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fN(t=Ct()){return/crios\//i.test(t)}function pN(t=Ct()){return/iemobile/i.test(t)}function mN(t=Ct()){return/android/i.test(t)}function gN(t=Ct()){return/blackberry/i.test(t)}function yN(t=Ct()){return/webos/i.test(t)}function w0(t=Ct()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function m8(t=Ct()){var e;return w0(t)&&!!((e=window.navigator)!=null&&e.standalone)}function g8(){return C6()&&document.documentMode===10}function vN(t=Ct()){return w0(t)||mN(t)||yN(t)||gN(t)||/windows phone/i.test(t)||pN(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wN(t,e=[]){let n;switch(t){case"Browser":n=s1(Ct());break;case"Worker":n=`${s1(Ct())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ea}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y8{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v8(t,e={}){return Hi(t,"GET","/v2/passwordPolicy",sa(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w8=6;class _8{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??w8,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x8{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new i1(this),this.idTokenSubscription=new i1(this),this.beforeStateQueue=new y8(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=us(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Ya.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await np(this,{idToken:e}),r=await fr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Hn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await rp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Zz()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Hn(this.app))return Promise.reject(Ci(this));const n=e?He(e):null;return n&&de(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Hn(this.app)?Promise.reject(Ci(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Hn(this.app)?Promise.reject(Ci(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(us(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await v8(this),n=new _8(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Zo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await p8(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&us(e)||this._popupRedirectResolver;de(n,this,"argument-error"),this.redirectPersistenceManager=await Ya.create(this,[us(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&Yz(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function ql(t){return He(t)}class i1{constructor(e){this.auth=e,this.observer=null,this.addObserver=N6(n=>this.observer=n)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function E8(t){mm=t}function _N(t){return mm.loadJS(t)}function T8(){return mm.recaptchaEnterpriseScript}function I8(){return mm.gapiScript}function b8(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class S8{constructor(){this.enterprise=new C8}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class C8{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const A8="recaptcha-enterprise",xN="NO_RECAPTCHA";class R8{constructor(e){this.type=A8,this.auth=ql(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{o8(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new i8(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;e1(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(xN)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new S8().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&e1(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=T8();l.length!==0&&(l+=a),_N(l).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function o1(t,e,n,r=!1,s=!1){const i=new R8(t);let o;if(s)o=xN;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function a1(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await o1(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await o1(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P8(t,e){const n=$i(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Di(i,e??{}))return s;xr(s,"already-initialized")}return n.initialize({options:e})}function k8(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(us);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function N8(t,e,n){const r=ql(t);de(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=EN(e),{host:o,port:a}=D8(e),l=a===null?"":`:${a}`,c={url:`${i}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){de(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),de(Di(c,r.config.emulator)&&Di(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Bi(o)?(p_(`${i}//${o}${l}`),m_("Auth",!0)):O8()}function EN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function D8(t){const e=EN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:l1(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:l1(o)}}}function l1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function O8(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return cs("not implemented")}_getIdTokenResponse(e){return cs("not implemented")}_linkToIdToken(e,n){return cs("not implemented")}_getReauthenticationResolver(e){return cs("not implemented")}}async function M8(t,e){return Hi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V8(t,e){return pm(t,"POST","/v1/accounts:signInWithPassword",sa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L8(t,e){return pm(t,"POST","/v1/accounts:signInWithEmailLink",sa(t,e))}async function j8(t,e){return pm(t,"POST","/v1/accounts:signInWithEmailLink",sa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku extends _0{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Ku(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ku(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return a1(e,n,"signInWithPassword",V8);case"emailLink":return L8(e,{email:this._email,oobCode:this._password});default:xr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return a1(e,r,"signUpPassword",M8);case"emailLink":return j8(e,{idToken:n,email:this._email,oobCode:this._password});default:xr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xa(t,e){return pm(t,"POST","/v1/accounts:signInWithIdp",sa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F8="http://localhost";class qo extends _0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new qo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):xr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new qo(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Xa(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Xa(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Xa(e,n)}buildRequest(){const e={requestUri:F8,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=od(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U8(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function B8(t){const e=Ac(Rc(t)).link,n=e?Ac(Rc(e)).deep_link_id:null,r=Ac(Rc(t)).deep_link_id;return(r?Ac(Rc(r)).link:null)||r||n||e||t}class x0{constructor(e){const n=Ac(Rc(e)),r=n.apiKey??null,s=n.oobCode??null,i=U8(n.mode??null);de(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=B8(e);try{return new x0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(){this.providerId=Hl.PROVIDER_ID}static credential(e,n){return Ku._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=x0.parseLink(n);return de(r,"argument-error"),Ku._fromEmailAndCode(e,r.code,r.tenantId)}}Hl.PROVIDER_ID="password";Hl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Hl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd extends TN{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends yd{constructor(){super("facebook.com")}static credential(e){return qo._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zs.credential(e.oauthAccessToken)}catch{return null}}}Zs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei extends yd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return qo._fromParams({providerId:ei.PROVIDER_ID,signInMethod:ei.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ei.credentialFromTaggedObject(e)}static credentialFromError(e){return ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ei.credential(n,r)}catch{return null}}}ei.GOOGLE_SIGN_IN_METHOD="google.com";ei.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti extends yd{constructor(){super("github.com")}static credential(e){return qo._fromParams({providerId:ti.PROVIDER_ID,signInMethod:ti.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ti.credentialFromTaggedObject(e)}static credentialFromError(e){return ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ti.credential(e.oauthAccessToken)}catch{return null}}}ti.GITHUB_SIGN_IN_METHOD="github.com";ti.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni extends yd{constructor(){super("twitter.com")}static credential(e,n){return qo._fromParams({providerId:ni.PROVIDER_ID,signInMethod:ni.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ni.credentialFromTaggedObject(e)}static credentialFromError(e){return ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ni.credential(n,r)}catch{return null}}}ni.TWITTER_SIGN_IN_METHOD="twitter.com";ni.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await fr._fromIdTokenResponse(e,r,s),o=c1(r);return new kl({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=c1(r);return new kl({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function c1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp extends In{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,sp.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new sp(e,n,r,s)}}function IN(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?sp._fromErrorAndOperation(t,i,e,r):i})}async function $8(t,e,n=!1){const r=await Wu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return kl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z8(t,e,n=!1){const{auth:r}=t;if(Hn(r.app))return Promise.reject(Ci(r));const s="reauthenticate";try{const i=await Wu(t,IN(r,s,e,t),n);de(i.idToken,r,"internal-error");const o=v0(i.idToken);de(o,r,"internal-error");const{sub:a}=o;return de(t.uid===a,r,"user-mismatch"),kl._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&xr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bN(t,e,n=!1){if(Hn(t.app))return Promise.reject(Ci(t));const r="signIn",s=await IN(t,r,e),i=await kl._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function q8(t,e){return bN(ql(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H8(t){const e=ql(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function W8(t,e,n){return Hn(t.app)?Promise.reject(Ci(t)):q8(He(t),Hl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&H8(t),r})}function K8(t,e,n,r){return He(t).onIdTokenChanged(e,n,r)}function G8(t,e,n){return He(t).beforeAuthStateChanged(e,n)}function Q8(t,e,n,r){return He(t).onAuthStateChanged(e,n,r)}function u1(t){return He(t).signOut()}const ip="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ip,"1"),this.storage.removeItem(ip),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y8=1e3,X8=10;class CN extends SN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);g8()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,X8):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Y8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}CN.type="LOCAL";const J8=CN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN extends SN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}AN.type="SESSION";const RN=AN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z8(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new gm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await Z8(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e7{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=E0("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const p=f;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(){return window}function t7(t){Wr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(){return typeof Wr().WorkerGlobalScope<"u"&&typeof Wr().importScripts=="function"}async function n7(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function r7(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function s7(){return PN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN="firebaseLocalStorageDb",i7=1,op="firebaseLocalStorage",NN="fbase_key";class vd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ym(t,e){return t.transaction([op],e?"readwrite":"readonly").objectStore(op)}function o7(){const t=indexedDB.deleteDatabase(kN);return new vd(t).toPromise()}function Uv(){const t=indexedDB.open(kN,i7);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(op,{keyPath:NN})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(op)?e(r):(r.close(),await o7(),e(await Uv()))})})}async function d1(t,e,n){const r=ym(t,!0).put({[NN]:e,value:n});return new vd(r).toPromise()}async function a7(t,e){const n=ym(t,!1).get(e),r=await new vd(n).toPromise();return r===void 0?null:r.value}function h1(t,e){const n=ym(t,!0).delete(e);return new vd(n).toPromise()}const l7=800,c7=3;class DN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Uv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>c7)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return PN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gm._getInstance(s7()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await n7(),!this.activeServiceWorker)return;this.sender=new e7(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||r7()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Uv();return await d1(e,ip,"1"),await h1(e,ip),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>d1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>a7(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>h1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=ym(s,!1).getAll();return new vd(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),l7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}DN.type="LOCAL";const u7=DN;new gd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d7(t,e){return e?us(e):(de(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0 extends _0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Xa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Xa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function h7(t){return bN(t.auth,new T0(t),t.bypassAuthState)}function f7(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),z8(n,new T0(t),t.bypassAuthState)}async function p7(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),$8(n,new T0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return h7;case"linkViaPopup":case"linkViaRedirect":return p7;case"reauthViaPopup":case"reauthViaRedirect":return f7;default:xr(this.auth,"internal-error")}}resolve(e){Ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m7=new gd(2e3,1e4);class ja extends ON{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,ja.currentPopupAction&&ja.currentPopupAction.cancel(),ja.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return de(e,this.auth,"internal-error"),e}async onExecution(){Ts(this.filter.length===1,"Popup operations only handle one event");const e=E0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Hr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Hr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ja.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,m7.get())};e()}}ja.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g7="pendingRedirect",Jh=new Map;class y7 extends ON{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Jh.get(this.auth._key());if(!e){try{const r=await v7(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Jh.set(this.auth._key(),e)}return this.bypassAuthState||Jh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function v7(t,e){const n=x7(e),r=_7(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function w7(t,e){Jh.set(t._key(),e)}function _7(t){return us(t._redirectPersistence)}function x7(t){return Xh(g7,t.config.apiKey,t.name)}async function E7(t,e,n=!1){if(Hn(t.app))return Promise.reject(Ci(t));const r=ql(t),s=d7(r,e),o=await new y7(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T7=10*60*1e3;class I7{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!b7(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!MN(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Hr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=T7&&this.cachedEventUids.clear(),this.cachedEventUids.has(f1(e))}saveEventToCache(e){this.cachedEventUids.add(f1(e)),this.lastProcessedEventTime=Date.now()}}function f1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function MN({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function b7(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return MN(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S7(t,e={}){return Hi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C7=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,A7=/^https?/;async function R7(t){if(t.config.emulator)return;const{authorizedDomains:e}=await S7(t);for(const n of e)try{if(P7(n))return}catch{}xr(t,"unauthorized-domain")}function P7(t){const e=jv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!A7.test(n))return!1;if(C7.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k7=new gd(3e4,6e4);function p1(){const t=Wr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function N7(t){return new Promise((e,n)=>{var s,i,o;function r(){p1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{p1(),n(Hr(t,"network-request-failed"))},timeout:k7.get()})}if((i=(s=Wr().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=Wr().gapi)!=null&&o.load)r();else{const a=b8("iframefcb");return Wr()[a]=()=>{gapi.load?r():n(Hr(t,"network-request-failed"))},_N(`${I8()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Zh=null,e})}let Zh=null;function D7(t){return Zh=Zh||N7(t),Zh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O7=new gd(5e3,15e3),M7="__/auth/iframe",V7="emulator/auth/iframe",L7={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},j7=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function F7(t){const e=t.config;de(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?y0(e,V7):`https://${t.config.authDomain}/${M7}`,r={apiKey:e.apiKey,appName:t.name,v:ea},s=j7.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${od(r).slice(1)}`}async function U7(t){const e=await D7(t),n=Wr().gapi;return de(n,t,"internal-error"),e.open({where:document.body,url:F7(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:L7,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Hr(t,"network-request-failed"),a=Wr().setTimeout(()=>{i(o)},O7.get());function l(){Wr().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B7={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$7=500,z7=600,q7="_blank",H7="http://localhost";class m1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function W7(t,e,n,r=$7,s=z7){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...B7,width:r.toString(),height:s.toString(),top:i,left:o},c=Ct().toLowerCase();n&&(a=fN(c)?q7:n),dN(c)&&(e=e||H7,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[m,I])=>`${p}${m}=${I},`,"");if(m8(c)&&a!=="_self")return K7(e||"",a),new m1(null);const f=window.open(e||"",a,d);de(f,t,"popup-blocked");try{f.focus()}catch{}return new m1(f)}function K7(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G7="__/auth/handler",Q7="emulator/auth/handler",Y7=encodeURIComponent("fac");async function g1(t,e,n,r,s,i){de(t.config.authDomain,t,"auth-domain-config-required"),de(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ea,eventId:s};if(e instanceof TN){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",k6(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof yd){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${Y7}=${encodeURIComponent(l)}`:"";return`${X7(t)}?${od(a).slice(1)}${c}`}function X7({config:t}){return t.emulator?y0(t,Q7):`https://${t.authDomain}/${G7}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ug="webStorageSupport";class J7{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=RN,this._completeRedirectFn=E7,this._overrideRedirectResult=w7}async _openPopup(e,n,r,s){var o;Ts((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await g1(e,n,r,jv(),s);return W7(e,i,E0())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await g1(e,n,r,jv(),s);return t7(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Ts(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await U7(e),r=new I7(e);return n.register("authEvent",s=>(de(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ug,{type:Ug},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[Ug];i!==void 0&&n(!!i),xr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=R7(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return vN()||hN()||w0()}}const Z7=J7;var y1="@firebase/auth",v1="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eq{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tq(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nq(t){_r(new Zn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;de(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wN(t)},c=new x8(r,s,i,l);return k8(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),_r(new Zn("auth-internal",e=>{const n=ql(e.getProvider("auth").getImmediate());return(r=>new eq(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),En(y1,v1,tq(t)),En(y1,v1,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rq=5*60,sq=mR("authIdTokenMaxAge")||rq;let w1=null;const iq=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>sq)return;const s=n==null?void 0:n.token;w1!==s&&(w1=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function oq(t=qp()){const e=$i(t,"auth");if(e.isInitialized())return e.getImmediate();const n=P8(t,{popupRedirectResolver:Z7,persistence:[u7,J8,RN]}),r=mR("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=iq(i.toString());G8(n,o,()=>o(n.currentUser)),K8(n,a=>o(a))}}const s=hR("auth");return s&&N8(n,`http://${s}`),n}function aq(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}E8({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Hr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",aq().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});nq("Browser");const VN="@firebase/installations",I0="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN=1e4,jN=`w:${I0}`,FN="FIS_v2",lq="https://firebaseinstallations.googleapis.com/v1",cq=60*60*1e3,uq="installations",dq="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hq={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ho=new Zo(uq,dq,hq);function UN(t){return t instanceof In&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BN({projectId:t}){return`${lq}/projects/${t}/installations`}function $N(t){return{token:t.token,requestStatus:2,expiresIn:pq(t.expiresIn),creationTime:Date.now()}}async function zN(t,e){const r=(await e.json()).error;return Ho.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function qN({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function fq(t,{refreshToken:e}){const n=qN(t);return n.append("Authorization",mq(e)),n}async function HN(t){const e=await t();return e.status>=500&&e.status<600?t():e}function pq(t){return Number(t.replace("s","000"))}function mq(t){return`${FN} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gq({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=BN(t),s=qN(t),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={fid:n,authVersion:FN,appId:t.appId,sdkVersion:jN},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await HN(()=>fetch(r,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:$N(c.authToken)}}else throw await zN("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WN(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yq(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vq=/^[cdef][\w-]{21}$/,Bv="";function wq(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=_q(t);return vq.test(n)?n:Bv}catch{return Bv}}function _q(t){return yq(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN=new Map;function GN(t,e){const n=vm(t);QN(n,e),xq(n,e)}function QN(t,e){const n=KN.get(t);if(n)for(const r of n)r(e)}function xq(t,e){const n=Eq();n&&n.postMessage({key:t,fid:e}),Tq()}let mo=null;function Eq(){return!mo&&"BroadcastChannel"in self&&(mo=new BroadcastChannel("[Firebase] FID Change"),mo.onmessage=t=>{QN(t.data.key,t.data.fid)}),mo}function Tq(){KN.size===0&&mo&&(mo.close(),mo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iq="firebase-installations-database",bq=1,Wo="firebase-installations-store";let Bg=null;function b0(){return Bg||(Bg=TR(Iq,bq,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Wo)}}})),Bg}async function ap(t,e){const n=vm(t),s=(await b0()).transaction(Wo,"readwrite"),i=s.objectStore(Wo),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&GN(t,e.fid),e}async function YN(t){const e=vm(t),r=(await b0()).transaction(Wo,"readwrite");await r.objectStore(Wo).delete(e),await r.done}async function wm(t,e){const n=vm(t),s=(await b0()).transaction(Wo,"readwrite"),i=s.objectStore(Wo),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&GN(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S0(t){let e;const n=await wm(t.appConfig,r=>{const s=Sq(r),i=Cq(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===Bv?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function Sq(t){const e=t||{fid:wq(),registrationStatus:0};return XN(e)}function Cq(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Ho.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Aq(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Rq(t)}:{installationEntry:e}}async function Aq(t,e){try{const n=await gq(t,e);return ap(t.appConfig,n)}catch(n){throw UN(n)&&n.customData.serverCode===409?await YN(t.appConfig):await ap(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function Rq(t){let e=await _1(t.appConfig);for(;e.registrationStatus===1;)await WN(100),e=await _1(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await S0(t);return r||n}return e}function _1(t){return wm(t,e=>{if(!e)throw Ho.create("installation-not-found");return XN(e)})}function XN(t){return Pq(t)?{fid:t.fid,registrationStatus:0}:t}function Pq(t){return t.registrationStatus===1&&t.registrationTime+LN<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kq({appConfig:t,heartbeatServiceProvider:e},n){const r=Nq(t,n),s=fq(t,n),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={installation:{sdkVersion:jN,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await HN(()=>fetch(r,a));if(l.ok){const c=await l.json();return $N(c)}else throw await zN("Generate Auth Token",l)}function Nq(t,{fid:e}){return`${BN(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C0(t,e=!1){let n;const r=await wm(t.appConfig,i=>{if(!JN(i))throw Ho.create("not-registered");const o=i.authToken;if(!e&&Mq(o))return i;if(o.requestStatus===1)return n=Dq(t,e),i;{if(!navigator.onLine)throw Ho.create("app-offline");const a=Lq(i);return n=Oq(t,a),a}});return n?await n:r.authToken}async function Dq(t,e){let n=await x1(t.appConfig);for(;n.authToken.requestStatus===1;)await WN(100),n=await x1(t.appConfig);const r=n.authToken;return r.requestStatus===0?C0(t,e):r}function x1(t){return wm(t,e=>{if(!JN(e))throw Ho.create("not-registered");const n=e.authToken;return jq(n)?{...e,authToken:{requestStatus:0}}:e})}async function Oq(t,e){try{const n=await kq(t,e),r={...e,authToken:n};return await ap(t.appConfig,r),n}catch(n){if(UN(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await YN(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await ap(t.appConfig,r)}throw n}}function JN(t){return t!==void 0&&t.registrationStatus===2}function Mq(t){return t.requestStatus===2&&!Vq(t)}function Vq(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+cq}function Lq(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function jq(t){return t.requestStatus===1&&t.requestTime+LN<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fq(t){const e=t,{installationEntry:n,registrationPromise:r}=await S0(e);return r?r.catch(console.error):C0(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uq(t,e=!1){const n=t;return await Bq(n),(await C0(n,e)).token}async function Bq(t){const{registrationPromise:e}=await S0(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $q(t){if(!t||!t.options)throw $g("App Configuration");if(!t.name)throw $g("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw $g(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function $g(t){return Ho.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN="installations",zq="installations-internal",qq=t=>{const e=t.getProvider("app").getImmediate(),n=$q(e),r=$i(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Hq=t=>{const e=t.getProvider("app").getImmediate(),n=$i(e,ZN).getImmediate();return{getId:()=>Fq(n),getToken:s=>Uq(n,s)}};function Wq(){_r(new Zn(ZN,qq,"PUBLIC")),_r(new Zn(zq,Hq,"PRIVATE"))}Wq();En(VN,I0);En(VN,I0,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp="analytics",Kq="firebase_id",Gq="origin",Qq=60*1e3,Yq="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",A0="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tn=new zp("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xq={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Mn=new Zo("analytics","Analytics",Xq);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jq(t){if(!t.startsWith(A0)){const e=Mn.create("invalid-gtag-resource",{gtagURL:t});return Tn.warn(e.message),""}return t}function e2(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Zq(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function eH(t,e){const n=Zq("firebase-js-sdk-policy",{createScriptURL:Jq}),r=document.createElement("script"),s=`${A0}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function tH(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function nH(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const l=(await e2(n)).find(c=>c.measurementId===s);l&&await e[l.appId]}}catch(a){Tn.error(a)}t("config",s,i)}async function rH(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await e2(n);for(const l of o){const c=a.find(f=>f.measurementId===l),d=c&&e[c.appId];if(d)i.push(d);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){Tn.error(i)}}function sH(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[a,l]=o;await rH(t,e,n,a,l)}else if(i==="config"){const[a,l]=o;await nH(t,e,n,r,a,l)}else if(i==="consent"){const[a,l]=o;t("consent",a,l)}else if(i==="get"){const[a,l,c]=o;t("get",a,l,c)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){Tn.error(a)}}return s}function iH(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=sH(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function oH(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(A0)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aH=30,lH=1e3;class cH{constructor(e={},n=lH){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const t2=new cH;function uH(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function dH(t){var o;const{appId:e,apiKey:n}=t,r={method:"GET",headers:uH(n)},s=Yq.replace("{app-id}",e),i=await fetch(s,r);if(i.status!==200&&i.status!==304){let a="";try{const l=await i.json();(o=l.error)!=null&&o.message&&(a=l.error.message)}catch{}throw Mn.create("config-fetch-failed",{httpStatus:i.status,responseMessage:a})}return i.json()}async function hH(t,e=t2,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw Mn.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw Mn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new mH;return setTimeout(async()=>{a.abort()},Qq),n2({appId:r,apiKey:s,measurementId:i},o,a,e)}async function n2(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=t2){var a;const{appId:i,measurementId:o}=t;try{await fH(r,e)}catch(l){if(o)return Tn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:i,measurementId:o};throw l}try{const l=await dH(t);return s.deleteThrottleMetadata(i),l}catch(l){const c=l;if(!pH(c)){if(s.deleteThrottleMetadata(i),o)return Tn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:i,measurementId:o};throw l}const d=Number((a=c==null?void 0:c.customData)==null?void 0:a.httpStatus)===503?fT(n,s.intervalMillis,aH):fT(n,s.intervalMillis),f={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return s.setThrottleMetadata(i,f),Tn.debug(`Calling attemptFetch again in ${d} millis`),n2(t,f,r,s)}}function fH(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(Mn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function pH(t){if(!(t instanceof In)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class mH{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function gH(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o={...r,send_to:i};t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yH(){if($p())try{await y_()}catch(t){return Tn.warn(Mn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Tn.warn(Mn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function vH(t,e,n,r,s,i,o){const a=hH(t);a.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&Tn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>Tn.error(p)),e.push(a);const l=yH().then(p=>{if(p)return r.getId()}),[c,d]=await Promise.all([a,l]);oH(i)||eH(i,c.measurementId),s("js",new Date);const f=(o==null?void 0:o.config)??{};return f[Gq]="firebase",f.update=!0,d!=null&&(f[Kq]=d),s("config",c.measurementId,f),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wH{constructor(e){this.app=e}_delete(){return delete au[this.app.options.appId],Promise.resolve()}}let au={},E1=[];const T1={};let zg="dataLayer",_H="gtag",I1,r2,b1=!1;function xH(){const t=[];if(g_()&&t.push("This is a browser extension environment."),_R()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=Mn.create("invalid-analytics-context",{errorInfo:e});Tn.warn(n.message)}}function EH(t,e,n){xH();const r=t.options.appId;if(!r)throw Mn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Tn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Mn.create("no-api-key");if(au[r]!=null)throw Mn.create("already-exists",{id:r});if(!b1){tH(zg);const{wrappedGtag:i,gtagCore:o}=iH(au,E1,T1,zg,_H);r2=i,I1=o,b1=!0}return au[r]=vH(t,E1,T1,e,I1,zg,n),new wH(t)}function TH(t=qp()){t=He(t);const e=$i(t,lp);return e.isInitialized()?e.getImmediate():IH(t)}function IH(t,e={}){const n=$i(t,lp);if(n.isInitialized()){const s=n.getImmediate();if(Di(e,n.getOptions()))return s;throw Mn.create("already-initialized")}return n.initialize({options:e})}async function bH(){if(g_()||!_R()||!$p())return!1;try{return await y_()}catch{return!1}}function SH(t,e,n,r){t=He(t),gH(r2,au[t.app.options.appId],e,n,r).catch(s=>Tn.error(s))}const S1="@firebase/analytics",C1="0.10.18";function CH(){_r(new Zn(lp,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return EH(r,s,n)},"PUBLIC")),_r(new Zn("analytics-internal",t,"PRIVATE")),En(S1,C1),En(S1,C1,"esm2020");function t(e){try{const n=e.getProvider(lp).getImmediate();return{logEvent:(r,s,i)=>SH(n,r,s,i)}}catch(n){throw Mn.create("interop-component-reg-failed",{reason:n})}}}CH();const AH={apiKey:"AIzaSyCIbi9qMOuqwi06mTp-mys6rBWUwLHJGRw",authDomain:"naranjos-f5bb2.firebaseapp.com",projectId:"naranjos-f5bb2",storageBucket:"naranjos-f5bb2.firebasestorage.app",messagingSenderId:"248090807811",appId:"1:248090807811:web:931572e1260e7e1b728836",measurementId:"G-22NR47G0W4"},_m=IR(AH);bH().then(t=>t?TH(_m):null);const Mc=u9(_m);(async()=>{try{await d9(Mc)}catch{}})();const hh=oq(_m),RH=zz(_m),Vc=100,fh="registrations",s2=_.createContext(void 0),PH=(t,e)=>{const n=e.createdAt;let r=new Date().toISOString();if(typeof n=="string")r=n;else if(n&&typeof n=="object"&&"toDate"in n)try{r=n.toDate().toISOString()}catch(s){console.warn("Failed to parse createdAt timestamp",s)}return{id:t,createdAt:r,dorsal:String(e.dorsal??""),status:e.status??"pending",nombre:String(e.nombre??""),dni:String(e.dni??""),nacimiento:String(e.nacimiento??""),email:String(e.email??""),telefono:String(e.telefono??""),club:String(e.club??""),distancia:String(e.distancia??""),sexo:String(e.sexo??""),categoria:String(e.categoria??""),emergenciaNombre:String(e.emergenciaNombre??""),emergenciaTel:String(e.emergenciaTel??""),medico:String(e.medico??""),banco:String(e.banco??""),monto:String(e.monto??""),referencia:String(e.referencia??""),tallaCamisa:String(e.tallaCamisa??""),comprobanteNombre:e.comprobanteNombre?String(e.comprobanteNombre):null,comprobanteUrl:e.comprobanteUrl?String(e.comprobanteUrl):null,comprobantePath:e.comprobantePath?String(e.comprobantePath):null,checkedInAt:(()=>{const s=e.checkedInAt;if(!s)return null;if(typeof s=="string")return s;if(typeof s=="object"&&"toDate"in s)try{return s.toDate().toISOString()}catch(i){return console.warn("Failed to parse checkedInAt timestamp",i),null}return null})(),checkedInBy:e.checkedInBy?String(e.checkedInBy):null}},kH=t=>{if(!t.length)return"001";const e=t.map(r=>parseInt(r.dorsal,10)).filter(r=>Number.isFinite(r)).sort((r,s)=>s-r)[0]??0,n=Math.min(e+1,Vc);return String(n).padStart(3,"0")},NH=({children:t})=>{const[e,n]=_.useState([]),[r,s]=_.useState(!0),[i,o]=_.useState(null);_.useEffect(()=>{const p=T9(UI(Mc,fh),I9("createdAt","desc")),m=R9(p,I=>{const y=I.docs.map(T=>PH(T.id,T.data()));y.sort((T,x)=>new Date(x.createdAt).getTime()-new Date(T.createdAt).getTime()),n(y),s(!1),o(null)},I=>{console.error("Error al obtener inscripciones",I),o("No se pudieron cargar las inscripciones."),s(!1)});return()=>m()},[]);const a=_.useCallback(async p=>{if(e.length>=Vc)throw new Error("No hay cupos disponibles");const m=kH(e),I=Date.now();let y=null,T=null,x=null,v;try{p.comprobanteFile&&(x=p.comprobanteFile.name,y=`comprobantes/${m}-${I}-${x}`,v=$z(RH,y),await Fz(v,p.comprobanteFile),T=await Uz(v));const w={nombre:p.nombre,dni:p.dni,nacimiento:p.nacimiento,email:p.email,telefono:p.telefono,club:p.club,distancia:p.distancia,sexo:p.sexo,categoria:p.categoria,emergenciaNombre:p.emergenciaNombre,emergenciaTel:p.emergenciaTel,medico:p.medico,banco:p.banco,monto:p.monto,referencia:p.referencia,tallaCamisa:p.tallaCamisa,comprobanteNombre:x,comprobanteUrl:T,comprobantePath:y,checkedInAt:null,checkedInBy:null,dorsal:m,status:"pending",createdAt:KI()};return{id:(await A9(UI(Mc,fh),w)).id,...w,createdAt:new Date().toISOString()}}catch(w){if(v)try{await Bz(v)}catch(C){console.warn("No se pudo limpiar el comprobante subido",C)}throw w}},[e]),l=_.useCallback(async(p,m,I={})=>{const y=Mv(Mc,fh,p);await Vg(y,{status:m,...I})},[]),c=_.useCallback(async(p,m,I)=>{const y=Mv(Mc,fh,p);m?await Vg(y,{checkedInAt:KI(),checkedInBy:I}):await Vg(y,{checkedInAt:null,checkedInBy:null})},[]),d=_.useMemo(()=>{const p=e.length,m=e.filter(v=>v.status==="pending").length,I=e.filter(v=>v.status==="validated").length,y=e.filter(v=>v.status==="rejected").length,T=e.filter(v=>v.checkedInAt!==null).length,x=Math.max(Vc-p,0);return{total:p,pending:m,validated:I,rejected:y,remaining:x,max:Vc,capacityFull:p>=Vc,checkedIn:T}},[e]),f=_.useMemo(()=>({registrations:e,stats:d,isLoading:r,error:i,addRegistration:a,updateRegistrationStatus:l,toggleCheckIn:c}),[e,d,r,i,a,l,c]);return h.jsx(s2.Provider,{value:f,children:t})},R0=()=>{const t=_.useContext(s2);if(!t)throw new Error("useRegistrations debe usarse dentro de RegistrationProvider");return t},DH=()=>{const t=new Date("2025-10-12T07:00:00-06:00"),{stats:e,isLoading:n}=R0(),r=new Date<new Date("2025-10-04T23:59:59-06:00"),s=e.capacityFull,i=!r||s||n,o=[{distance:"800m",categories:["Infantiles B (11-12)","Juveniles A (13-14)","Masters"],icon:"🏊‍♀️"},{distance:"2km",categories:["Juveniles B (15-17)","20-30","30-40","40+"],icon:"🏊‍♂️"},{distance:"5km",categories:["Juveniles B (15-17)","20-30","30-40","40+"],icon:"🏆"}],a=[{icon:h.jsx(Ky,{className:"h-6 w-6"}),title:"Lago de Yojoa",description:"El lago natural más grande de Honduras"},{icon:h.jsx(DE,{className:"h-6 w-6"}),title:"12 de Octubre",description:"Evento deportivo y familiar"},{icon:h.jsx(Af,{className:"h-6 w-6"}),title:"Seguridad Total",description:"Salvavidas y paramédicos certificados"},{icon:h.jsx(Su,{className:"h-6 w-6"}),title:"Inscripción",description:"Costo: L 300. Por Participante Deposita en BAC Honduras 743657881 a nombre de CARLOS RENE CERRATO OSORIO."}];return h.jsxs("div",{className:"min-h-screen bg-background",children:[h.jsx(wi,{}),h.jsxs("section",{className:"relative h-[90vh] overflow-hidden",children:[h.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${f6})`},children:h.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/80 via-primary/60 to-transparent"})}),h.jsx("div",{className:"relative h-full flex items-center justify-center px-4",children:h.jsxs("div",{className:"text-center text-white max-w-4xl mx-auto",children:[h.jsx(Vf,{variant:"secondary",className:"mb-4 bg-white/20 text-white border-white/30",children:"12 de Octubre 2025"}),h.jsxs("h1",{className:"text-4xl md:text-6xl lg:text-7xl font-bold mb-6 tracking-tight",children:["Encuentro de Aguas Abiertas",h.jsx("span",{className:"block text-accent",children:"Los Naranjos"})]}),h.jsx("p",{className:"text-xl md:text-2xl mb-8 text-white/90 max-w-2xl mx-auto",children:"Una experiencia única en el Lago de Yojoa. Participa en este encuentro deportivo rodeado de la belleza natural de Honduras."}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mb-12",children:[h.jsx(on,{to:"/inscripcion",children:h.jsx($e,{size:"lg",className:"button-gradient shadow-button text-lg px-8 py-6 disabled:opacity-50",disabled:i,children:s?"Cupo Agotado":n?"Cargando cupos...":"Inscribirme Ahora"})}),h.jsx(on,{to:"/reglamento",children:h.jsxs($e,{size:"lg",variant:"outline",className:"text-lg px-8 py-6 bg-white/10 border-white/30 text-white hover:bg-white/20",children:[h.jsx($C,{className:"mr-2 h-5 w-5"}),"Ver Reglamento"]})})]}),h.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl p-6 mb-8",children:[h.jsx("h3",{className:"text-lg font-semibold mb-4 text-white",children:"Faltan para el evento:"}),h.jsx(s6,{targetDate:t})]}),h.jsx("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl p-6 max-w-md mx-auto",children:h.jsx(sv,{current:e.total,max:e.max})})]})})]}),h.jsx("section",{className:"py-16 px-4",children:h.jsx("div",{className:"max-w-7xl mx-auto",children:h.jsx("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:a.map((l,c)=>h.jsx(ke,{className:"card-gradient shadow-card hover:shadow-button transition-smooth",children:h.jsxs(Ne,{className:"text-center",children:[h.jsx("div",{className:"mx-auto mb-4 w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center text-primary",children:l.icon}),h.jsx(De,{className:"text-lg",children:l.title}),h.jsx(pn,{children:l.description})]})},c))})})}),h.jsx("section",{className:"py-16 px-4 bg-muted/30",children:h.jsxs("div",{className:"max-w-7xl mx-auto",children:[h.jsxs("div",{className:"text-center mb-12",children:[h.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-primary mb-4",children:"Distancias y Categorías"}),h.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Elige la distancia que mejor se adapte a tu nivel y experiencia"})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:o.map((l,c)=>h.jsxs(ke,{className:"card-gradient shadow-card hover:shadow-button transition-smooth",children:[h.jsxs(Ne,{className:"text-center",children:[h.jsx("div",{className:"text-4xl mb-4",children:l.icon}),h.jsx(De,{className:"text-2xl text-primary",children:l.distance})]}),h.jsx(rt,{children:h.jsx("div",{className:"space-y-2",children:l.categories.map((d,f)=>h.jsx(Vf,{variant:"secondary",className:"mr-2 mb-2",children:d},f))})})]},c))})]})}),h.jsx("section",{className:"py-16 px-4",children:h.jsx("div",{className:"max-w-7xl mx-auto",children:h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-primary mb-6",children:"Acerca del Evento"}),h.jsxs("div",{className:"space-y-4 text-muted-foreground",children:[h.jsxs("p",{className:"text-lg",children:["El ",h.jsx("strong",{children:"Encuentro de Aguas Abiertas Los Naranjos"})," es organizado por los Entrenadores de Natación San Pedro Sula, ofreciendo una experiencia única en las cristalinas aguas del Lago de Yojoa."]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Fecha:"})," 12 de octubre de 2025",h.jsx("br",{}),h.jsx("strong",{children:"Lugar:"})," Lago de Yojoa, Los Naranjos",h.jsx("br",{}),h.jsx("strong",{children:"Cupo:"})," 100 participantes",h.jsx("br",{}),h.jsx("strong",{children:"Costo de Inscripcion por participante:"})," Lps. 300.00",h.jsx("br",{})]})]}),h.jsx("div",{className:"mt-8",children:h.jsx("a",{href:"https://maps.app.goo.gl/qn5WW8wEpZQ9J7Jx6",target:"_blank",rel:"noopener noreferrer",children:h.jsxs($e,{variant:"outline",size:"lg",children:[h.jsx(Ky,{className:"mr-2 h-5 w-5"}),"Ver en Google Maps"]})})})]}),h.jsxs(ke,{className:"card-gradient shadow-card",children:[h.jsx(Ne,{children:h.jsx(De,{className:"text-2xl text-primary",children:"Información Importante"})}),h.jsxs(rt,{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx(DE,{className:"h-5 w-5 text-primary mt-0.5"}),h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold",children:"Cierre de inscripciones"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Sábado 4 de octubre de 2025 o al completar el cupo"})]})]}),h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx(Su,{className:"h-5 w-5 text-primary mt-0.5"}),h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold",children:"Seguridad"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Salvavidas certificados, embarcaciones de apoyo y equipo médico"})]})]})]})]})]})})}),h.jsx("footer",{className:"bg-primary text-primary-foreground py-12 px-4",children:h.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[h.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Encuentro de Aguas Abiertas Los Naranjos"}),h.jsx("p",{className:"text-primary-foreground/80 mb-6",children:"Organizado por Entrenadores de Natación San Pedro Sula"}),h.jsxs("div",{className:"flex justify-center gap-4",children:[h.jsx(on,{to:"/reglamento",children:h.jsx($e,{variant:"outline",className:"bg-transparent border-primary-foreground/20 text-primary-foreground hover:bg-primary-foreground/10",children:"Reglamento"})}),h.jsx(on,{to:"/inscripcion",children:h.jsx($e,{variant:"secondary",disabled:!r||s,children:s?"Cupo Agotado":"Inscribirme"})})]})]})})]})},tn=_.forwardRef(({className:t,type:e,...n},r)=>h.jsx("input",{type:e,className:Ue("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));tn.displayName="Input";var OH="Label",i2=_.forwardRef((t,e)=>h.jsx(Se.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));i2.displayName=OH;var o2=i2;const MH=Pp("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ye=_.forwardRef(({className:t,...e},n)=>h.jsx(o2,{ref:n,className:Ue(MH(),t),...e}));Ye.displayName=o2.displayName;function A1(t,[e,n]){return Math.min(n,Math.max(e,t))}var VH=_.createContext(void 0);function LH(t){const e=_.useContext(VH);return t||e||"ltr"}var qg=0;function jH(){_.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??R1()),document.body.insertAdjacentElement("beforeend",t[1]??R1()),qg++,()=>{qg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),qg--}},[])}function R1(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Hg="focusScope.autoFocusOnMount",Wg="focusScope.autoFocusOnUnmount",P1={bubbles:!1,cancelable:!0},FH="FocusScope",a2=_.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=_.useState(null),c=yr(s),d=yr(i),f=_.useRef(null),p=et(e,y=>l(y)),m=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(r){let y=function(w){if(m.paused||!a)return;const C=w.target;a.contains(C)?f.current=C:Hs(f.current,{select:!0})},T=function(w){if(m.paused||!a)return;const C=w.relatedTarget;C!==null&&(a.contains(C)||Hs(f.current,{select:!0}))},x=function(w){if(document.activeElement===document.body)for(const D of w)D.removedNodes.length>0&&Hs(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",T);const v=new MutationObserver(x);return a&&v.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",T),v.disconnect()}}},[r,a,m.paused]),_.useEffect(()=>{if(a){N1.add(m);const y=document.activeElement;if(!a.contains(y)){const x=new CustomEvent(Hg,P1);a.addEventListener(Hg,c),a.dispatchEvent(x),x.defaultPrevented||(UH(HH(l2(a)),{select:!0}),document.activeElement===y&&Hs(a))}return()=>{a.removeEventListener(Hg,c),setTimeout(()=>{const x=new CustomEvent(Wg,P1);a.addEventListener(Wg,d),a.dispatchEvent(x),x.defaultPrevented||Hs(y??document.body,{select:!0}),a.removeEventListener(Wg,d),N1.remove(m)},0)}}},[a,c,d,m]);const I=_.useCallback(y=>{if(!n&&!r||m.paused)return;const T=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,x=document.activeElement;if(T&&x){const v=y.currentTarget,[w,C]=BH(v);w&&C?!y.shiftKey&&x===C?(y.preventDefault(),n&&Hs(w,{select:!0})):y.shiftKey&&x===w&&(y.preventDefault(),n&&Hs(C,{select:!0})):x===v&&y.preventDefault()}},[n,r,m.paused]);return h.jsx(Se.div,{tabIndex:-1,...o,ref:p,onKeyDown:I})});a2.displayName=FH;function UH(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Hs(r,{select:e}),document.activeElement!==n)return}function BH(t){const e=l2(t),n=k1(e,t),r=k1(e.reverse(),t);return[n,r]}function l2(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function k1(t,e){for(const n of t)if(!$H(n,{upTo:e}))return n}function $H(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function zH(t){return t instanceof HTMLInputElement&&"select"in t}function Hs(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&zH(t)&&e&&t.select()}}var N1=qH();function qH(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=D1(t,e),t.unshift(e)},remove(e){var n;t=D1(t,e),(n=t[0])==null||n.resume()}}}function D1(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function HH(t){return t.filter(e=>e.tagName!=="A")}function c2(t){const e=_.useRef({value:t,previous:t});return _.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var WH=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},ya=new WeakMap,ph=new WeakMap,mh={},Kg=0,u2=function(t){return t&&(t.host||u2(t.parentNode))},KH=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=u2(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},GH=function(t,e,n,r){var s=KH(e,Array.isArray(t)?t:[t]);mh[n]||(mh[n]=new WeakMap);var i=mh[n],o=[],a=new Set,l=new Set(s),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};s.forEach(c);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(p){if(a.has(p))d(p);else try{var m=p.getAttribute(r),I=m!==null&&m!=="false",y=(ya.get(p)||0)+1,T=(i.get(p)||0)+1;ya.set(p,y),i.set(p,T),o.push(p),y===1&&I&&ph.set(p,!0),T===1&&p.setAttribute(n,"true"),I||p.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",p,x)}})};return d(e),a.clear(),Kg++,function(){o.forEach(function(f){var p=ya.get(f)-1,m=i.get(f)-1;ya.set(f,p),i.set(f,m),p||(ph.has(f)||f.removeAttribute(r),ph.delete(f)),m||f.removeAttribute(n)}),Kg--,Kg||(ya=new WeakMap,ya=new WeakMap,ph=new WeakMap,mh={})}},QH=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=WH(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),GH(r,s,n,"aria-hidden")):function(){return null}},Mr=function(){return Mr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Mr.apply(this,arguments)};function d2(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function YH(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var ef="right-scroll-bar-position",tf="width-before-scroll-bar",XH="with-scroll-bars-hidden",JH="--removed-body-scroll-bar-size";function Gg(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function ZH(t,e){var n=_.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var eW=typeof window<"u"?_.useLayoutEffect:_.useEffect,O1=new WeakMap;function tW(t,e){var n=ZH(null,function(r){return t.forEach(function(s){return Gg(s,r)})});return eW(function(){var r=O1.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Gg(a,null)}),i.forEach(function(a){s.has(a)||Gg(a,o)})}O1.set(n,t)},[t]),n}function nW(t){return t}function rW(t,e){e===void 0&&(e=nW);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var d=o;o=[],d.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return s}function sW(t){t===void 0&&(t={});var e=rW(null);return e.options=Mr({async:!0,ssr:!1},t),e}var h2=function(t){var e=t.sideCar,n=d2(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return _.createElement(r,Mr({},n))};h2.isSideCarExport=!0;function iW(t,e){return t.useMedium(e),h2}var f2=sW(),Qg=function(){},xm=_.forwardRef(function(t,e){var n=_.useRef(null),r=_.useState({onScrollCapture:Qg,onWheelCapture:Qg,onTouchMoveCapture:Qg}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,f=t.shards,p=t.sideCar,m=t.noRelative,I=t.noIsolation,y=t.inert,T=t.allowPinchZoom,x=t.as,v=x===void 0?"div":x,w=t.gapMode,C=d2(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=p,M=tW([n,e]),b=Mr(Mr({},C),s);return _.createElement(_.Fragment,null,d&&_.createElement(D,{sideCar:f2,removeScrollBar:c,shards:f,noRelative:m,noIsolation:I,inert:y,setCallbacks:i,allowPinchZoom:!!T,lockRef:n,gapMode:w}),o?_.cloneElement(_.Children.only(a),Mr(Mr({},b),{ref:M})):_.createElement(v,Mr({},b,{className:l,ref:M}),a))});xm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};xm.classNames={fullWidth:tf,zeroRight:ef};var oW=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function aW(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=oW();return e&&t.setAttribute("nonce",e),t}function lW(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function cW(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var uW=function(){var t=0,e=null;return{add:function(n){t==0&&(e=aW())&&(lW(e,n),cW(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},dW=function(){var t=uW();return function(e,n){_.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},p2=function(){var t=dW(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},hW={left:0,top:0,right:0,gap:0},Yg=function(t){return parseInt(t||"",10)||0},fW=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Yg(n),Yg(r),Yg(s)]},pW=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return hW;var e=fW(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},mW=p2(),Ja="data-scroll-locked",gW=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(XH,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Ja,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ef,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(tf,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(ef," .").concat(ef,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(tf," .").concat(tf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ja,`] {
    `).concat(JH,": ").concat(a,`px;
  }
`)},M1=function(){var t=parseInt(document.body.getAttribute(Ja)||"0",10);return isFinite(t)?t:0},yW=function(){_.useEffect(function(){return document.body.setAttribute(Ja,(M1()+1).toString()),function(){var t=M1()-1;t<=0?document.body.removeAttribute(Ja):document.body.setAttribute(Ja,t.toString())}},[])},vW=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;yW();var i=_.useMemo(function(){return pW(s)},[s]);return _.createElement(mW,{styles:gW(i,!e,s,n?"":"!important")})},$v=!1;if(typeof window<"u")try{var gh=Object.defineProperty({},"passive",{get:function(){return $v=!0,!0}});window.addEventListener("test",gh,gh),window.removeEventListener("test",gh,gh)}catch{$v=!1}var va=$v?{passive:!1}:!1,wW=function(t){return t.tagName==="TEXTAREA"},m2=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!wW(t)&&n[e]==="visible")},_W=function(t){return m2(t,"overflowY")},xW=function(t){return m2(t,"overflowX")},V1=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=g2(t,r);if(s){var i=y2(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},EW=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},TW=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},g2=function(t,e){return t==="v"?_W(e):xW(e)},y2=function(t,e){return t==="v"?EW(e):TW(e)},IW=function(t,e){return t==="h"&&e==="rtl"?-1:1},bW=function(t,e,n,r,s){var i=IW(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,d=o>0,f=0,p=0;do{if(!a)break;var m=y2(t,a),I=m[0],y=m[1],T=m[2],x=y-T-i*I;(I||x)&&g2(t,a)&&(f+=x,p+=I);var v=a.parentNode;a=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(p)<1||!s))&&(c=!0),c},yh=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},L1=function(t){return[t.deltaX,t.deltaY]},j1=function(t){return t&&"current"in t?t.current:t},SW=function(t,e){return t[0]===e[0]&&t[1]===e[1]},CW=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},AW=0,wa=[];function RW(t){var e=_.useRef([]),n=_.useRef([0,0]),r=_.useRef(),s=_.useState(AW++)[0],i=_.useState(p2)[0],o=_.useRef(t);_.useEffect(function(){o.current=t},[t]),_.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var y=YH([t.lockRef.current],(t.shards||[]).map(j1),!0).filter(Boolean);return y.forEach(function(T){return T.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(T){return T.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=_.useCallback(function(y,T){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var x=yh(y),v=n.current,w="deltaX"in y?y.deltaX:v[0]-x[0],C="deltaY"in y?y.deltaY:v[1]-x[1],D,M=y.target,b=Math.abs(w)>Math.abs(C)?"h":"v";if("touches"in y&&b==="h"&&M.type==="range")return!1;var S=V1(b,M);if(!S)return!0;if(S?D=b:(D=b==="v"?"h":"v",S=V1(b,M)),!S)return!1;if(!r.current&&"changedTouches"in y&&(w||C)&&(r.current=D),!D)return!0;var R=r.current||D;return bW(R,T,y,R==="h"?w:C,!0)},[]),l=_.useCallback(function(y){var T=y;if(!(!wa.length||wa[wa.length-1]!==i)){var x="deltaY"in T?L1(T):yh(T),v=e.current.filter(function(D){return D.name===T.type&&(D.target===T.target||T.target===D.shadowParent)&&SW(D.delta,x)})[0];if(v&&v.should){T.cancelable&&T.preventDefault();return}if(!v){var w=(o.current.shards||[]).map(j1).filter(Boolean).filter(function(D){return D.contains(T.target)}),C=w.length>0?a(T,w[0]):!o.current.noIsolation;C&&T.cancelable&&T.preventDefault()}}},[]),c=_.useCallback(function(y,T,x,v){var w={name:y,delta:T,target:x,should:v,shadowParent:PW(x)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(C){return C!==w})},1)},[]),d=_.useCallback(function(y){n.current=yh(y),r.current=void 0},[]),f=_.useCallback(function(y){c(y.type,L1(y),y.target,a(y,t.lockRef.current))},[]),p=_.useCallback(function(y){c(y.type,yh(y),y.target,a(y,t.lockRef.current))},[]);_.useEffect(function(){return wa.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",l,va),document.addEventListener("touchmove",l,va),document.addEventListener("touchstart",d,va),function(){wa=wa.filter(function(y){return y!==i}),document.removeEventListener("wheel",l,va),document.removeEventListener("touchmove",l,va),document.removeEventListener("touchstart",d,va)}},[]);var m=t.removeScrollBar,I=t.inert;return _.createElement(_.Fragment,null,I?_.createElement(i,{styles:CW(s)}):null,m?_.createElement(vW,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function PW(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const kW=iW(f2,RW);var v2=_.forwardRef(function(t,e){return _.createElement(xm,Mr({},t,{ref:e,sideCar:kW}))});v2.classNames=xm.classNames;var NW=[" ","Enter","ArrowUp","ArrowDown"],DW=[" ","Enter"],Ko="Select",[Em,Tm,OW]=dC(Ko),[Wl,RK]=Jo(Ko,[OW,Op]),Im=Op(),[MW,Wi]=Wl(Ko),[VW,LW]=Wl(Ko),w2=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:c,name:d,autoComplete:f,disabled:p,required:m,form:I}=t,y=Im(e),[T,x]=_.useState(null),[v,w]=_.useState(null),[C,D]=_.useState(!1),M=LH(c),[b,S]=Cf({prop:r,defaultProp:s??!1,onChange:i,caller:Ko}),[R,P]=Cf({prop:o,defaultProp:a,onChange:l,caller:Ko}),N=_.useRef(null),O=T?I||!!T.closest("form"):!0,[k,q]=_.useState(new Set),re=Array.from(k).map(te=>te.props.value).join(";");return h.jsx($F,{...y,children:h.jsxs(MW,{required:m,scope:e,trigger:T,onTriggerChange:x,valueNode:v,onValueNodeChange:w,valueNodeHasChildren:C,onValueNodeHasChildrenChange:D,contentId:Gw(),value:R,onValueChange:P,open:b,onOpenChange:S,dir:M,triggerPointerDownPosRef:N,disabled:p,children:[h.jsx(Em.Provider,{scope:e,children:h.jsx(VW,{scope:t.__scopeSelect,onNativeOptionAdd:_.useCallback(te=>{q(ie=>new Set(ie).add(te))},[]),onNativeOptionRemove:_.useCallback(te=>{q(ie=>{const U=new Set(ie);return U.delete(te),U})},[]),children:n})}),O?h.jsxs(z2,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:R,onChange:te=>P(te.target.value),disabled:p,form:I,children:[R===void 0?h.jsx("option",{value:""}):null,Array.from(k)]},re):null]})})};w2.displayName=Ko;var _2="SelectTrigger",x2=_.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=Im(n),o=Wi(_2,n),a=o.disabled||r,l=et(e,o.onTriggerChange),c=Tm(n),d=_.useRef("touch"),[f,p,m]=H2(y=>{const T=c().filter(w=>!w.disabled),x=T.find(w=>w.value===o.value),v=W2(T,y,x);v!==void 0&&o.onValueChange(v.value)}),I=y=>{a||(o.onOpenChange(!0),m()),y&&(o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return h.jsx(EA,{asChild:!0,...i,children:h.jsx(Se.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":q2(o.value)?"":void 0,...s,ref:l,onClick:ve(s.onClick,y=>{y.currentTarget.focus(),d.current!=="mouse"&&I(y)}),onPointerDown:ve(s.onPointerDown,y=>{d.current=y.pointerType;const T=y.target;T.hasPointerCapture(y.pointerId)&&T.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(I(y),y.preventDefault())}),onKeyDown:ve(s.onKeyDown,y=>{const T=f.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&p(y.key),!(T&&y.key===" ")&&NW.includes(y.key)&&(I(),y.preventDefault())})})})});x2.displayName=_2;var E2="SelectValue",T2=_.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=Wi(E2,n),{onValueNodeHasChildrenChange:c}=l,d=i!==void 0,f=et(e,l.onValueNodeChange);return Ut(()=>{c(d)},[c,d]),h.jsx(Se.span,{...a,ref:f,style:{pointerEvents:"none"},children:q2(l.value)?h.jsx(h.Fragment,{children:o}):i})});T2.displayName=E2;var jW="SelectIcon",I2=_.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return h.jsx(Se.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});I2.displayName=jW;var FW="SelectPortal",b2=t=>h.jsx(zw,{asChild:!0,...t});b2.displayName=FW;var Go="SelectContent",S2=_.forwardRef((t,e)=>{const n=Wi(Go,t.__scopeSelect),[r,s]=_.useState();if(Ut(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Xo.createPortal(h.jsx(C2,{scope:t.__scopeSelect,children:h.jsx(Em.Slot,{scope:t.__scopeSelect,children:h.jsx("div",{children:t.children})})}),i):null}return h.jsx(A2,{...t,ref:e})});S2.displayName=Go;var ir=10,[C2,Ki]=Wl(Go),UW="SelectContentImpl",BW=bu("SelectContent.RemoveScroll"),A2=_.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:m,sticky:I,hideWhenDetached:y,avoidCollisions:T,...x}=t,v=Wi(Go,n),[w,C]=_.useState(null),[D,M]=_.useState(null),b=et(e,J=>C(J)),[S,R]=_.useState(null),[P,N]=_.useState(null),O=Tm(n),[k,q]=_.useState(!1),re=_.useRef(!1);_.useEffect(()=>{if(w)return QH(w)},[w]),jH();const te=_.useCallback(J=>{const[Ce,...We]=O().map(Ie=>Ie.ref.current),[Ae]=We.slice(-1),xe=document.activeElement;for(const Ie of J)if(Ie===xe||(Ie==null||Ie.scrollIntoView({block:"nearest"}),Ie===Ce&&D&&(D.scrollTop=0),Ie===Ae&&D&&(D.scrollTop=D.scrollHeight),Ie==null||Ie.focus(),document.activeElement!==xe))return},[O,D]),ie=_.useCallback(()=>te([S,w]),[te,S,w]);_.useEffect(()=>{k&&ie()},[k,ie]);const{onOpenChange:U,triggerPointerDownPosRef:$}=v;_.useEffect(()=>{if(w){let J={x:0,y:0};const Ce=Ae=>{var xe,Ie;J={x:Math.abs(Math.round(Ae.pageX)-(((xe=$.current)==null?void 0:xe.x)??0)),y:Math.abs(Math.round(Ae.pageY)-(((Ie=$.current)==null?void 0:Ie.y)??0))}},We=Ae=>{J.x<=10&&J.y<=10?Ae.preventDefault():w.contains(Ae.target)||U(!1),document.removeEventListener("pointermove",Ce),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",Ce),document.addEventListener("pointerup",We,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ce),document.removeEventListener("pointerup",We,{capture:!0})}}},[w,U,$]),_.useEffect(()=>{const J=()=>U(!1);return window.addEventListener("blur",J),window.addEventListener("resize",J),()=>{window.removeEventListener("blur",J),window.removeEventListener("resize",J)}},[U]);const[j,H]=H2(J=>{const Ce=O().filter(xe=>!xe.disabled),We=Ce.find(xe=>xe.ref.current===document.activeElement),Ae=W2(Ce,J,We);Ae&&setTimeout(()=>Ae.ref.current.focus())}),X=_.useCallback((J,Ce,We)=>{const Ae=!re.current&&!We;(v.value!==void 0&&v.value===Ce||Ae)&&(R(J),Ae&&(re.current=!0))},[v.value]),ae=_.useCallback(()=>w==null?void 0:w.focus(),[w]),le=_.useCallback((J,Ce,We)=>{const Ae=!re.current&&!We;(v.value!==void 0&&v.value===Ce||Ae)&&N(J)},[v.value]),we=r==="popper"?zv:R2,ce=we===zv?{side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:m,sticky:I,hideWhenDetached:y,avoidCollisions:T}:{};return h.jsx(C2,{scope:n,content:w,viewport:D,onViewportChange:M,itemRefCallback:X,selectedItem:S,onItemLeave:ae,itemTextRefCallback:le,focusSelectedItem:ie,selectedItemText:P,position:r,isPositioned:k,searchRef:j,children:h.jsx(v2,{as:BW,allowPinchZoom:!0,children:h.jsx(a2,{asChild:!0,trapped:v.open,onMountAutoFocus:J=>{J.preventDefault()},onUnmountAutoFocus:ve(s,J=>{var Ce;(Ce=v.trigger)==null||Ce.focus({preventScroll:!0}),J.preventDefault()}),children:h.jsx(Sp,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:J=>J.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:h.jsx(we,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:J=>J.preventDefault(),...x,...ce,onPlaced:()=>q(!0),ref:b,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:ve(x.onKeyDown,J=>{const Ce=J.ctrlKey||J.altKey||J.metaKey;if(J.key==="Tab"&&J.preventDefault(),!Ce&&J.key.length===1&&H(J.key),["ArrowUp","ArrowDown","Home","End"].includes(J.key)){let Ae=O().filter(xe=>!xe.disabled).map(xe=>xe.ref.current);if(["ArrowUp","End"].includes(J.key)&&(Ae=Ae.slice().reverse()),["ArrowUp","ArrowDown"].includes(J.key)){const xe=J.target,Ie=Ae.indexOf(xe);Ae=Ae.slice(Ie+1)}setTimeout(()=>te(Ae)),J.preventDefault()}})})})})})})});A2.displayName=UW;var $W="SelectItemAlignedPosition",R2=_.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=Wi(Go,n),o=Ki(Go,n),[a,l]=_.useState(null),[c,d]=_.useState(null),f=et(e,b=>d(b)),p=Tm(n),m=_.useRef(!1),I=_.useRef(!0),{viewport:y,selectedItem:T,selectedItemText:x,focusSelectedItem:v}=o,w=_.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&c&&y&&T&&x){const b=i.trigger.getBoundingClientRect(),S=c.getBoundingClientRect(),R=i.valueNode.getBoundingClientRect(),P=x.getBoundingClientRect();if(i.dir!=="rtl"){const xe=P.left-S.left,Ie=R.left-xe,gt=b.left-Ie,Xt=b.width+gt,Jr=Math.max(Xt,S.width),Un=window.innerWidth-ir,er=A1(Ie,[ir,Math.max(ir,Un-Jr)]);a.style.minWidth=Xt+"px",a.style.left=er+"px"}else{const xe=S.right-P.right,Ie=window.innerWidth-R.right-xe,gt=window.innerWidth-b.right-Ie,Xt=b.width+gt,Jr=Math.max(Xt,S.width),Un=window.innerWidth-ir,er=A1(Ie,[ir,Math.max(ir,Un-Jr)]);a.style.minWidth=Xt+"px",a.style.right=er+"px"}const N=p(),O=window.innerHeight-ir*2,k=y.scrollHeight,q=window.getComputedStyle(c),re=parseInt(q.borderTopWidth,10),te=parseInt(q.paddingTop,10),ie=parseInt(q.borderBottomWidth,10),U=parseInt(q.paddingBottom,10),$=re+te+k+U+ie,j=Math.min(T.offsetHeight*5,$),H=window.getComputedStyle(y),X=parseInt(H.paddingTop,10),ae=parseInt(H.paddingBottom,10),le=b.top+b.height/2-ir,we=O-le,ce=T.offsetHeight/2,J=T.offsetTop+ce,Ce=re+te+J,We=$-Ce;if(Ce<=le){const xe=N.length>0&&T===N[N.length-1].ref.current;a.style.bottom="0px";const Ie=c.clientHeight-y.offsetTop-y.offsetHeight,gt=Math.max(we,ce+(xe?ae:0)+Ie+ie),Xt=Ce+gt;a.style.height=Xt+"px"}else{const xe=N.length>0&&T===N[0].ref.current;a.style.top="0px";const gt=Math.max(le,re+y.offsetTop+(xe?X:0)+ce)+We;a.style.height=gt+"px",y.scrollTop=Ce-le+y.offsetTop}a.style.margin=`${ir}px 0`,a.style.minHeight=j+"px",a.style.maxHeight=O+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[p,i.trigger,i.valueNode,a,c,y,T,x,i.dir,r]);Ut(()=>w(),[w]);const[C,D]=_.useState();Ut(()=>{c&&D(window.getComputedStyle(c).zIndex)},[c]);const M=_.useCallback(b=>{b&&I.current===!0&&(w(),v==null||v(),I.current=!1)},[w,v]);return h.jsx(qW,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:M,children:h.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:h.jsx(Se.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});R2.displayName=$W;var zW="SelectPopperPosition",zv=_.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=ir,...i}=t,o=Im(n);return h.jsx(TA,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});zv.displayName=zW;var[qW,P0]=Wl(Go,{}),qv="SelectViewport",P2=_.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=Ki(qv,n),o=P0(qv,n),a=et(e,i.onViewportChange),l=_.useRef(0);return h.jsxs(h.Fragment,{children:[h.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),h.jsx(Em.Slot,{scope:n,children:h.jsx(Se.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ve(s.onScroll,c=>{const d=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&f){const m=Math.abs(l.current-d.scrollTop);if(m>0){const I=window.innerHeight-ir*2,y=parseFloat(f.style.minHeight),T=parseFloat(f.style.height),x=Math.max(y,T);if(x<I){const v=x+m,w=Math.min(I,v),C=v-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=C>0?C:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});P2.displayName=qv;var k2="SelectGroup",[HW,WW]=Wl(k2),KW=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Gw();return h.jsx(HW,{scope:n,id:s,children:h.jsx(Se.div,{role:"group","aria-labelledby":s,...r,ref:e})})});KW.displayName=k2;var N2="SelectLabel",D2=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=WW(N2,n);return h.jsx(Se.div,{id:s.id,...r,ref:e})});D2.displayName=N2;var cp="SelectItem",[GW,O2]=Wl(cp),M2=_.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=Wi(cp,n),l=Ki(cp,n),c=a.value===r,[d,f]=_.useState(i??""),[p,m]=_.useState(!1),I=et(e,v=>{var w;return(w=l.itemRefCallback)==null?void 0:w.call(l,v,r,s)}),y=Gw(),T=_.useRef("touch"),x=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return h.jsx(GW,{scope:n,value:r,disabled:s,textId:y,isSelected:c,onItemTextChange:_.useCallback(v=>{f(w=>w||((v==null?void 0:v.textContent)??"").trim())},[]),children:h.jsx(Em.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:h.jsx(Se.div,{role:"option","aria-labelledby":y,"data-highlighted":p?"":void 0,"aria-selected":c&&p,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:I,onFocus:ve(o.onFocus,()=>m(!0)),onBlur:ve(o.onBlur,()=>m(!1)),onClick:ve(o.onClick,()=>{T.current!=="mouse"&&x()}),onPointerUp:ve(o.onPointerUp,()=>{T.current==="mouse"&&x()}),onPointerDown:ve(o.onPointerDown,v=>{T.current=v.pointerType}),onPointerMove:ve(o.onPointerMove,v=>{var w;T.current=v.pointerType,s?(w=l.onItemLeave)==null||w.call(l):T.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ve(o.onPointerLeave,v=>{var w;v.currentTarget===document.activeElement&&((w=l.onItemLeave)==null||w.call(l))}),onKeyDown:ve(o.onKeyDown,v=>{var C;((C=l.searchRef)==null?void 0:C.current)!==""&&v.key===" "||(DW.includes(v.key)&&x(),v.key===" "&&v.preventDefault())})})})})});M2.displayName=cp;var Lc="SelectItemText",V2=_.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=Wi(Lc,n),a=Ki(Lc,n),l=O2(Lc,n),c=LW(Lc,n),[d,f]=_.useState(null),p=et(e,x=>f(x),l.onItemTextChange,x=>{var v;return(v=a.itemTextRefCallback)==null?void 0:v.call(a,x,l.value,l.disabled)}),m=d==null?void 0:d.textContent,I=_.useMemo(()=>h.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:y,onNativeOptionRemove:T}=c;return Ut(()=>(y(I),()=>T(I)),[y,T,I]),h.jsxs(h.Fragment,{children:[h.jsx(Se.span,{id:l.textId,...i,ref:p}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Xo.createPortal(i.children,o.valueNode):null]})});V2.displayName=Lc;var L2="SelectItemIndicator",j2=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return O2(L2,n).isSelected?h.jsx(Se.span,{"aria-hidden":!0,...r,ref:e}):null});j2.displayName=L2;var Hv="SelectScrollUpButton",F2=_.forwardRef((t,e)=>{const n=Ki(Hv,t.__scopeSelect),r=P0(Hv,t.__scopeSelect),[s,i]=_.useState(!1),o=et(e,r.onScrollButtonChange);return Ut(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;i(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?h.jsx(B2,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});F2.displayName=Hv;var Wv="SelectScrollDownButton",U2=_.forwardRef((t,e)=>{const n=Ki(Wv,t.__scopeSelect),r=P0(Wv,t.__scopeSelect),[s,i]=_.useState(!1),o=et(e,r.onScrollButtonChange);return Ut(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;i(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?h.jsx(B2,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});U2.displayName=Wv;var B2=_.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=Ki("SelectScrollButton",n),o=_.useRef(null),a=Tm(n),l=_.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return _.useEffect(()=>()=>l(),[l]),Ut(()=>{var d;const c=a().find(f=>f.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),h.jsx(Se.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:ve(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:ve(s.onPointerMove,()=>{var c;(c=i.onItemLeave)==null||c.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:ve(s.onPointerLeave,()=>{l()})})}),QW="SelectSeparator",$2=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return h.jsx(Se.div,{"aria-hidden":!0,...r,ref:e})});$2.displayName=QW;var Kv="SelectArrow",YW=_.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Im(n),i=Wi(Kv,n),o=Ki(Kv,n);return i.open&&o.position==="popper"?h.jsx(IA,{...s,...r,ref:e}):null});YW.displayName=Kv;var XW="SelectBubbleInput",z2=_.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=_.useRef(null),i=et(r,s),o=c2(e);return _.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&d){const f=new Event("change",{bubbles:!0});d.call(a,e),a.dispatchEvent(f)}},[o,e]),h.jsx(Se.select,{...n,style:{...gC,...n.style},ref:i,defaultValue:e})});z2.displayName=XW;function q2(t){return t===""||t===void 0}function H2(t){const e=yr(t),n=_.useRef(""),r=_.useRef(0),s=_.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=_.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return _.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function W2(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=JW(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function JW(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var ZW=w2,K2=x2,eK=T2,tK=I2,nK=b2,G2=S2,rK=P2,Q2=D2,Y2=M2,sK=V2,iK=j2,X2=F2,J2=U2,Z2=$2;const vh=ZW,wh=eK,jc=_.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(K2,{ref:r,className:Ue("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,h.jsx(tK,{asChild:!0,children:h.jsx(UC,{className:"h-4 w-4 opacity-50"})})]}));jc.displayName=K2.displayName;const eD=_.forwardRef(({className:t,...e},n)=>h.jsx(X2,{ref:n,className:Ue("flex cursor-default items-center justify-center py-1",t),...e,children:h.jsx(ZV,{className:"h-4 w-4"})}));eD.displayName=X2.displayName;const tD=_.forwardRef(({className:t,...e},n)=>h.jsx(J2,{ref:n,className:Ue("flex cursor-default items-center justify-center py-1",t),...e,children:h.jsx(UC,{className:"h-4 w-4"})}));tD.displayName=J2.displayName;const Fc=_.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>h.jsx(nK,{children:h.jsxs(G2,{ref:s,className:Ue("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[h.jsx(eD,{}),h.jsx(rK,{className:Ue("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),h.jsx(tD,{})]})}));Fc.displayName=G2.displayName;const oK=_.forwardRef(({className:t,...e},n)=>h.jsx(Q2,{ref:n,className:Ue("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));oK.displayName=Q2.displayName;const Ws=_.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(Y2,{ref:r,className:Ue("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(iK,{children:h.jsx(FC,{className:"h-4 w-4"})})}),h.jsx(sK,{children:e})]}));Ws.displayName=Y2.displayName;const aK=_.forwardRef(({className:t,...e},n)=>h.jsx(Z2,{ref:n,className:Ue("-mx-1 my-1 h-px bg-muted",t),...e}));aK.displayName=Z2.displayName;const nD=_.forwardRef(({className:t,...e},n)=>h.jsx("textarea",{className:Ue("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));nD.displayName="Textarea";var bm="Checkbox",[lK,PK]=Jo(bm),[cK,k0]=lK(bm);function uK(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:s,disabled:i,form:o,name:a,onCheckedChange:l,required:c,value:d="on",internal_do_not_use_render:f}=t,[p,m]=Cf({prop:n,defaultProp:s??!1,onChange:l,caller:bm}),[I,y]=_.useState(null),[T,x]=_.useState(null),v=_.useRef(!1),w=I?!!o||!!I.closest("form"):!0,C={checked:p,disabled:i,setChecked:m,control:I,setControl:y,name:a,form:o,value:d,hasConsumerStoppedPropagationRef:v,required:c,defaultChecked:Ai(s)?!1:s,isFormControl:w,bubbleInput:T,setBubbleInput:x};return h.jsx(cK,{scope:e,...C,children:dK(f)?f(C):r})}var rD="CheckboxTrigger",sD=_.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},s)=>{const{control:i,value:o,disabled:a,checked:l,required:c,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:p,isFormControl:m,bubbleInput:I}=k0(rD,t),y=et(s,d),T=_.useRef(l);return _.useEffect(()=>{const x=i==null?void 0:i.form;if(x){const v=()=>f(T.current);return x.addEventListener("reset",v),()=>x.removeEventListener("reset",v)}},[i,f]),h.jsx(Se.button,{type:"button",role:"checkbox","aria-checked":Ai(l)?"mixed":l,"aria-required":c,"data-state":cD(l),"data-disabled":a?"":void 0,disabled:a,value:o,...r,ref:y,onKeyDown:ve(e,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:ve(n,x=>{f(v=>Ai(v)?!0:!v),I&&m&&(p.current=x.isPropagationStopped(),p.current||x.stopPropagation())})})});sD.displayName=rD;var N0=_.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:o,disabled:a,value:l,onCheckedChange:c,form:d,...f}=t;return h.jsx(uK,{__scopeCheckbox:n,checked:s,defaultChecked:i,disabled:a,required:o,onCheckedChange:c,name:r,form:d,value:l,internal_do_not_use_render:({isFormControl:p})=>h.jsxs(h.Fragment,{children:[h.jsx(sD,{...f,ref:e,__scopeCheckbox:n}),p&&h.jsx(lD,{__scopeCheckbox:n})]})})});N0.displayName=bm;var iD="CheckboxIndicator",oD=_.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...s}=t,i=k0(iD,n);return h.jsx(Cp,{present:r||Ai(i.checked)||i.checked===!0,children:h.jsx(Se.span,{"data-state":cD(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});oD.displayName=iD;var aD="CheckboxBubbleInput",lD=_.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:o,required:a,disabled:l,name:c,value:d,form:f,bubbleInput:p,setBubbleInput:m}=k0(aD,t),I=et(n,m),y=c2(i),T=hA(r);_.useEffect(()=>{const v=p;if(!v)return;const w=window.HTMLInputElement.prototype,D=Object.getOwnPropertyDescriptor(w,"checked").set,M=!s.current;if(y!==i&&D){const b=new Event("click",{bubbles:M});v.indeterminate=Ai(i),D.call(v,Ai(i)?!1:i),v.dispatchEvent(b)}},[p,y,i,s]);const x=_.useRef(Ai(i)?!1:i);return h.jsx(Se.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??x.current,required:a,disabled:l,name:c,value:d,form:f,...e,tabIndex:-1,ref:I,style:{...e.style,...T,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});lD.displayName=aD;function dK(t){return typeof t=="function"}function Ai(t){return t==="indeterminate"}function cD(t){return Ai(t)?"indeterminate":t?"checked":"unchecked"}const uD=_.forwardRef(({className:t,...e},n)=>h.jsx(N0,{ref:n,className:Ue("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:h.jsx(oD,{className:Ue("flex items-center justify-center text-current"),children:h.jsx(FC,{className:"h-4 w-4"})})}));uD.displayName=N0.displayName;const hK=()=>{const{toast:t}=$w(),{addRegistration:e,stats:n,isLoading:r}=R0(),[s,i]=_.useState(!1),[o,a]=_.useState(!1),l=n.total,c=n.max,d=new Date<new Date("2025-10-04T23:59:59-06:00"),f=n.capacityFull,p=r,[m,I]=_.useState({nombre:"",dni:"",nacimiento:"",email:"",telefono:"",club:"",distancia:"",sexo:"",emergenciaNombre:"",emergenciaTel:"",medico:"",banco:"",monto:"",referencia:"",tallaCamisa:"",comprobante:null}),y=["BAC Honduras"],T=["14","16","XS","S","M","L","XL","XXL"],x=(w,C)=>{if(!w||!C)return"";const D=new Date(w),b=new Date("2025-10-12").getFullYear()-D.getFullYear();return C==="800m"?b>=11&&b<=12?"Infantiles B (11-12)":b>=13&&b<=14?"Juveniles A (13-14)":"Masters":b>=15&&b<=17?"Juveniles B (15-17)":b>=18&&b<=30?"20-30":b>=31&&b<=40?"30-40":"40+"},v=async w=>{if(w.preventDefault(),!o){t({variant:"destructive",title:"Error",description:"Debes aceptar el reglamento para continuar"});return}if(!m.tallaCamisa){t({variant:"destructive",title:"Error",description:"Selecciona la talla de camisa."});return}if(!d){t({variant:"destructive",title:"Inscripciones cerradas",description:"El período de inscripciones ha terminado"});return}if(!navigator.onLine){t({variant:"destructive",title:"Sin conexión",description:"Verifica tu conexión a internet antes de continuar."});return}if(p){t({title:"Cargando información",description:"Espera a que se actualice la disponibilidad de cupos antes de continuar."});return}if(f){t({variant:"destructive",title:"Cupo agotado",description:"Ya no hay cupos disponibles para este evento"});return}i(!0);try{const C=x(m.nacimiento,m.distancia);if(!C){t({variant:"destructive",title:"Error",description:"No pudimos determinar tu categoría. Verifica tu fecha de nacimiento y distancia."});return}const D=await e({nombre:m.nombre.trim(),dni:m.dni.trim(),nacimiento:m.nacimiento,email:m.email.trim(),telefono:m.telefono.trim(),club:m.club.trim(),distancia:m.distancia,sexo:m.sexo,categoria:C,emergenciaNombre:m.emergenciaNombre.trim(),emergenciaTel:m.emergenciaTel.trim(),medico:m.medico.trim(),banco:m.banco,monto:m.monto.trim(),referencia:m.referencia.trim(),tallaCamisa:m.tallaCamisa,comprobanteFile:m.comprobante});t({title:"¡Inscripción registrada!",description:"Te contactaremos para validar tu pago."}),I({nombre:"",dni:"",nacimiento:"",email:"",telefono:"",club:"",distancia:"",sexo:"",emergenciaNombre:"",emergenciaTel:"",medico:"",banco:"",monto:"",referencia:"",tallaCamisa:"",comprobante:null}),a(!1)}catch(C){let D="No se pudo procesar tu inscripción. Intenta nuevamente.";C instanceof In?C.code.includes("network")||C.code==="unavailable"?D="No pudimos conectar con el servidor. Verifica tu conexión a internet e intenta nuevamente.":C.code==="storage/unauthorized"?D="No tienes permisos para subir el comprobante. Contacta al administrador.":D=C.message:C instanceof Error&&(D=C.message==="No hay cupos disponibles"?"Ya no hay cupos disponibles para este evento.":C.message),t({variant:"destructive",title:"Error",description:D})}finally{i(!1)}};return!d&&!f?h.jsxs("div",{className:"min-h-screen bg-background",children:[h.jsx(wi,{}),h.jsx("div",{className:"max-w-2xl mx-auto px-4 py-16",children:h.jsxs(ke,{className:"text-center",children:[h.jsxs(Ne,{children:[h.jsx(OE,{className:"h-16 w-16 text-destructive mx-auto mb-4"}),h.jsx(De,{className:"text-2xl",children:"Inscripciones Cerradas"}),h.jsx(pn,{className:"text-lg",children:"El período de inscripciones terminó el 4 de octubre de 2025"})]}),h.jsx(rt,{children:h.jsx(on,{to:"/",children:h.jsxs($e,{children:[h.jsx(Oh,{className:"mr-2 h-4 w-4"}),"Volver al inicio"]})})})]})})]}):f?h.jsxs("div",{className:"min-h-screen bg-background",children:[h.jsx(wi,{}),h.jsx("div",{className:"max-w-2xl mx-auto px-4 py-16",children:h.jsxs(ke,{className:"text-center",children:[h.jsxs(Ne,{children:[h.jsx(OE,{className:"h-16 w-16 text-destructive mx-auto mb-4"}),h.jsx(De,{className:"text-2xl",children:"Cupo Agotado"}),h.jsx(pn,{className:"text-lg",children:"Ya no hay cupos disponibles para este evento"})]}),h.jsxs(rt,{children:[h.jsx(sv,{current:l,max:c,className:"mb-6"}),h.jsx(on,{to:"/",children:h.jsxs($e,{children:[h.jsx(Oh,{className:"mr-2 h-4 w-4"}),"Volver al inicio"]})})]})]})})]}):h.jsxs("div",{className:"min-h-screen bg-background",children:[h.jsx(wi,{}),h.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[h.jsx("div",{className:"mb-8",children:h.jsx(on,{to:"/",children:h.jsxs($e,{variant:"ghost",children:[h.jsx(Oh,{className:"mr-2 h-4 w-4"}),"Volver al inicio"]})})}),h.jsx(ke,{className:"card-gradient shadow-card mb-8",children:h.jsxs(Ne,{className:"text-center",children:[h.jsx(De,{className:"text-3xl text-primary",children:"Formulario de Inscripción"}),h.jsx(pn,{className:"text-lg",children:"Completa todos los campos para inscribirte al Encuentro de Aguas Abiertas Los Naranjos"}),h.jsx(sv,{current:l,max:c,className:"mt-4"})]})}),h.jsxs("form",{onSubmit:v,className:"space-y-8",children:[h.jsxs(ke,{className:"card-gradient shadow-card",children:[h.jsx(Ne,{children:h.jsx(De,{className:"text-xl text-primary",children:"Datos Personales"})}),h.jsxs(rt,{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Ye,{htmlFor:"nombre",children:"Nombre Completo *"}),h.jsx(tn,{id:"nombre",value:m.nombre,onChange:w=>I(C=>({...C,nombre:w.target.value})),required:!0,placeholder:"Tu nombre completo"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Ye,{htmlFor:"dni",children:"Identidad/DNI *"}),h.jsx(tn,{id:"dni",value:m.dni,onChange:w=>I(C=>({...C,dni:w.target.value})),required:!0,placeholder:"0801-1990-12345"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Ye,{htmlFor:"nacimiento",children:"Fecha de Nacimiento *"}),h.jsx(tn,{id:"nacimiento",type:"date",value:m.nacimiento,onChange:w=>I(C=>({...C,nacimiento:w.target.value})),required:!0})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Ye,{htmlFor:"tallaCamisa",children:"Talla de Camisa *"}),h.jsxs(vh,{value:m.tallaCamisa,onValueChange:w=>I(C=>({...C,tallaCamisa:w})),children:[h.jsx(jc,{id:"tallaCamisa",children:h.jsx(wh,{placeholder:"Selecciona la talla"})}),h.jsx(Fc,{children:T.map(w=>h.jsx(Ws,{value:w,children:w},w))})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Ye,{htmlFor:"email",children:"Email *"}),h.jsx(tn,{id:"email",type:"email",value:m.email,onChange:w=>I(C=>({...C,email:w.target.value})),required:!0,placeholder:"tu@email.com"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Ye,{htmlFor:"telefono",children:"Teléfono *"}),h.jsx(tn,{id:"telefono",value:m.telefono,onChange:w=>I(C=>({...C,telefono:w.target.value})),required:!0,placeholder:"9999-9999"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Ye,{htmlFor:"club",children:"Club/Equipo *"}),h.jsx(tn,{id:"club",value:m.club,onChange:w=>I(C=>({...C,club:w.target.value})),required:!0,placeholder:"Nombre de tu club o equipo"})]})]})]}),h.jsxs(ke,{className:"card-gradient shadow-card",children:[h.jsx(Ne,{children:h.jsx(De,{className:"text-xl text-primary",children:"Datos de Competencia"})}),h.jsxs(rt,{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Ye,{htmlFor:"distancia",children:"Distancia *"}),h.jsxs(vh,{value:m.distancia,onValueChange:w=>I(C=>({...C,distancia:w})),required:!0,children:[h.jsx(jc,{children:h.jsx(wh,{placeholder:"Selecciona la distancia"})}),h.jsxs(Fc,{children:[h.jsx(Ws,{value:"800m",children:"800 metros"}),h.jsx(Ws,{value:"2km",children:"2 kilómetros"}),h.jsx(Ws,{value:"5km",children:"5 kilómetros"})]})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Ye,{htmlFor:"sexo",children:"Sexo *"}),h.jsxs(vh,{value:m.sexo,onValueChange:w=>I(C=>({...C,sexo:w})),required:!0,children:[h.jsx(jc,{children:h.jsx(wh,{placeholder:"Selecciona tu sexo"})}),h.jsxs(Fc,{children:[h.jsx(Ws,{value:"F",children:"Femenino"}),h.jsx(Ws,{value:"M",children:"Masculino"})]})]})]}),m.distancia&&m.nacimiento&&h.jsxs("div",{className:"md:col-span-2",children:[h.jsx(Ye,{children:"Categoría"}),h.jsx("div",{className:"p-3 bg-muted rounded-lg",children:h.jsx("span",{className:"font-semibold text-primary",children:x(m.nacimiento,m.distancia)})})]})]})]}),h.jsxs(ke,{className:"card-gradient shadow-card",children:[h.jsx(Ne,{children:h.jsx(De,{className:"text-xl text-primary",children:"Contacto de Emergencia"})}),h.jsxs(rt,{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Ye,{htmlFor:"emergenciaNombre",children:"Nombre *"}),h.jsx(tn,{id:"emergenciaNombre",value:m.emergenciaNombre,onChange:w=>I(C=>({...C,emergenciaNombre:w.target.value})),required:!0,placeholder:"Nombre del contacto"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Ye,{htmlFor:"emergenciaTel",children:"Teléfono *"}),h.jsx(tn,{id:"emergenciaTel",value:m.emergenciaTel,onChange:w=>I(C=>({...C,emergenciaTel:w.target.value})),required:!0,placeholder:"9999-9999"})]}),h.jsxs("div",{className:"md:col-span-2 space-y-2",children:[h.jsx(Ye,{htmlFor:"medico",children:"Condición médica relevante (opcional)"}),h.jsx(nD,{id:"medico",value:m.medico,onChange:w=>I(C=>({...C,medico:w.target.value})),placeholder:"Medicamentos, alergias, condiciones médicas importantes...",rows:3})]})]})]}),h.jsxs(ke,{className:"card-gradient shadow-card",children:[h.jsx(Ne,{children:h.jsx(De,{className:"text-xl text-primary",children:"Información de Pago"})}),h.jsxs(rt,{className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Ye,{htmlFor:"banco",children:"Banco/Plataforma *"}),h.jsxs(vh,{value:m.banco,onValueChange:w=>I(C=>({...C,banco:w})),required:!0,children:[h.jsx(jc,{children:h.jsx(wh,{placeholder:"Selecciona el banco"})}),h.jsx(Fc,{children:y.map(w=>h.jsx(Ws,{value:w,children:w},w))})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Ye,{htmlFor:"monto",children:"Monto (L) *"}),h.jsx(tn,{id:"monto",type:"number",step:"0.01",value:m.monto,onChange:w=>I(C=>({...C,monto:w.target.value})),required:!0,placeholder:"300.00"})]}),h.jsxs("div",{className:"md:col-span-2 space-y-2",children:[h.jsx(Ye,{htmlFor:"referencia",children:"Número de referencia/transacción *"}),h.jsx(tn,{id:"referencia",value:m.referencia,onChange:w=>I(C=>({...C,referencia:w.target.value})),required:!0,placeholder:"Número de confirmación del pago"})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Ye,{htmlFor:"comprobante",children:"Comprobante de pago * (PDF, JPG, PNG - máx. 5MB)"}),h.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-6 text-center",children:[h.jsx(oL,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),h.jsx(tn,{id:"comprobante",type:"file",accept:".pdf,.jpg,.jpeg,.png",onChange:w=>I(C=>{var D;return{...C,comprobante:((D=w.target.files)==null?void 0:D[0])||null}}),required:!0,className:"max-w-sm mx-auto"}),h.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Sube tu comprobante de pago"})]})]})]})]}),h.jsx(ke,{className:"card-gradient shadow-card",children:h.jsx(rt,{className:"pt-6",children:h.jsxs("div",{className:"flex items-start space-x-3",children:[h.jsx(uD,{id:"rules",checked:o,onCheckedChange:w=>a(w===!0),required:!0}),h.jsxs("div",{className:"space-y-1 leading-none",children:[h.jsx(Ye,{htmlFor:"rules",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Acepto el reglamento y deslinde de responsabilidad *"}),h.jsxs("p",{className:"text-xs text-muted-foreground",children:["Al inscribirme acepto las normas del evento y eximo de responsabilidad a los organizadores."," ",h.jsx(on,{to:"/reglamento",className:"text-primary hover:underline",children:"Leer reglamento completo"})]})]})]})})}),h.jsx("div",{className:"text-center",children:h.jsx($e,{type:"submit",size:"lg",className:"button-gradient shadow-button text-lg px-12 py-6",disabled:s||!o,children:s?h.jsx(h.Fragment,{children:"Procesando inscripción..."}):h.jsxs(h.Fragment,{children:[h.jsx(eL,{className:"mr-2 h-5 w-5"}),"Completar Inscripción"]})})})]})]})]})},fK="/naranjos-swim-fest/assets/Reglamento%20Open%20Water%20Los%20Naranjos-DnfcTBtp.pdf",pK=()=>{const t=[{icon:h.jsx(tL,{className:"h-6 w-6"}),title:"Salida Escalonada",description:"Las salidas se realizarán por categorías de forma escalonada para garantizar la seguridad de todos los participantes."},{icon:h.jsx(Su,{className:"h-6 w-6"}),title:"Límite de Participantes",description:"Máximo 100 participantes. Las inscripciones se cerrarán al completar el cupo o el 4 de octubre de 2025."},{icon:h.jsx(Af,{className:"h-6 w-6"}),title:"Equipo de Seguridad",description:"Salvavidas certificados, embarcaciones de apoyo, paramédicos y ambulancia estarán presentes durante todo el evento."}],e=[{distance:"800m",groups:["Infantiles B (11-12 años)","Juveniles A (13-14 años)","Masters (15+ años)"]},{distance:"2km",groups:["Juveniles B (15-17 años)","20-30 años","30-40 años","40+ años"]},{distance:"5km",groups:["Juveniles B (15-17 años)","20-30 años","30-40 años","40+ años"]}],n=["Gorro de natación","Traje de baño adecuado","Gafas de natación (recomendadas)"],r=["Material de propulsión (aletas, paletas, etc.)","Dispositivos de flotación artificiales","Aparatos electrónicos no autorizados","Elementos que puedan afectar la seguridad"];return h.jsxs("div",{className:"min-h-screen bg-background",children:[h.jsx(wi,{}),h.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[h.jsx("div",{className:"mb-8",children:h.jsx(on,{to:"/",children:h.jsxs($e,{variant:"ghost",children:[h.jsx(Oh,{className:"mr-2 h-4 w-4"}),"Volver al inicio"]})})}),h.jsxs(ke,{className:"card-gradient shadow-card mb-8",children:[h.jsxs(Ne,{className:"text-center",children:[h.jsx(Vf,{variant:"secondary",className:"mx-auto mb-4 w-fit",children:"Documento Oficial"}),h.jsx(De,{className:"text-3xl text-primary",children:"Reglamento Oficial"}),h.jsx(pn,{className:"text-lg",children:"Encuentro de Aguas Abiertas Los Naranjos 2025"})]}),h.jsx(rt,{className:"text-center",children:h.jsx($e,{size:"lg",className:"button-gradient shadow-button",asChild:!0,children:h.jsxs("a",{href:fK,download:!0,target:"_blank",rel:"noopener noreferrer",children:[h.jsx(BC,{className:"mr-2 h-5 w-5"}),"Descargar PDF Completo"]})})})]}),h.jsxs(ke,{className:"card-gradient shadow-card mb-8",children:[h.jsx(Ne,{children:h.jsxs(De,{className:"text-2xl text-primary flex items-center gap-2",children:[h.jsx(Ky,{className:"h-6 w-6"}),"Información del Evento"]})}),h.jsxs(rt,{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-primary mb-2",children:"Fecha y Hora"}),h.jsx("p",{className:"text-muted-foreground mb-4",children:"12 de octubre de 2025, 7:00 AM"}),h.jsx("h4",{className:"font-semibold text-primary mb-2",children:"Ubicación"}),h.jsx("p",{className:"text-muted-foreground mb-4",children:"Lago de Yojoa, Los Naranjos, Honduras"}),h.jsx("h4",{className:"font-semibold text-primary mb-2",children:"Organización"}),h.jsx("p",{className:"text-muted-foreground",children:"Entrenadores de Natación San Pedro Sula"})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-primary mb-2",children:"Cupo"}),h.jsx("p",{className:"text-muted-foreground",children:"Máximo 100 participantes"})]})]})]}),h.jsxs(ke,{className:"card-gradient shadow-card mb-8",children:[h.jsx(Ne,{children:h.jsx(De,{className:"text-2xl text-primary",children:"Normas Principales"})}),h.jsx(rt,{children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.map((s,i)=>h.jsxs("div",{className:"flex items-start gap-4 p-4 rounded-lg bg-muted/30",children:[h.jsx("div",{className:"text-primary",children:s.icon}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-primary mb-2",children:s.title}),h.jsx("p",{className:"text-sm text-muted-foreground",children:s.description})]})]},i)),h.jsxs("div",{className:"flex items-start gap-4 p-4 rounded-lg bg-muted/30",children:[h.jsx("div",{className:"text-primary",children:h.jsx(Su,{className:"h-6 w-6"})}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-primary mb-2",children:"Costo de Inscripción"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"L 300.00. Por participante!!  Deposita en BAC Honduras 743657881 a nombre de CARLOS RENE CERRATO OSORIO."})]})]})]})})]}),h.jsxs(ke,{className:"card-gradient shadow-card mb-8",children:[h.jsx(Ne,{children:h.jsx(De,{className:"text-2xl text-primary",children:"Distancias y Categorías"})}),h.jsx(rt,{children:h.jsx("div",{className:"space-y-6",children:e.map((s,i)=>h.jsxs("div",{className:"border-l-4 border-primary pl-6",children:[h.jsx("h4",{className:"text-xl font-semibold text-primary mb-3",children:s.distance}),h.jsx("div",{className:"flex flex-wrap gap-2",children:s.groups.map((o,a)=>h.jsx(Vf,{variant:"secondary",children:o},a))})]},i))})})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[h.jsxs(ke,{className:"card-gradient shadow-card",children:[h.jsx(Ne,{children:h.jsx(De,{className:"text-xl text-primary",children:"Equipo Permitido"})}),h.jsx(rt,{children:h.jsx("ul",{className:"space-y-3",children:n.map((s,i)=>h.jsxs("li",{className:"flex items-start gap-3",children:[h.jsx("div",{className:"w-2 h-2 bg-primary rounded-full mt-2"}),h.jsx("span",{className:"text-sm",children:s})]},i))})})]}),h.jsxs(ke,{className:"card-gradient shadow-card",children:[h.jsx(Ne,{children:h.jsx(De,{className:"text-xl text-destructive",children:"Equipo Prohibido"})}),h.jsx(rt,{children:h.jsx("ul",{className:"space-y-3",children:r.map((s,i)=>h.jsxs("li",{className:"flex items-start gap-3",children:[h.jsx("div",{className:"w-2 h-2 bg-destructive rounded-full mt-2"}),h.jsx("span",{className:"text-sm",children:s})]},i))})})]})]}),h.jsxs(ke,{className:"card-gradient shadow-card mb-8",children:[h.jsx(Ne,{children:h.jsxs(De,{className:"text-2xl text-primary flex items-center gap-2",children:[h.jsx(Af,{className:"h-6 w-6"}),"Medidas de Seguridad"]})}),h.jsxs(rt,{className:"space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-primary mb-2",children:"Personal de Seguridad"}),h.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[h.jsx("li",{children:"• Salvavidas certificados"}),h.jsx("li",{children:"• Embarcaciones de apoyo"}),h.jsx("li",{children:"• Personal de rescate acuático"})]})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-primary mb-2",children:"Asistencia Médica"}),h.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[h.jsx("li",{children:"• Paramédicos en meta"}),h.jsx("li",{children:"• Ambulancia disponible"}),h.jsx("li",{children:"• Botiquín de primeros auxilios"})]})]})]}),h.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg",children:[h.jsx("h4",{className:"font-semibold text-primary mb-2",children:"Retiro Voluntario"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Los participantes pueden retirarse voluntariamente en cualquier momento, pero deben avisar inmediatamente al personal de seguridad más cercano."})]})]})]}),h.jsxs(ke,{className:"card-gradient shadow-card mb-8",children:[h.jsx(Ne,{children:h.jsx(De,{className:"text-2xl text-primary",children:"Condiciones Climáticas y del Agua"})}),h.jsxs(rt,{className:"space-y-4",children:[h.jsx("p",{className:"text-muted-foreground",children:"La organización se reserva el derecho de suspender, posponer o modificar el evento en caso de condiciones climáticas adversas o calidad del agua que comprometan la seguridad de los participantes."}),h.jsxs("div",{className:"bg-lake-light/20 p-4 rounded-lg border border-lake-blue/20",children:[h.jsx("h4",{className:"font-semibold text-primary mb-2",children:"Monitoreo Continuo"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Las condiciones del lago y el clima serán monitoreadas constantemente. Cualquier cambio o decisión será comunicada a los participantes con la mayor anticipación posible."})]})]})]}),h.jsxs(ke,{className:"card-gradient shadow-card mb-8",children:[h.jsx(Ne,{children:h.jsx(De,{className:"text-2xl text-primary",children:"Reclamaciones y Resultados"})}),h.jsx(rt,{className:"space-y-4",children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-primary mb-2",children:"Tiempo para Reclamaciones"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Las reclamaciones sobre resultados deben presentarse hasta 30 minutos después de la publicación de los resultados oficiales."})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-primary mb-2",children:"Publicación de Resultados"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Los resultados se publicarán en el sitio web oficial y en el área de premiación el mismo día del evento."})]})]})})]}),h.jsxs(ke,{className:"bg-destructive/5 border-destructive/20 shadow-card mb-8",children:[h.jsx(Ne,{children:h.jsx(De,{className:"text-2xl text-destructive",children:"Deslinde de Responsabilidad"})}),h.jsxs(rt,{className:"space-y-4",children:[h.jsxs("p",{className:"text-sm text-muted-foreground",children:[h.jsx("strong",{children:"IMPORTANTE:"})," Al inscribirse en este evento, el participante acepta:"]}),h.jsxs("ul",{className:"text-sm text-muted-foreground space-y-2 pl-4",children:[h.jsx("li",{children:"• Conocer y aceptar todos los términos del presente reglamento"}),h.jsx("li",{children:"• Eximinar de responsabilidad a los organizadores por cualquier accidente, lesión o daño"}),h.jsx("li",{children:"• Confirmar que posee las condiciones físicas necesarias para participar"}),h.jsx("li",{children:"• Autorizar el uso de su imagen en material promocional del evento"})]}),h.jsx("div",{className:"bg-destructive/10 p-4 rounded-lg border border-destructive/20",children:h.jsx("p",{className:"text-sm font-medium text-destructive",children:"La participación en este evento es bajo la total responsabilidad del participante."})})]})]}),h.jsx("div",{className:"text-center",children:h.jsx(on,{to:"/inscripcion",children:h.jsxs($e,{size:"lg",className:"button-gradient shadow-button text-lg px-12 py-6",children:[h.jsx($C,{className:"mr-2 h-5 w-5"}),"Proceder a Inscripción"]})})})]})]})},mK=()=>{const{toast:t}=$w(),{registrations:e,stats:n,updateRegistrationStatus:r,toggleCheckIn:s,isLoading:i,error:o}=R0(),a=_.useMemo(()=>"gustavomartinezh87@gmail.com".split(",").map(j=>j.trim().toLowerCase()).filter(Boolean),[]),[l,c]=_.useState({email:"",password:""}),[d,f]=_.useState(null),[p,m]=_.useState(null),[I,y]=_.useState(!0),[T,x]=_.useState(!1),[v,w]=_.useState(""),[C,D]=_.useState(""),[M,b]=_.useState(""),[S,R]=_.useState(""),P=async j=>{j.preventDefault(),x(!0),f(null);try{const H=l.email.trim().toLowerCase();if(!a.includes(H))throw new Error("Este correo no está autorizado para acceder al panel.");await W8(hh,H,l.password),t({title:"Acceso autorizado",description:"Bienvenido al panel de administración"})}catch(H){let X="No se pudo autenticar. Intenta nuevamente.";if(H instanceof In)switch(H.code){case"auth/invalid-credential":case"auth/wrong-password":X="Contraseña incorrecta.";break;case"auth/user-not-found":X="No existe un usuario con ese correo.";break;case"auth/too-many-requests":X="Demasiados intentos. Espera unos minutos antes de volver a intentar.";break;default:X=H.message}else H instanceof Error&&(X=H.message);f(X),t({variant:"destructive",title:"Error",description:X})}finally{x(!1)}};_.useEffect(()=>{const j=Q8(hh,async H=>{var X;if(f(null),H){const ae=((X=H.email)==null?void 0:X.toLowerCase())??"";a.includes(ae)?m(H):(await u1(hh),m(null),t({variant:"destructive",title:"Acceso denegado",description:"Tu cuenta no tiene permiso para acceder al panel de administración."}))}else m(null);y(!1)});return()=>j()},[a,t]);const N=(p==null?void 0:p.email)??"",O=async()=>{try{await u1(hh),t({title:"Sesión cerrada",description:"Has salido del panel de administración."})}catch{t({variant:"destructive",title:"Error",description:"No se pudo cerrar la sesión. Intenta nuevamente."})}},k=_.useMemo(()=>{const j=v.trim().toLowerCase();return e.filter(H=>{const X=!j||[H.nombre,H.dni,H.email,H.telefono,H.referencia,H.dorsal].map(ce=>String(ce||"").toLowerCase()).some(ce=>ce.includes(j)),ae=!C||H.status===C,le=!M||H.distancia===M,we=!S||H.categoria===S;return X&&ae&&le&&we}).sort((H,X)=>new Date(X.createdAt).getTime()-new Date(H.createdAt).getTime())},[e,v,C,M,S]),q=j=>{const H=new Date(j);return Number.isNaN(H.getTime())?j:H.toLocaleString("es-HN",{dateStyle:"medium",timeStyle:"short"})},re=async(j,H)=>{const X={validated:{title:"Inscripción validada",description:"El participante aparece ahora como validado en el panel."},rejected:{title:"Inscripción rechazada",description:"Recuerda comunicar al participante el motivo del rechazo."},pending:{title:"Inscripción pendiente",description:"El registro volvió al estado pendiente para revisión."}};try{await r(j,H,H==="pending"?{checkedInAt:null,checkedInBy:null}:{}),t(X[H])}catch(ae){console.error("Error al actualizar estado",ae),t({variant:"destructive",title:"Error",description:"No se pudo actualizar el estado. Intenta nuevamente."})}},te=j=>{t({title:j.nombre,description:`DNI: ${j.dni} | Email: ${j.email} | Tel: ${j.telefono||"No indicado"} | Talla: ${j.tallaCamisa||"No indicada"} | Comprobante: ${j.comprobanteNombre??"No adjuntado"}`})},ie=j=>{if(!j.comprobanteUrl){t({variant:"destructive",title:"Sin comprobante",description:"Este registro no tiene un comprobante adjunto."});return}window.open(j.comprobanteUrl,"_blank","noopener,noreferrer")},U=async j=>{try{const H=!j.checkedInAt;await s(j.id,H,N||"admin@losnaranjos.com"),t({title:H?"Check-in registrado":"Check-in revertido",description:H?`El participante ${j.nombre} quedó marcado como presente.`:`El check-in de ${j.nombre} fue revertido.`})}catch(H){console.error("Error al registrar check-in",H),t({variant:"destructive",title:"Error",description:"No se pudo registrar el check-in. Intenta nuevamente."})}},$=()=>{if(!e.length){t({title:"Sin datos",description:"Aún no hay inscripciones para exportar."});return}const j=["Dorsal","Nombre","DNI","Email","Teléfono","Distancia","Categoría","Talla","Banco","Monto","Referencia","Estado","Check-in","Check-in por","Fecha registro"],H=e.map(ce=>[ce.dorsal,ce.nombre,ce.dni,ce.email,ce.telefono,ce.distancia,ce.categoria,ce.tallaCamisa,ce.banco,ce.monto,ce.referencia,ce.status,ce.checkedInAt?ce.checkedInAt:"",ce.checkedInBy??"",ce.createdAt]),X=[j,...H].map(ce=>ce.map(J=>`"${String(J??"").replace(/"/g,'""')}"`).join(",")).join(`
`),ae=new Blob([X],{type:"text/csv;charset=utf-8;"}),le=URL.createObjectURL(ae),we=document.createElement("a");we.href=le,we.download=`inscripciones-${new Date().toISOString()}.csv`,document.body.appendChild(we),we.click(),document.body.removeChild(we),URL.revokeObjectURL(le),t({title:"Exportación lista",description:"El archivo CSV se descargó correctamente."})};return I?h.jsxs("div",{className:"min-h-screen bg-background",children:[h.jsx(wi,{}),h.jsx("div",{className:"flex items-center justify-center px-4 py-32",children:h.jsx(ke,{className:"card-gradient shadow-card max-w-sm w-full",children:h.jsxs(Ne,{className:"text-center",children:[h.jsx(De,{className:"text-xl",children:"Cargando autenticación..."}),h.jsx(pn,{children:"Por favor espera un momento."})]})})})]}):p?h.jsxs("div",{className:"min-h-screen bg-background",children:[h.jsx(wi,{}),h.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[h.jsx("div",{className:"mb-8",children:h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-primary",children:"Panel de Administración"}),h.jsx("p",{className:"text-muted-foreground",children:"Gestión de inscripciones - Los Naranjos 2025"})]}),h.jsx($e,{variant:"outline",onClick:O,children:"Cerrar Sesión"})]})}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-6 mb-8",children:[h.jsx(ke,{className:"card-gradient shadow-card",children:h.jsxs(Ne,{className:"text-center pb-3",children:[h.jsx(De,{className:"text-2xl text-primary",children:n.total}),h.jsx(pn,{children:"Total Inscritos"})]})}),h.jsx(ke,{className:"card-gradient shadow-card",children:h.jsxs(Ne,{className:"text-center pb-3",children:[h.jsx(De,{className:"text-2xl text-warm-accent",children:n.pending}),h.jsx(pn,{children:"Pendientes"})]})}),h.jsx(ke,{className:"card-gradient shadow-card",children:h.jsxs(Ne,{className:"text-center pb-3",children:[h.jsx(De,{className:"text-2xl text-lake-green",children:n.validated}),h.jsx(pn,{children:"Validados"})]})}),h.jsx(ke,{className:"card-gradient shadow-card",children:h.jsxs(Ne,{className:"text-center pb-3",children:[h.jsx(De,{className:"text-2xl text-secondary",children:n.checkedIn}),h.jsx(pn,{children:"Check-in"})]})}),h.jsx(ke,{className:"card-gradient shadow-card",children:h.jsxs(Ne,{className:"text-center pb-3",children:[h.jsx(De,{className:"text-2xl text-destructive",children:n.rejected}),h.jsx(pn,{children:"Rechazados"})]})}),h.jsx(ke,{className:"card-gradient shadow-card",children:h.jsxs(Ne,{className:"text-center pb-3",children:[h.jsx(De,{className:"text-2xl text-primary",children:n.remaining}),h.jsx(pn,{children:"Cupos Restantes"})]})})]}),h.jsxs("div",{className:"flex flex-wrap gap-4 mb-8",children:[h.jsxs($e,{className:"button-gradient shadow-button",onClick:$,children:[h.jsx(BC,{className:"mr-2 h-4 w-4"}),"Exportar CSV"]}),h.jsxs($e,{variant:"outline",children:[h.jsx(sL,{className:"mr-2 h-4 w-4"}),"Lector QR"]}),h.jsxs($e,{variant:"outline",children:[h.jsx(Su,{className:"mr-2 h-4 w-4"}),"Check-in"]})]}),h.jsxs(ke,{className:"card-gradient shadow-card mb-8",children:[h.jsx(Ne,{children:h.jsx(De,{className:"text-xl text-primary",children:"Filtros y Búsqueda"})}),h.jsx(rt,{children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Ye,{children:"Buscar"}),h.jsxs("div",{className:"relative",children:[h.jsx(iL,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),h.jsx(tn,{className:"pl-10",placeholder:"DNI, nombre, referencia...",value:v,onChange:j=>w(j.target.value)})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Ye,{children:"Estado"}),h.jsxs("select",{className:"w-full px-3 py-2 border border-border rounded-md bg-background",value:C,onChange:j=>D(j.target.value),children:[h.jsx("option",{value:"",children:"Todos"}),h.jsx("option",{value:"pending",children:"Pendientes"}),h.jsx("option",{value:"validated",children:"Validados"}),h.jsx("option",{value:"rejected",children:"Rechazados"})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Ye,{children:"Distancia"}),h.jsxs("select",{className:"w-full px-3 py-2 border border-border rounded-md bg-background",value:M,onChange:j=>b(j.target.value),children:[h.jsx("option",{value:"",children:"Todas"}),h.jsx("option",{value:"800m",children:"800m"}),h.jsx("option",{value:"2km",children:"2km"}),h.jsx("option",{value:"5km",children:"5km"})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Ye,{children:"Categoría"}),h.jsxs("select",{className:"w-full px-3 py-2 border border-border rounded-md bg-background",value:S,onChange:j=>R(j.target.value),children:[h.jsx("option",{value:"",children:"Todas"}),h.jsx("option",{value:"Infantiles B (11-12)",children:"Infantiles B (11-12)"}),h.jsx("option",{value:"Juveniles A (13-14)",children:"Juveniles A (13-14)"}),h.jsx("option",{value:"Juveniles B (15-17)",children:"Juveniles B (15-17)"}),h.jsx("option",{value:"20-30",children:"20-30"}),h.jsx("option",{value:"30-40",children:"30-40"}),h.jsx("option",{value:"40+",children:"40+"}),h.jsx("option",{value:"Masters",children:"Masters"})]})]})]})})]}),h.jsxs(ke,{className:"card-gradient shadow-card",children:[h.jsx(Ne,{children:h.jsx(De,{className:"text-xl text-primary",children:"Inscripciones"})}),h.jsx(rt,{children:h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full text-sm",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"border-b border-border",children:[h.jsx("th",{className:"text-left py-3 px-2",children:"Fecha"}),h.jsx("th",{className:"text-left py-3 px-2",children:"Dorsal"}),h.jsx("th",{className:"text-left py-3 px-2",children:"Nombre"}),h.jsx("th",{className:"text-left py-3 px-2",children:"DNI"}),h.jsx("th",{className:"text-left py-3 px-2",children:"Distancia"}),h.jsx("th",{className:"text-left py-3 px-2",children:"Categoría"}),h.jsx("th",{className:"text-left py-3 px-2",children:"Talla"}),h.jsx("th",{className:"text-left py-3 px-2",children:"Banco"}),h.jsx("th",{className:"text-left py-3 px-2",children:"Monto"}),h.jsx("th",{className:"text-left py-3 px-2",children:"Referencia"}),h.jsx("th",{className:"text-left py-3 px-2",children:"Check-in"}),h.jsx("th",{className:"text-left py-3 px-2",children:"Estado"}),h.jsx("th",{className:"text-left py-3 px-2",children:"Acciones"})]})}),h.jsx("tbody",{children:i?h.jsx("tr",{children:h.jsx("td",{className:"py-6 text-center text-muted-foreground",colSpan:13,children:"Cargando inscripciones..."})}):o?h.jsx("tr",{children:h.jsx("td",{className:"py-6 text-center text-destructive",colSpan:13,children:o})}):k.length===0?h.jsx("tr",{children:h.jsx("td",{className:"py-6 text-center text-muted-foreground",colSpan:13,children:"No hay inscripciones que coincidan con los filtros seleccionados."})}):k.map(j=>h.jsxs("tr",{className:"border-b border-border hover:bg-muted/30",children:[h.jsx("td",{className:"py-3 px-2",children:q(j.createdAt)}),h.jsxs("td",{className:"py-3 px-2 font-mono",children:["#",j.dorsal]}),h.jsx("td",{className:"py-3 px-2 font-medium",children:j.nombre}),h.jsx("td",{className:"py-3 px-2 font-mono text-sm",children:j.dni}),h.jsx("td",{className:"py-3 px-2",children:j.distancia}),h.jsx("td",{className:"py-3 px-2",children:j.categoria||"N/A"}),h.jsx("td",{className:"py-3 px-2",children:j.tallaCamisa||"N/A"}),h.jsx("td",{className:"py-3 px-2",children:j.banco||"N/A"}),h.jsx("td",{className:"py-3 px-2",children:j.monto?`L ${j.monto}`:"N/A"}),h.jsx("td",{className:"py-3 px-2 font-mono text-sm",children:j.referencia||"N/A"}),h.jsx("td",{className:"py-3 px-2",children:j.checkedInAt?q(j.checkedInAt):"Pendiente"}),h.jsx("td",{className:"py-3 px-2",children:h.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${j.status==="validated"?"bg-lake-green/20 text-lake-green":j.status==="pending"?"bg-warm-accent/20 text-warm-accent":"bg-destructive/20 text-destructive"}`,children:j.status==="validated"?"Validado":j.status==="pending"?"Pendiente":"Rechazado"})}),h.jsx("td",{className:"py-3 px-2",children:h.jsxs("div",{className:"flex gap-1",children:[h.jsx($e,{size:"sm",variant:"outline",onClick:()=>te(j),children:"Ver"}),h.jsx($e,{size:"sm",variant:"outline",onClick:()=>ie(j),disabled:!j.comprobanteUrl,children:"Comprobante"}),h.jsx($e,{size:"sm",variant:"outline",className:j.checkedInAt?"bg-lake-green/10 text-lake-green":"",onClick:()=>U(j),disabled:j.status==="rejected"||j.status==="pending"&&!j.checkedInAt,children:j.checkedInAt?"Revertir":"Check-in"}),j.status==="pending"?h.jsxs(h.Fragment,{children:[h.jsx($e,{size:"sm",variant:"outline",className:"text-lake-green",onClick:()=>re(j.id,"validated"),children:"✓"}),h.jsx($e,{size:"sm",variant:"outline",className:"text-destructive",onClick:()=>re(j.id,"rejected"),children:"✗"})]}):h.jsx($e,{size:"sm",variant:"outline",onClick:()=>re(j.id,"pending"),children:"Pend."})]})})]},j.id))})]})})})]})]})]}):h.jsxs("div",{className:"min-h-screen bg-background",children:[h.jsx(wi,{}),h.jsx("div",{className:"max-w-md mx-auto px-4 py-16",children:h.jsxs(ke,{className:"card-gradient shadow-card",children:[h.jsxs(Ne,{className:"text-center",children:[h.jsx(Af,{className:"h-16 w-16 text-primary mx-auto mb-4"}),h.jsx(De,{className:"text-2xl",children:"Acceso Restringido"}),h.jsx(pn,{children:"Panel de administración del Encuentro de Aguas Abiertas Los Naranjos"})]}),h.jsxs(rt,{children:[h.jsxs("form",{onSubmit:P,className:"space-y-6",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Ye,{htmlFor:"email",children:"Email"}),h.jsx(tn,{id:"email",type:"email",value:l.email,onChange:j=>c(H=>({...H,email:j.target.value})),required:!0,placeholder:"admin@losnaranjos.com"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Ye,{htmlFor:"password",children:"Contraseña"}),h.jsx(tn,{id:"password",type:"password",value:l.password,onChange:j=>c(H=>({...H,password:j.target.value})),required:!0,placeholder:"••••••••"})]}),h.jsx($e,{type:"submit",className:"w-full button-gradient shadow-button",disabled:T,children:T?h.jsx(h.Fragment,{children:"Verificando..."}):h.jsxs(h.Fragment,{children:[h.jsx(nL,{className:"mr-2 h-4 w-4"}),"Iniciar Sesión"]})}),d&&h.jsx("p",{className:"text-sm text-destructive text-center",children:d})]}),h.jsx("div",{className:"mt-6 text-center text-sm text-muted-foreground",children:h.jsx("p",{children:"Ingresa con una cuenta autorizada."})})]})]})})]})},gK=()=>{const t=Ss();return _.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),h.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:h.jsxs("div",{className:"text-center",children:[h.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),h.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),h.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},yK=new P4,vK=()=>h.jsx(N4,{client:yK,children:h.jsxs(o4,{children:[h.jsx(zL,{}),h.jsx(xj,{}),h.jsx(W3,{basename:"/naranjos-swim-fest/",children:h.jsxs(T3,{children:[h.jsx(_a,{path:"/",element:h.jsx(DH,{})}),h.jsx(_a,{path:"/inscripcion",element:h.jsx(hK,{})}),h.jsx(_a,{path:"/reglamento",element:h.jsx(pK,{})}),h.jsx(_a,{path:"/admin",element:h.jsx(mK,{})}),h.jsx(_a,{path:"*",element:h.jsx(gK,{})})]})})]})});lC(document.getElementById("root")).render(h.jsx(NH,{children:h.jsx(vK,{})}));
